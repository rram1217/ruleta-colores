(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function UT(){if(Ay)return ql;Ay=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Sy;function LT(){return Sy||(Sy=1,Of.exports=UT()),Of.exports}var Z=LT(),xf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function PT(){if(by)return wt;by=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,it={};function $(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||G}$.prototype.isReactComponent={},$.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ht(){}ht.prototype=$.prototype;function At(D,K,nt){this.props=D,this.context=K,this.refs=it,this.updater=nt||G}var mt=At.prototype=new ht;mt.constructor=At,tt(mt,$.prototype),mt.isPureReactComponent=!0;var kt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function N(D,K,nt,et,ot,Ct){return nt=Ct.ref,{$$typeof:r,type:D,key:K,ref:nt!==void 0?nt:null,props:Ct}}function b(D,K){return N(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var I=/\/+/g;function U(D,K){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):K.toString(36)}function S(){}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(S,S):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function vt(D,K,nt,et,ot){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case e:Et=!0;break;case A:return Et=D._init,vt(Et(D._payload),K,nt,et,ot)}}if(Et)return ot=ot(D),Et=et===""?"."+U(D,0):et,kt(ot)?(nt="",Et!=null&&(nt=Et.replace(I,"$&/")+"/"),vt(ot,K,nt,"",function(Mn){return Mn})):ot!=null&&(w(ot)&&(ot=b(ot,nt+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(I,"$&/")+"/")+Et)),K.push(ot)),1;Et=0;var Oe=et===""?".":et+":";if(kt(D))for(var Ft=0;Ft<D.length;Ft++)et=D[Ft],Ct=Oe+U(et,Ft),Et+=vt(et,K,nt,Ct,ot);else if(Ft=M(D),typeof Ft=="function")for(D=Ft.call(D),Ft=0;!(et=D.next()).done;)et=et.value,Ct=Oe+U(et,Ft++),Et+=vt(et,K,nt,Ct,ot);else if(Ct==="object"){if(typeof D.then=="function")return vt(ut(D),K,nt,et,ot);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Et}function j(D,K,nt){if(D==null)return D;var et=[],ot=0;return vt(D,et,"","",function(Ct){return K.call(nt,Ct,ot++)}),et}function J(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Rt(){}return wt.Children={map:j,forEach:function(D,K,nt){j(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return j(D,function(){K++}),K},toArray:function(D){return j(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=$,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=At,wt.StrictMode=a,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=tt({},D.props),ot=D.key,Ct=void 0;if(K!=null)for(Et in K.ref!==void 0&&(Ct=void 0),K.key!==void 0&&(ot=""+K.key),K)!xt.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(et[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)et.children=nt;else if(1<Et){for(var Oe=Array(Et),Ft=0;Ft<Et;Ft++)Oe[Ft]=arguments[Ft+2];et.children=Oe}return N(D.type,ot,void 0,void 0,Ct,et)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},wt.createElement=function(D,K,nt){var et,ot={},Ct=null;if(K!=null)for(et in K.key!==void 0&&(Ct=""+K.key),K)xt.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ot[et]=K[et]);var Et=arguments.length-2;if(Et===1)ot.children=nt;else if(1<Et){for(var Oe=Array(Et),Ft=0;Ft<Et;Ft++)Oe[Ft]=arguments[Ft+2];ot.children=Oe}if(D&&D.defaultProps)for(et in Et=D.defaultProps,Et)ot[et]===void 0&&(ot[et]=Et[et]);return N(D,Ct,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=w,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:J}},wt.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},wt.startTransition=function(D){var K=pt.T,nt={};pt.T=nt;try{var et=D(),ot=pt.S;ot!==null&&ot(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Rt,lt)}catch(Ct){lt(Ct)}finally{pt.T=K}},wt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},wt.use=function(D){return pt.H.use(D)},wt.useActionState=function(D,K,nt){return pt.H.useActionState(D,K,nt)},wt.useCallback=function(D,K){return pt.H.useCallback(D,K)},wt.useContext=function(D){return pt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,K){return pt.H.useDeferredValue(D,K)},wt.useEffect=function(D,K,nt){var et=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,K)},wt.useId=function(){return pt.H.useId()},wt.useImperativeHandle=function(D,K,nt){return pt.H.useImperativeHandle(D,K,nt)},wt.useInsertionEffect=function(D,K){return pt.H.useInsertionEffect(D,K)},wt.useLayoutEffect=function(D,K){return pt.H.useLayoutEffect(D,K)},wt.useMemo=function(D,K){return pt.H.useMemo(D,K)},wt.useOptimistic=function(D,K){return pt.H.useOptimistic(D,K)},wt.useReducer=function(D,K,nt){return pt.H.useReducer(D,K,nt)},wt.useRef=function(D){return pt.H.useRef(D)},wt.useState=function(D){return pt.H.useState(D)},wt.useSyncExternalStore=function(D,K,nt){return pt.H.useSyncExternalStore(D,K,nt)},wt.useTransition=function(){return pt.H.useTransition()},wt.version="19.1.1",wt}var Ry;function _d(){return Ry||(Ry=1,xf.exports=PT()),xf.exports}var Je=_d(),Uf={exports:{}},Hl={},Lf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function zT(){return wy||(wy=1,(function(r){function e(j,J){var lt=j.length;j.push(J);t:for(;0<lt;){var Rt=lt-1>>>1,D=j[Rt];if(0<o(D,J))j[Rt]=J,j[lt]=D,lt=Rt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var J=j[0],lt=j.pop();if(lt!==J){j[0]=lt;t:for(var Rt=0,D=j.length,K=D>>>1;Rt<K;){var nt=2*(Rt+1)-1,et=j[nt],ot=nt+1,Ct=j[ot];if(0>o(et,lt))ot<D&&0>o(Ct,et)?(j[Rt]=Ct,j[ot]=lt,Rt=ot):(j[Rt]=et,j[nt]=lt,Rt=nt);else if(ot<D&&0>o(Ct,lt))j[Rt]=Ct,j[ot]=lt,Rt=ot;else break t}}return J}function o(j,J){var lt=j.sortIndex-J.sortIndex;return lt!==0?lt:j.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,M=3,G=!1,tt=!1,it=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function kt(j){for(var J=i(_);J!==null;){if(J.callback===null)a(_);else if(J.startTime<=j)a(_),J.sortIndex=J.expirationTime,e(v,J);else break;J=i(_)}}function pt(j){if(it=!1,kt(j),!tt)if(i(v)!==null)tt=!0,xt||(xt=!0,U());else{var J=i(_);J!==null&&vt(pt,J.startTime-j)}}var xt=!1,N=-1,b=5,w=-1;function O(){return $?!0:!(r.unstable_now()-w<b)}function I(){if($=!1,xt){var j=r.unstable_now();w=j;var J=!0;try{t:{tt=!1,it&&(it=!1,At(N),N=-1),G=!0;var lt=M;try{e:{for(kt(j),C=i(v);C!==null&&!(C.expirationTime>j&&O());){var Rt=C.callback;if(typeof Rt=="function"){C.callback=null,M=C.priorityLevel;var D=Rt(C.expirationTime<=j);if(j=r.unstable_now(),typeof D=="function"){C.callback=D,kt(j),J=!0;break e}C===i(v)&&a(v),kt(j)}else a(v);C=i(v)}if(C!==null)J=!0;else{var K=i(_);K!==null&&vt(pt,K.startTime-j),J=!1}}break t}finally{C=null,M=lt,G=!1}J=void 0}}finally{J?U():xt=!1}}}var U;if(typeof mt=="function")U=function(){mt(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ut=S.port2;S.port1.onmessage=I,U=function(){ut.postMessage(null)}}else U=function(){ht(I,0)};function vt(j,J){N=ht(function(){j(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(j){switch(M){case 1:case 2:case 3:var J=3;break;default:J=M}var lt=M;M=J;try{return j()}finally{M=lt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(j,J){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=M;M=j;try{return J()}finally{M=lt}},r.unstable_scheduleCallback=function(j,J,lt){var Rt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Rt+lt:Rt):lt=Rt,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,j={id:A++,callback:J,priorityLevel:j,startTime:lt,expirationTime:D,sortIndex:-1},lt>Rt?(j.sortIndex=lt,e(_,j),i(v)===null&&j===i(_)&&(it?(At(N),N=-1):it=!0,vt(pt,lt-Rt))):(j.sortIndex=D,e(v,j),tt||G||(tt=!0,xt||(xt=!0,U()))),j},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(j){var J=M;return function(){var lt=M;M=J;try{return j.apply(this,arguments)}finally{M=lt}}}})(Pf)),Pf}var Cy;function kT(){return Cy||(Cy=1,Lf.exports=zT()),Lf.exports}var zf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function BT(){if(Dy)return Ge;Dy=1;var r=_d();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:C,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var Iy;function jT(){if(Iy)return zf.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zf.exports=BT(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function qT(){if(Vy)return Hl;Vy=1;var r=kT(),e=_d(),i=jT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ht=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case $:return"Profiler";case it:return"StrictMode";case pt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var vt=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Rt=[],D=-1;function K(t){return{current:t}}function nt(t){0>D||(t.current=Rt[D],Rt[D]=null,D--)}function et(t,n){D++,Rt[D]=t.current,t.current=n}var ot=K(null),Ct=K(null),Et=K(null),Oe=K(null);function Ft(t,n){switch(et(Et,n),et(Ct,t),et(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$p(n),t=Zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ot),et(ot,t)}function Mn(){nt(ot),nt(Ct),nt(Et)}function La(t){t.memoizedState!==null&&et(Oe,t);var n=ot.current,s=Zp(n,t.type);n!==s&&(et(Ct,t),et(ot,s))}function Dr(t){Ct.current===t&&(nt(ot),nt(Ct)),Oe.current===t&&(nt(Oe),Pl._currentValue=lt)}var Ir=Object.prototype.hasOwnProperty,Us=r.unstable_scheduleCallback,Vr=r.unstable_cancelCallback,Oc=r.unstable_shouldYield,Pa=r.unstable_requestPaint,tn=r.unstable_now,To=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,xc=r.unstable_LowPriority,za=r.unstable_IdlePriority,Uc=r.log,Ls=r.unstable_setDisableYieldValue,Li=null,je=null;function En(t){if(typeof Uc=="function"&&Ls(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Li,t)}catch{}}var Ye=Math.clz32?Math.clz32:So,Lc=Math.log,Ao=Math.LN2;function So(t){return t>>>=0,t===0?32:31-(Lc(t)/Ao|0)|0}var Gn=256,Pi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=On(l):(y&=E,y!==0?c=On(y):s||(s=E&~t,s!==0&&(c=On(s))))):(E=l&~f,E!==0?c=On(E):y!==0?c=On(y):s||(s=l&~t,s!==0&&(c=On(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function zi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=Gn;return Gn<<=1,(Gn&4194048)===0&&(Gn=256),t}function ki(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Mr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var H=31-Ye(s),Q=1<<H;E[H]=0,R[H]=-1;var k=z[H];if(k!==null)for(z[H]=null,H=0;H<k.length;H++){var B=k[H];B!==null&&(B.lane&=-536870913)}s&=~Q}l!==0&&Bi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Bi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function ji(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ye(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ja(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fi(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Pc(t,n){var s=J.p;try{return J.p=t,n()}finally{J.p=s}}var Fn=Math.random().toString(36).slice(2),ue="__reactFiber$"+Fn,xe="__reactProps$"+Fn,di="__reactContainer$"+Fn,Ps="__reactEvents$"+Fn,zs="__reactListeners$"+Fn,zc="__reactHandles$"+Fn,xn="__reactResources$"+Fn,qi="__reactMarker$"+Fn;function Or(t){delete t[ue],delete t[xe],delete t[Ps],delete t[zs],delete t[zc]}function Qn(t){var n=t[ue];if(n)return n;for(var s=t.parentNode;s;){if(n=s[di]||s[ue]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ey(t);t!==null;){if(s=t[ue])return s;t=ey(t)}return n}t=s,s=t.parentNode}return null}function Yn(t){if(t=t[ue]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Gi(t){var n=t[xn];return n||(n=t[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[qi]=!0}var Ro=new Set,ks={};function Kn(t,n){Xn(t,n),Xn(t+"Capture",n)}function Xn(t,n){for(ks[t]=n,t=0;t<n.length;t++)Ro.add(n[t])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$n={},xr={};function kc(t){return Ir.call(xr,t)?!0:Ir.call($n,t)?!1:Bs.test(t)?xr[t]=!0:($n[t]=!0,!1)}function js(t,n,s){if(kc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function qs(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function An(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Hs,Ur;function mi(t){if(Hs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Hs=n&&n[1]||"",Ur=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+t+Ur}var Lr=!1;function Pr(t,n){if(!t||Lr)return"";Lr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Lr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?mi(s):""}function Bc(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Pr(t.type,!1);case 11:return Pr(t.type.render,!1);case 1:return Pr(t.type,!0);case 31:return mi("Activity");default:return""}}function Un(t){try{var n="";do n+=Bc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gs(t){var n=Fi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qi(t){t._valueTracker||(t._valueTracker=Gs(t))}function Qt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fs=/[\n"\\]/g;function Ce(t){return t.replace(Fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qa(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ga(t,y,ie(n)):s!=null?Ga(t,y,ie(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ie(E):t.removeAttribute("name")}function Ha(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ie(s):"",n=n!=null?""+ie(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ga(t,n,s){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Yi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ie(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function wo(t,n,s){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ie(s):""}function Co(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ie(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||pi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Qa(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Fa(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fa(t,f,n[f])}function zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(t){return Io.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ya=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Ke=null;function Vo(t){var n=Yn(t);if(n&&(t=n.stateNode)){var s=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(a(90));qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Qt(l)}break t;case"textarea":wo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Yi(t,!!s.multiple,n,!1)}}}var Qs=!1;function Ys(t,n,s){if(Qs)return t(n,s);Qs=!0;try{var l=t(n);return l}finally{if(Qs=!1,(Ki!==null||Ke!==null)&&(vu(),Ki&&(n=Ki,t=Ke,Ke=Ki=null,Vo(n),t)))for(n=0;n<t.length;n++)Vo(t[n])}}function Xi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[xe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Xe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Xe)try{var $i={};Object.defineProperty($i,"passive",{get:function(){yi=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{yi=!1}var bn=null,Zt=null,kr=null;function No(){if(kr)return kr;var t,n=Zt,s=n.length,l,c="value"in bn?bn.value:bn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return kr=c.slice(t,1<l?1-l:void 0)}function Ks(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function Xa(){return!1}function Ee(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xs:Xa,this.isPropagationStopped=Xa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),n}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Ee(qe),Zs=A({},qe,{view:0,detail:0}),Js=Ee(Zs),Br,Ws,Zn,tr=A({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Br=t.screenX-Zn.screenX,Ws=t.screenY-Zn.screenY):Ws=Br=0,Zn=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:Ws}}),er=Ee(tr),jc=A({},tr,{dataTransfer:0}),Mo=Ee(jc),nr=A({},Zs,{relatedTarget:0}),jr=Ee(nr),Oo=A({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Ee(Oo),Za=A({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xo=Ee(Za),qr=A({},qe,{data:0}),Ja=Ee(qr),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function Hr(){return Po}var zo=A({},Zs,{key:function(t){if(t.key){var n=Uo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_i[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gr=Ee(zo),$e=A({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Ee($e),ko=A({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Zi=Ee(ko),u=A({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ee(u),p=A({},tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Ee(p),P=A({},qe,{newState:0,oldState:0}),q=Ee(P),W=[9,13,27,32],bt=Xe&&"CompositionEvent"in window,Wt=null;Xe&&"documentMode"in document&&(Wt=document.documentMode);var qt=Xe&&"TextEvent"in window&&!Wt,he=Xe&&(!bt||Wt&&8<Wt&&11>=Wt),on=" ",Jn=!1;function Pn(t,n){switch(t){case"keyup":return W.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function tl(t,n){switch(t){case"compositionend":return zn(n);case"keypress":return n.which!==32?null:(Jn=!0,on);case"textInput":return t=n.data,t===on&&Jn?null:t;default:return null}}function oE(t,n){if(kn)return t==="compositionend"||!bt&&Pn(t,n)?(t=No(),kr=Zt=bn=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return he&&n.locale!=="ko"?null:n.data;default:return null}}var uE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!uE[t.type]:n==="textarea"}function hm(t,n,s,l){Ki?Ke?Ke.push(l):Ke=[l]:Ki=l,n=Ru(n,"onChange"),0<n.length&&(s=new $s("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var el=null,nl=null;function cE(t){Fp(t,0)}function Bo(t){var n=Hi(t);if(Qt(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(Xe){var qc;if(Xe){var Hc="oninput"in document;if(!Hc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Hc=typeof mm.oninput=="function"}qc=Hc}else qc=!1;dm=qc&&(!document.documentMode||9<document.documentMode)}function gm(){el&&(el.detachEvent("onpropertychange",pm),nl=el=null)}function pm(t){if(t.propertyName==="value"&&Bo(nl)){var n=[];hm(n,nl,t,Ka(t)),Ys(cE,n)}}function hE(t,n,s){t==="focusin"?(gm(),el=n,nl=s,el.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(nl)}function dE(t,n){if(t==="click")return Bo(n)}function mE(t,n){if(t==="input"||t==="change")return Bo(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:gE;function il(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ir.call(n,c)||!un(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var s=ym(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ym(s)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gi(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pE=Xe&&"documentMode"in document&&11>=document.documentMode,Fr=null,Fc=null,sl=null,Qc=!1;function Tm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qc||Fr==null||Fr!==gi(l)||(l=Fr,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Ru(Fc,"onSelect"),0<l.length&&(n=new $s("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Fr)))}function ir(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Qr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Yc={},Am={};Xe&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function sr(t){if(Yc[t])return Yc[t];if(!Qr[t])return t;var n=Qr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Am)return Yc[t]=n[s];return t}var Sm=sr("animationend"),bm=sr("animationiteration"),Rm=sr("animationstart"),yE=sr("transitionrun"),_E=sr("transitionstart"),vE=sr("transitioncancel"),wm=sr("transitionend"),Cm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Bn(t,n){Cm.set(t,n),Kn(n,[t])}var Dm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var s=Dm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Un(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Un(n)}}var wn=[],Yr=0,Xc=0;function jo(){for(var t=Yr,n=Xc=Yr=0;n<t;){var s=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Im(s,c,f)}}function qo(t,n,s,l){wn[Yr++]=t,wn[Yr++]=n,wn[Yr++]=s,wn[Yr++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,s,l){return qo(t,n,s,l),Ho(t)}function Kr(t,n){return qo(t,null,null,n),Ho(t)}function Im(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ye(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ho(t){if(50<Il)throw Il=0,nf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xr={};function EE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,s,l){return new EE(t,n,s,l)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var s=t.alternate;return s===null?(s=cn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Vm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Zc(t)&&(y=1);else if(typeof t=="string")y=AT(t,s,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=cn(31,s,n,c),t.elementType=w,t.lanes=f,t;case tt:return rr(s.children,c,f,n);case it:y=8,c|=24;break;case $:return t=cn(12,s,n,c|2),t.elementType=$,t.lanes=f,t;case pt:return t=cn(13,s,n,c),t.elementType=pt,t.lanes=f,t;case xt:return t=cn(19,s,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ht:case mt:y=10;break t;case At:y=9;break t;case kt:y=11;break t;case N:y=14;break t;case b:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=cn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rr(t,n,s,l){return t=cn(7,t,l,n),t.lanes=s,t}function Jc(t,n,s){return t=cn(6,t,null,n),t.lanes=s,t}function Wc(t,n,s){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $r=[],Zr=0,Fo=null,Qo=0,Cn=[],Dn=0,ar=null,Ei=1,Ti="";function lr(t,n){$r[Zr++]=Qo,$r[Zr++]=Fo,Fo=t,Qo=n}function Nm(t,n,s){Cn[Dn++]=Ei,Cn[Dn++]=Ti,Cn[Dn++]=ar,ar=t;var l=Ei;t=Ti;var c=32-Ye(l)-1;l&=~(1<<c),s+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-Ye(n)+c|s<<c|l,Ti=f+t}else Ei=1<<f|s<<c|l,Ti=t}function th(t){t.return!==null&&(lr(t,1),Nm(t,1,0))}function eh(t){for(;t===Fo;)Fo=$r[--Zr],$r[Zr]=null,Qo=$r[--Zr],$r[Zr]=null;for(;t===ar;)ar=Cn[--Dn],Cn[Dn]=null,Ti=Cn[--Dn],Cn[Dn]=null,Ei=Cn[--Dn],Cn[Dn]=null}var Ze=null,ae=null,jt=!1,or=null,Wn=!1,nh=Error(a(519));function ur(t){var n=Error(a(418,""));throw ll(Rn(n,t)),nh}function Mm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ue]=t,n[xe]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Nt(Nl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Ha(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qi(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Co(n,l.value,l.defaultValue,l.children),Qi(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Xp(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||ur(t)}function Om(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Ze=Ze.return}}function rl(t){if(t!==Ze)return!1;if(!jt)return Om(t),jt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||vf(t.type,t.memoizedProps)),s=!s),s&&ae&&ur(t),Om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ae=qn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,ds(t.type)?(t=Sf,Sf=null,ae=t):ae=n):ae=Ze?qn(t.stateNode.nextSibling):null;return!0}function al(){ae=Ze=null,jt=!1}function xm(){var t=or;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),or=null),t}function ll(t){or===null?or=[t]:or.push(t)}var ih=K(null),cr=null,Ai=null;function Ji(t,n,s){et(ih,n._currentValue),n._currentValue=s}function Si(t){t._currentValue=ih.current,nt(ih)}function sh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function rh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),sh(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),sh(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;un(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&rh(n,t,s,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){cr=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Um(cr,t)}function Ko(t,n){return cr===null&&hr(t),Um(t,n)}function Um(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return s}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},AE=r.unstable_scheduleCallback,SE=r.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new TE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var cl=null,lh=0,Jr=0,Wr=null;function bE(t,n){if(cl===null){var s=cl=[];lh=0,Jr=cf(),Wr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return lh++,n.then(Lm,Lm),n}function Lm(){if(--lh===0&&cl!==null){Wr!==null&&(Wr.status="fulfilled");var t=cl;cl=null,Jr=0,Wr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Pm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),Pm!==null&&Pm(t,n)};var fr=K(null);function oh(){var t=fr.current;return t!==null?t:Jt.pooledCache}function Xo(t,n){n===null?et(fr,fr.current):et(fr,n.pool)}function zm(){var t=oh();return t===null?null:{parent:Te._currentValue,pool:t}}var hl=Error(a(460)),km=Error(a(474)),$o=Error(a(542)),uh={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function jm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Zo,Zo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw fl=n,hl}}var fl=null;function qm(){if(fl===null)throw Error(a(459));var t=fl;return fl=null,t}function Hm(t){if(t===hl||t===$o)throw Error(a(483))}var Wi=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function es(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Im(t,null,s),n}return qo(t,l,n,s),Ho(t)}function dl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ji(t,s)}}function fh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var dh=!1;function ml(){if(dh){var t=Wr;if(t!==null)throw t}}function gl(t,n,s,l){dh=!1;var c=t.updateQueue;Wi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=R))}if(f!==null){var Q=c.baseState;y=0,H=z=R=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ut&k)===k:(l&k)===k){k!==0&&k===Jr&&(dh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,gt=E;k=n;var Xt=s;switch(gt.tag){case 1:if(Tt=gt.payload,typeof Tt=="function"){Q=Tt.call(Xt,Q,k);break t}Q=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=gt.payload,k=typeof Tt=="function"?Tt.call(Xt,Q,k):Tt,k==null)break t;Q=A({},Q,k);break t;case 2:Wi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=B,R=Q):H=H.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),us|=y,t.lanes=y,t.memoizedState=Q}}function Gm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gm(s[t],n)}var ta=K(null),Jo=K(0);function Qm(t,n){t=Vi,et(Jo,t),et(ta,n),Vi=t|n.baseLanes}function mh(){et(Jo,Vi),et(ta,ta.current)}function gh(){Vi=Jo.current,nt(ta),nt(Jo)}var ns=0,Dt=null,Yt=null,ge=null,Wo=!1,ea=!1,dr=!1,tu=0,pl=0,na=null,wE=0;function fe(){throw Error(a(321))}function ph(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!un(t[s],n[s]))return!1;return!0}function yh(t,n,s,l,c,f){return ns=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Ig:Vg,dr=!1,f=s(l,c),dr=!1,ea&&(f=Km(n,s,l,c)),Ym(t),f}function Ym(t){j.H=au;var n=Yt!==null&&Yt.next!==null;if(ns=0,ge=Yt=Dt=null,Wo=!1,pl=0,na=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Yo(t)&&(De=!0))}function Km(t,n,s,l){Dt=t;var c=0;do{if(ea&&(na=null),pl=0,ea=!1,25<=c)throw Error(a(301));if(c+=1,ge=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=OE,f=n(s,l)}while(ea);return f}function CE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Dt.flags|=1024),n}function _h(){var t=tu!==0;return tu=0,t}function vh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Eh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}ns=0,ge=Yt=Dt=null,ea=!1,pl=tu=0,na=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Dt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Yt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ge===null?Dt.memoizedState:ge.next;if(n!==null)ge=n,Yt=t;else{if(t===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?Dt.memoizedState=ge=t:ge=ge.next=t}return ge}function Th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,na===null&&(na=[]),t=jm(na,t,n),n=Dt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Ig:Vg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===mt)return He(t)}throw Error(a(438,String(t)))}function Ah(t){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Th(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function bi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=pe();return Sh(n,Yt,t)}function Sh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,z=n,H=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ut&Q)===Q:(ns&Q)===Q){var k=z.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Jr&&(H=!0);else if((ns&k)===k){z=z.next,k===Jr&&(H=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Q,y=f):R=R.next=Q,Dt.lanes|=k,us|=k;Q=z.action,dr&&s(f,Q),f=z.hasEagerState?z.eagerState:s(f,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=k,y=f):R=R.next=k,Dt.lanes|=Q,us|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!un(f,t.memoizedState)&&(De=!0,H&&(s=Wr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);un(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Xm(t,n,s){var l=Dt,c=pe(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!un((Yt||c).memoizedState,s);y&&(c.memoizedState=s,De=!0),c=c.queue;var E=Jm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ia(9,iu(),Zm.bind(null,l,c,s,n),null),Jt===null)throw Error(a(349));f||(ns&124)!==0||$m(l,n,s)}return s}function $m(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Th(),Dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Zm(t,n,s,l){n.value=s,n.getSnapshot=l,Wm(n)&&tg(t)}function Jm(t,n,s){return s(function(){Wm(n)&&tg(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!un(t,s)}catch{return!0}}function tg(t){var n=Kr(t,2);n!==null&&gn(n,t,2)}function Rh(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),dr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function eg(t,n,s,l){return t.baseState=s,Sh(t,Yt,typeof l=="function"?l:bi)}function DE(t,n,s,l,c){if(ru(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ng(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ng(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=s(c,l),R=j.S;R!==null&&R(y,E),ig(t,n,E)}catch(z){wh(t,n,z)}finally{j.T=f}}else try{f=s(c,l),ig(t,n,f)}catch(z){wh(t,n,z)}}function ig(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){sg(t,n,l)},function(l){return wh(t,n,l)}):sg(t,n,s)}function sg(t,n,s){n.status="fulfilled",n.value=s,rg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ng(t,s)))}function wh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,rg(n),n=n.next;while(n!==l)}t.action=null}function rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function lg(t,n){if(jt){var s=Jt.formState;if(s!==null){t:{var l=Dt;if(jt){if(ae){e:{for(var c=ae,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=qn(c.nextSibling),l=c.data==="F!";break t}}ur(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},s.queue=l,s=wg.bind(null,Dt,l),l.dispatch=s,l=Rh(!1),f=Nh.bind(null,Dt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=DE.bind(null,Dt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function og(t){var n=pe();return ug(n,Yt,t)}function ug(t,n,s){if(n=Sh(t,n,ag)[0],t=nu(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===hl?$o:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,ia(9,iu(),IE.bind(null,c,s),null)),[l,f,t]}function IE(t,n){t.action=n}function cg(t){var n=pe(),s=Yt;if(s!==null)return ug(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ia(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Th(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function hg(){return pe().memoizedState}function su(t,n,s,l){var c=en();l=l===void 0?null:l,Dt.flags|=t,c.memoizedState=ia(1|n,iu(),s,l)}function _l(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&ph(l,Yt.memoizedState.deps)?c.memoizedState=ia(n,f,s,l):(Dt.flags|=t,c.memoizedState=ia(1|n,f,s,l))}function fg(t,n){su(8390656,8,t,n)}function dg(t,n){_l(2048,8,t,n)}function mg(t,n){return _l(4,2,t,n)}function gg(t,n){return _l(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yg(t,n,s){s=s!=null?s.concat([t]):null,_l(4,4,pg.bind(null,n,t),s)}function Ch(){}function _g(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ph(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function vg(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ph(n,l[1]))return l[0];if(l=t(),dr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Dh(t,n,s){return s===void 0||(ns&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Ap(),Dt.lanes|=t,us|=t,s)}function Eg(t,n,s,l){return un(s,n)?s:ta.current!==null?(t=Dh(t,s,l),un(t,n)||(De=!0),t):(ns&42)===0?(De=!0,t.memoizedState=s):(t=Ap(),Dt.lanes|=t,us|=t,n)}function Tg(t,n,s,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,Nh(t,!1,n,s);try{var R=c(),z=j.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=RE(R,l);vl(t,n,H,mn(t))}else vl(t,n,l,mn(t))}catch(Q){vl(t,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{J.p=f,j.T=y}}function VE(){}function Ih(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Ag(t).queue;Tg(t,c,n,lt,s===null?VE:function(){return Sg(t),s(l)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:lt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sg(t){var n=Ag(t).next.queue;vl(t,n,{},mn())}function Vh(){return He(Pl)}function bg(){return pe().memoizedState}function Rg(){return pe().memoizedState}function NE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();t=ts(s);var l=es(n,t,s);l!==null&&(gn(l,n,s),dl(l,n,s)),n={cache:ah()},t.payload=n;return}n=n.return}}function ME(t,n,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ru(t)?Cg(n,s):(s=$c(t,n,s,l),s!==null&&(gn(s,t,l),Dg(s,n,l)))}function wg(t,n,s){var l=mn();vl(t,n,s,l)}function vl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,un(E,y))return qo(t,n,c,0),Jt===null&&jo(),!1}catch{}finally{}if(s=$c(t,n,c,l),s!==null)return gn(s,t,l),Dg(s,n,l),!0}return!1}function Nh(t,n,s,l){if(l={lane:2,revertLane:cf(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(a(479))}else n=$c(t,s,l,2),n!==null&&gn(n,t,2)}function ru(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function Cg(t,n){ea=Wo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ji(t,s)}}var au={readContext:He,use:eu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Ig={readContext:He,use:eu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:fg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,su(4194308,4,pg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var l=t();if(dr){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=en();if(s!==void 0){var c=s(n);if(dr){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ME.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Rh(t);var n=t.queue,s=wg.bind(null,Dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(t,n){var s=en();return Dh(s,t,n)},useTransition:function(){var t=Rh(!1);return t=Tg.bind(null,Dt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Dt,c=en();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Ut&124)!==0||$m(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,fg(Jm.bind(null,l,f,t),[t]),l.flags|=2048,ia(9,iu(),Zm.bind(null,l,f,s,n),null),s},useId:function(){var t=en(),n=Jt.identifierPrefix;if(jt){var s=Ti,l=Ei;s=(l&~(1<<32-Ye(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=tu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=wE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Vh,useFormState:lg,useActionState:lg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nh.bind(null,Dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return en().memoizedState=NE.bind(null,Dt)}},Vg={readContext:He,use:eu,useCallback:_g,useContext:He,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:nu,useRef:hg,useState:function(){return nu(bi)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=pe();return Eg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=nu(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Vh,useFormState:og,useActionState:og,useOptimistic:function(t,n){var s=pe();return eg(s,Yt,t,n)},useMemoCache:Ah,useCacheRefresh:Rg},OE={readContext:He,use:eu,useCallback:_g,useContext:He,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:bh,useRef:hg,useState:function(){return bh(bi)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=pe();return Yt===null?Dh(s,t,n):Eg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=bh(bi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Vh,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var s=pe();return Yt!==null?eg(s,Yt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Rg},sa=null,El=0;function lu(t){var n=El;return El+=1,sa===null&&(sa=[]),jm(sa,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){var n=t._init;return n(t._payload)}function Mg(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function s(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=vi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,F){return V===null||V.tag!==6?(V=Jc(L,x.mode,F),V.return=x,V):(V=c(V,L),V.return=x,V)}function R(x,V,L,F){var rt=L.type;return rt===tt?H(x,V,L.props.children,F,L.key):V!==null&&(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&Ng(rt)===V.type)?(V=c(V,L.props),Tl(V,L),V.return=x,V):(V=Go(L.type,L.key,L.props,null,x.mode,F),Tl(V,L),V.return=x,V)}function z(x,V,L,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Wc(L,x.mode,F),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function H(x,V,L,F,rt){return V===null||V.tag!==7?(V=rr(L,x.mode,F,rt),V.return=x,V):(V=c(V,L),V.return=x,V)}function Q(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Jc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return L=Go(V.type,V.key,V.props,null,x.mode,L),Tl(L,V),L.return=x,L;case G:return V=Wc(V,x.mode,L),V.return=x,V;case b:var F=V._init;return V=F(V._payload),Q(x,V,L)}if(vt(V)||U(V))return V=rr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return Q(x,lu(V),L);if(V.$$typeof===mt)return Q(x,Ko(x,V),L);ou(x,V)}return null}function k(x,V,L,F){var rt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,V,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===rt?R(x,V,L,F):null;case G:return L.key===rt?z(x,V,L,F):null;case b:return rt=L._init,L=rt(L._payload),k(x,V,L,F)}if(vt(L)||U(L))return rt!==null?null:H(x,V,L,F,null);if(typeof L.then=="function")return k(x,V,lu(L),F);if(L.$$typeof===mt)return k(x,V,Ko(x,L),F);ou(x,L)}return null}function B(x,V,L,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(V,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return x=x.get(F.key===null?L:F.key)||null,R(V,x,F,rt);case G:return x=x.get(F.key===null?L:F.key)||null,z(V,x,F,rt);case b:var It=F._init;return F=It(F._payload),B(x,V,L,F,rt)}if(vt(F)||U(F))return x=x.get(L)||null,H(V,x,F,rt,null);if(typeof F.then=="function")return B(x,V,L,lu(F),rt);if(F.$$typeof===mt)return B(x,V,L,Ko(V,F),rt);ou(V,F)}return null}function Tt(x,V,L,F){for(var rt=null,It=null,ct=V,yt=V=0,Ve=null;ct!==null&&yt<L.length;yt++){ct.index>yt?(Ve=ct,ct=null):Ve=ct.sibling;var Bt=k(x,ct,L[yt],F);if(Bt===null){ct===null&&(ct=Ve);break}t&&ct&&Bt.alternate===null&&n(x,ct),V=f(Bt,V,yt),It===null?rt=Bt:It.sibling=Bt,It=Bt,ct=Ve}if(yt===L.length)return s(x,ct),jt&&lr(x,yt),rt;if(ct===null){for(;yt<L.length;yt++)ct=Q(x,L[yt],F),ct!==null&&(V=f(ct,V,yt),It===null?rt=ct:It.sibling=ct,It=ct);return jt&&lr(x,yt),rt}for(ct=l(ct);yt<L.length;yt++)Ve=B(ct,x,yt,L[yt],F),Ve!==null&&(t&&Ve.alternate!==null&&ct.delete(Ve.key===null?yt:Ve.key),V=f(Ve,V,yt),It===null?rt=Ve:It.sibling=Ve,It=Ve);return t&&ct.forEach(function(_s){return n(x,_s)}),jt&&lr(x,yt),rt}function gt(x,V,L,F){if(L==null)throw Error(a(151));for(var rt=null,It=null,ct=V,yt=V=0,Ve=null,Bt=L.next();ct!==null&&!Bt.done;yt++,Bt=L.next()){ct.index>yt?(Ve=ct,ct=null):Ve=ct.sibling;var _s=k(x,ct,Bt.value,F);if(_s===null){ct===null&&(ct=Ve);break}t&&ct&&_s.alternate===null&&n(x,ct),V=f(_s,V,yt),It===null?rt=_s:It.sibling=_s,It=_s,ct=Ve}if(Bt.done)return s(x,ct),jt&&lr(x,yt),rt;if(ct===null){for(;!Bt.done;yt++,Bt=L.next())Bt=Q(x,Bt.value,F),Bt!==null&&(V=f(Bt,V,yt),It===null?rt=Bt:It.sibling=Bt,It=Bt);return jt&&lr(x,yt),rt}for(ct=l(ct);!Bt.done;yt++,Bt=L.next())Bt=B(ct,x,yt,Bt.value,F),Bt!==null&&(t&&Bt.alternate!==null&&ct.delete(Bt.key===null?yt:Bt.key),V=f(Bt,V,yt),It===null?rt=Bt:It.sibling=Bt,It=Bt);return t&&ct.forEach(function(xT){return n(x,xT)}),jt&&lr(x,yt),rt}function Xt(x,V,L,F){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var rt=L.key;V!==null;){if(V.key===rt){if(rt=L.type,rt===tt){if(V.tag===7){s(x,V.sibling),F=c(V,L.props.children),F.return=x,x=F;break t}}else if(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&Ng(rt)===V.type){s(x,V.sibling),F=c(V,L.props),Tl(F,L),F.return=x,x=F;break t}s(x,V);break}else n(x,V);V=V.sibling}L.type===tt?(F=rr(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Go(L.type,L.key,L.props,null,x.mode,F),Tl(F,L),F.return=x,x=F)}return y(x);case G:t:{for(rt=L.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){s(x,V.sibling),F=c(V,L.children||[]),F.return=x,x=F;break t}else{s(x,V);break}else n(x,V);V=V.sibling}F=Wc(L,x.mode,F),F.return=x,x=F}return y(x);case b:return rt=L._init,L=rt(L._payload),Xt(x,V,L,F)}if(vt(L))return Tt(x,V,L,F);if(U(L)){if(rt=U(L),typeof rt!="function")throw Error(a(150));return L=rt.call(L),gt(x,V,L,F)}if(typeof L.then=="function")return Xt(x,V,lu(L),F);if(L.$$typeof===mt)return Xt(x,V,Ko(x,L),F);ou(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(s(x,V.sibling),F=c(V,L),F.return=x,x=F):(s(x,V),F=Jc(L,x.mode,F),F.return=x,x=F),y(x)):s(x,V)}return function(x,V,L,F){try{El=0;var rt=Xt(x,V,L,F);return sa=null,rt}catch(ct){if(ct===hl||ct===$o)throw ct;var It=cn(29,ct,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var ra=Mg(!0),Og=Mg(!1),In=K(null),ti=null;function is(t){var n=t.alternate;et(Ae,Ae.current&1),et(In,t),ti===null&&(n===null||ta.current!==null||n.memoizedState!==null)&&(ti=t)}function xg(t){if(t.tag===22){if(et(Ae,Ae.current),et(In,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else ss()}function ss(){et(Ae,Ae.current),et(In,In.current)}function Ri(t){nt(In),ti===t&&(ti=null),nt(Ae)}var Ae=K(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Af(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=mn(),c=ts(l);c.payload=n,s!=null&&(c.callback=s),n=es(t,c,l),n!==null&&(gn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=mn(),c=ts(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=es(t,c,l),n!==null&&(gn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=mn(),l=ts(s);l.tag=2,n!=null&&(l.callback=n),n=es(t,l,s),n!==null&&(gn(n,t,s),dl(n,t,s))}};function Ug(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!il(s,l)||!il(c,f):!0}function Lg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function mr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pg(t){cu(t)}function zg(t){console.error(t)}function kg(t){cu(t)}function hu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xh(t,n,s){return s=ts(s),s.tag=3,s.payload={element:null},s.callback=function(){hu(t,n)},s}function jg(t){return t=ts(t),t.tag=3,t}function qg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Bg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Bg(n,s,l),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ol(n,s,c,!0),s=In.current,s!==null){switch(s.tag){case 13:return ti===null?rf():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===uh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),lf(t,l,c)),!1;case 22:return s.flags|=65536,l===uh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),lf(t,l,c)),!1}throw Error(a(435,s.tag))}return lf(t,l,c),rf(),!1}if(jt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==nh&&(t=Error(a(422),{cause:l}),ll(Rn(t,s)))):(l!==nh&&(n=Error(a(423),{cause:l}),ll(Rn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,s),c=xh(t.stateNode,l,c),fh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=Rn(f,s),Dl===null?Dl=[f]:Dl.push(f),le!==4&&(le=2),n===null)return!0;l=Rn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=xh(s.stateNode,l,t),fh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cs===null||!cs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=jg(c),qg(c,t,s,l),fh(s,c),!1}s=s.return}while(s!==null);return!1}var Hg=Error(a(461)),De=!1;function Ue(t,n,s,l){n.child=t===null?Og(n,null,s,l):ra(n,t.child,s,l)}function Gg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return hr(n),l=yh(t,n,s,y,f,c),E=_h(),t!==null&&!De?(vh(t,n,c),wi(t,n,c)):(jt&&E&&th(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Fg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Zc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,c)):(t=Go(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:il,s(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,qh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Uh(t,n,s,l,c)}function Yg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Kg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Qm(n,f):mh(),xg(n);else return n.lanes=n.childLanes=536870912,Kg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Xo(n,f.cachePool),Qm(n,f),ss(),n.memoizedState=null):(t!==null&&Xo(n,null),mh(),ss());return Ue(t,n,c,s),n.child}function Kg(t,n,s,l){var c=oh();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Xo(n,null),mh(),xg(n),t!==null&&ol(t,n,l,!0),null}function fu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Uh(t,n,s,l,c){return hr(n),s=yh(t,n,s,l,void 0,c),l=_h(),t!==null&&!De?(vh(t,n,c),wi(t,n,c)):(jt&&l&&th(n),n.flags|=1,Ue(t,n,s,c),n.child)}function Xg(t,n,s,l,c,f){return hr(n),n.updateQueue=null,s=Km(n,l,s,c),Ym(t),l=_h(),t!==null&&!De?(vh(t,n,f),wi(t,n,f)):(jt&&l&&th(n),n.flags|=1,Ue(t,n,s,f),n.child)}function $g(t,n,s,l,c){if(hr(n),n.stateNode===null){var f=Xr,y=s.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ch(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?He(y):Xr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=mr(s,E);f.props=R;var z=f.context,H=s.contextType;y=Xr,typeof H=="object"&&H!==null&&(y=He(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Lg(n,f,l,y),Wi=!1;var k=n.memoizedState;f.state=k,gl(n,l,f,c),ml(),z=n.memoizedState,E||k!==z||Wi?(typeof Q=="function"&&(Mh(n,s,Q,l),z=n.memoizedState),(R=Wi||Ug(n,s,R,l,k,z,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hh(t,n),y=n.memoizedProps,H=mr(s,y),f.props=H,Q=n.pendingProps,k=f.context,z=s.contextType,R=Xr,typeof z=="object"&&z!==null&&(R=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||k!==R)&&Lg(n,f,l,R),Wi=!1,k=n.memoizedState,f.state=k,gl(n,l,f,c),ml();var B=n.memoizedState;y!==Q||k!==B||Wi||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Mh(n,s,E,l),B=n.memoizedState),(H=Wi||Ug(n,s,H,l,k,B,R)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ra(n,t.child,null,c),n.child=ra(n,null,s,c)):Ue(t,n,s,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Zg(t,n,s,l){return al(),n.flags|=256,Ue(t,n,s,l),n.child}var Lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:zm()}}function zh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Vn),t}function Jg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?is(n):ss(),jt){var E=ae,R;if(R=E){t:{for(R=E,E=Wn;R.nodeType!==8;){if(!E){E=null;break t}if(R=qn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ar!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Ze=n,ae=null,R=!0):R=!1}R||ur(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Af(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(ss(),c=n.mode,E=du({mode:"hidden",children:E},c),l=rr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ph(s),c.childLanes=zh(t,y,s),n.memoizedState=Lh,l):(is(n),kh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(is(n),n.flags&=-257,n=Bh(t,n,s)):n.memoizedState!==null?(ss(),n.child=t.child,n.flags|=128,n=null):(ss(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=rr(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ra(n,t.child,null,s),l=n.child,l.memoizedState=Ph(s),l.childLanes=zh(t,y,s),n.memoizedState=Lh,n=c);else if(is(n),Af(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=Bh(t,n,s)}else if(De||ol(t,n,s,!1),y=(s&t.childLanes)!==0,De||y){if(y=Jt,y!==null&&(l=s&-s,l=(l&42)!==0?1:Ba(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Kr(t,l),gn(y,t,l),Hg;E.data==="$?"||rf(),n=Bh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=qn(E.nextSibling),Ze=n,jt=!0,or=null,Wn=!1,t!==null&&(Cn[Dn++]=Ei,Cn[Dn++]=Ti,Cn[Dn++]=ar,Ei=t.id,Ti=t.overflow,ar=n),n=kh(n,l.children),n.flags|=4096);return n}return c?(ss(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=vi(z,c):(c=rr(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ph(s):(R=E.cachePool,R!==null?(z=Te._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=zm(),E={baseLanes:E.baseLanes|s,cachePool:R}),c.memoizedState=E,c.childLanes=zh(t,y,s),n.memoizedState=Lh,l):(is(n),s=t.child,t=s.sibling,s=vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bh(t,n,s){return ra(n,t.child,null,s),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,s)}function jh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function tp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,s),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,s,n);else if(t.tag===19)Wg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Ae,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&uu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),jh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}jh(n,!0,s,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),us|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ol(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=vi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=vi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function UE(t,n,s){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),Ji(n,Te,t.memoizedState.cache),al();break;case 27:case 5:La(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(is(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jg(t,n,s):(is(n),t=wi(t,n,s),t!==null?t.sibling:null);is(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ol(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return tp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Yg(t,n,s);case 24:Ji(n,Te,t.memoizedState.cache)}return wi(t,n,s)}function ep(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!qh(t,s)&&(n.flags&128)===0)return De=!1,UE(t,n,s);De=(t.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&Nm(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Zc(l)?(t=mr(l,t),n.tag=1,n=$g(null,n,l,t,s)):(n.tag=0,n=Uh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===kt){n.tag=11,n=Gg(null,n,l,t,s);break t}else if(c===N){n.tag=14,n=Fg(null,n,l,t,s);break t}}throw n=ut(l)||l,Error(a(306,n,""))}}return n;case 0:return Uh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=mr(l,n.pendingProps),$g(t,n,l,c,s);case 3:t:{if(Ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,hh(t,n),gl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Ji(n,Te,l),l!==f.cache&&rh(n,[Te],s,!0),ml(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(t,n,l,s);break t}else if(l!==c){c=Rn(Error(a(424)),n),ll(c),n=Zg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=qn(t.firstChild),Ze=n,jt=!0,or=null,Wn=!0,s=Og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(al(),l===c){n=wi(t,n,s);break t}Ue(t,n,l,s)}n=n.child}return n;case 26:return fu(t,n),t===null?(s=ry(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,t=n.pendingProps,l=Cu(Et.current).createElement(s),l[ue]=n,l[xe]=t,Pe(l,s,t),ce(l),n.stateNode=l):n.memoizedState=ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&jt&&(l=n.stateNode=ny(n.type,n.pendingProps,Et.current),Ze=n,Wn=!0,c=ae,ds(n.type)?(Sf=c,ae=qn(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,s),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=ae)&&(l=uT(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,Ze=n,ae=qn(l.firstChild),Wn=!1,c=!0):c=!1),c||ur(n)),La(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,vf(c,f)?l=null:y!==null&&vf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=yh(t,n,CE,null,null,s),Pl._currentValue=c),fu(t,n),Ue(t,n,l,s),n.child;case 6:return t===null&&jt&&((t=s=ae)&&(s=cT(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,Ze=n,ae=null,t=!0):t=!1),t||ur(n)),null;case 13:return Jg(t,n,s);case 4:return Ft(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ra(n,null,l,s):Ue(t,n,l,s),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,s);case 7:return Ue(t,n,n.pendingProps,s),n.child;case 8:return Ue(t,n,n.pendingProps.children,s),n.child;case 12:return Ue(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ji(n,n.type,l.value),Ue(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,hr(n),c=He(c),l=l(c),n.flags|=1,Ue(t,n,l,s),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,s);case 15:return Qg(t,n,n.type,n.pendingProps,s);case 19:return tp(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=du(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=vi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Yg(t,n,s);case 24:return hr(n),l=He(Te),t===null?(c=oh(),c===null&&(c=Jt,f=ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},ch(n),Ji(n,Te,c)):((t.lanes&s)!==0&&(hh(t,n),gl(n,null,null,s),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ji(n,Te,l)):(l=f.cache,Ji(n,Te,l),l!==c.cache&&rh(n,[Te],s,!0))),Ue(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(t){t.flags|=4}function np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cy(n)){if(n=In.current,n!==null&&((Ut&4194048)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ti))throw fl=uh,km;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ki():536870912,t.lanes|=n,ua|=n)}function Al(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function LE(t,n,s){var l=n.pendingProps;switch(eh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),Mn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xm())),se(n),null;case 26:return s=n.memoizedState,t===null?(Ci(n),s!==null?(se(n),np(n,s)):(se(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Ci(n),se(n),np(n,s)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),se(n),n.flags&=-16777217),null;case 27:Dr(n),s=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}t=ot.current,rl(n)?Mm(n):(t=ny(c,l,s),n.stateNode=t,Ci(n))}return se(n),null;case 5:if(Dr(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(t=ot.current,rl(n))Mm(n);else{switch(c=Cu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[ue]=n,t[xe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Et.current,rl(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ue]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Xp(t.nodeValue,s)),t||ur(n)}else t=Cu(t).createTextNode(l),t[ue]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ue]=n}else al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),mu(n,n.updateQueue),se(n),null;case 4:return Mn(),t===null&&mf(n.stateNode.containerInfo),se(n),null;case 10:return Si(n.type),se(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return se(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Vm(s,t),s=s.sibling;return et(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>yu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return se(n),null}else 2*tn()-c.renderingStartTime>yu&&s!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Ae.current,et(Ae,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Ri(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&mu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&nt(fr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Si(Te),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function PE(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Dr(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Mn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),gh(),t!==null&&nt(fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function ip(t,n){switch(eh(n),n.tag){case 3:Si(Te),Mn();break;case 26:case 27:case 5:Dr(n);break;case 4:Mn();break;case 13:Ri(n);break;case 19:nt(Ae);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),gh(),t!==null&&nt(fr);break;case 24:Si(Te)}}function Sl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){$t(n,n.return,E)}}function rs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=s,z=E;try{z()}catch(H){$t(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){$t(n,n.return,H)}}function sp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Fm(n,s)}catch(l){$t(t,t.return,l)}}}function rp(t,n,s){s.props=mr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$t(t,n,l)}}function bl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){$t(t,n,c)}}function ei(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){$t(t,n,c)}else s.current=null}function ap(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){$t(t,t.return,c)}}function Hh(t,n,s){try{var l=t.stateNode;sT(l,t.type,s,n),l[xe]=n}catch(c){$t(t,t.return,c)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function Gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wu));else if(l!==4&&(l===27&&ds(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function gu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ds(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gu(t,n,s),t=t.sibling;t!==null;)gu(t,n,s),t=t.sibling}function op(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,s),n[ue]=t,n[xe]=s}catch(f){$t(t,t.return,f)}}var Di=!1,de=!1,Qh=!1,up=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function zE(t,n){if(t=t.containerInfo,yf=Ou,t=Em(t),Gc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,R=-1,z=0,H=0,Q=t,k=null;e:for(;;){for(var B;Q!==s||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(R=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===s&&++z===c&&(E=y),k===f&&++H===l&&(R=y),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(_f={focusedElem:t,selectionRange:s},Ou=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Tt=mr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(s,s.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Tf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function cp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:as(t,s),l&4&&Sl(5,s);break;case 1:if(as(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(s,s.return,y)}else{var c=mr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(s,s.return,y)}}l&64&&sp(s),l&512&&bl(s,s.return);break;case 3:if(as(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fm(t,n)}catch(y){$t(s,s.return,y)}}break;case 27:n===null&&l&4&&op(s);case 26:case 5:as(t,s),n===null&&l&4&&ap(s),l&512&&bl(s,s.return);break;case 12:as(t,s);break;case 13:as(t,s),l&4&&dp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=YE.bind(null,s),hT(t,s))));break;case 22:if(l=s.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||de,c=Di;var f=de;Di=l,(de=n)&&!f?ls(t,s,(s.subtreeFlags&8772)!==0):as(t,s),Di=c,de=f}break;case 30:break;default:as(t,s)}}function hp(t){var n=t.alternate;n!==null&&(t.alternate=null,hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,nn=!1;function Ii(t,n,s){for(s=s.child;s!==null;)fp(t,n,s),s=s.sibling}function fp(t,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Li,s)}catch{}switch(s.tag){case 26:de||ei(s,n),Ii(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:de||ei(s,n);var l=ne,c=nn;ds(s.type)&&(ne=s.stateNode,nn=!1),Ii(t,n,s),Ol(s.stateNode),ne=l,nn=c;break;case 5:de||ei(s,n);case 6:if(l=ne,c=nn,ne=null,Ii(t,n,s),ne=l,nn=c,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ne.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ne!==null&&(nn?(t=ne,ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),jl(t)):ty(ne,s.stateNode));break;case 4:l=ne,c=nn,ne=s.stateNode.containerInfo,nn=!0,Ii(t,n,s),ne=l,nn=c;break;case 0:case 11:case 14:case 15:de||rs(2,s,n),de||rs(4,s,n),Ii(t,n,s);break;case 1:de||(ei(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&rp(s,n,l)),Ii(t,n,s);break;case 21:Ii(t,n,s);break;case 22:de=(l=de)||s.memoizedState!==null,Ii(t,n,s),de=l;break;default:Ii(t,n,s)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(s){$t(n,n.return,s)}}function kE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new up),n;default:throw Error(a(435,t.tag))}}function Yh(t,n){var s=kE(t);n.forEach(function(l){var c=KE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function hn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ds(E.type)){ne=E.stateNode,nn=!1;break t}break;case 5:ne=E.stateNode,nn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ne===null)throw Error(a(160));fp(f,y,c),ne=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var jn=null;function mp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(rs(3,t,t.return),Sl(3,t),rs(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(de||s===null||ei(s,s.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=jn;if(hn(n,t),fn(t),l&512&&(de||s===null||ei(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qi]||f[ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,s),f[ue]=t,ce(f),l=f;break t;case"link":var y=oy("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;case"meta":if(y=oy("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ue]=t,ce(f),l=f}t.stateNode=l}else uy(c,t.type,t.stateNode);else t.stateNode=ly(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?uy(c,t.type,t.stateNode):ly(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,s.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(de||s===null||ei(s,s.return)),s!==null&&l&4&&Hh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(de||s===null||ei(s,s.return)),t.flags&32){c=t.stateNode;try{Sn(c,"")}catch(B){$t(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Qh=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(B){$t(t,t.return,B)}}break;case 3:if(Vu=null,c=jn,jn=Du(n.containerInfo),hn(n,t),jn=c,fn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){$t(t,t.return,B)}Qh&&(Qh=!1,gp(t));break;case 4:l=jn,jn=Du(t.stateNode.containerInfo),hn(n,t),fn(t),jn=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wh=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 22:c=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Di,H=de;if(Di=z||c,de=H||R,hn(n,t),de=H,Di=z,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Di||de||gr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){$t(R,R.return,B)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){$t(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yh(t,s))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(lp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Gh(t);gu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(Sn(y,""),s.flags&=-33);var E=Gh(t);gu(t,E,y);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Gh(t);Fh(t,z,R);break;default:throw Error(a(161))}}catch(H){$t(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cp(t,n.alternate,n),n=n.sibling}function gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rs(4,n,n.return),gr(n);break;case 1:ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&rp(n,n.return,s),gr(n);break;case 27:Ol(n.stateNode);case 26:case 5:ei(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}t=t.sibling}}function ls(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ls(c,f,s),Sl(4,f);break;case 1:if(ls(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Gm(R[c],E)}catch(z){$t(l,l.return,z)}}s&&y&64&&sp(f),bl(f,f.return);break;case 27:op(f);case 26:case 5:ls(c,f,s),s&&l===null&&y&4&&ap(f),bl(f,f.return);break;case 12:ls(c,f,s);break;case 13:ls(c,f,s),s&&y&4&&dp(c,f);break;case 22:f.memoizedState===null&&ls(c,f,s),bl(f,f.return);break;case 30:break;default:ls(c,f,s)}n=n.sibling}}function Kh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ul(s))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ni(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,s,l),n=n.sibling}function pp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,s,l),c&2048&&Sl(9,n);break;case 1:ni(t,n,s,l);break;case 3:ni(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ni(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ni(t,n,s,l);break;case 13:ni(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,s,l):Rl(t,n):f._visibility&2?ni(t,n,s,l):(f._visibility|=2,aa(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Kh(y,n);break;case 24:ni(t,n,s,l),c&2048&&Xh(n.alternate,n);break;default:ni(t,n,s,l)}}function aa(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=s,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:aa(f,y,E,R,c),Sl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?aa(f,y,E,R,c):Rl(f,y):(H._visibility|=2,aa(f,y,E,R,c)),c&&z&2048&&Kh(y.alternate,y);break;case 24:aa(f,y,E,R,c),c&&z&2048&&Xh(y.alternate,y);break;default:aa(f,y,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(s,l),c&2048&&Kh(l.alternate,l);break;case 24:Rl(s,l),c&2048&&Xh(l.alternate,l);break;default:Rl(s,l)}n=n.sibling}}var wl=8192;function la(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 26:la(t),t.flags&wl&&t.memoizedState!==null&&bT(jn,t.memoizedState,t.memoizedProps);break;case 5:la(t);break;case 3:case 4:var n=jn;jn=Du(t.stateNode.containerInfo),la(t),jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,la(t),wl=n):la(t));break;default:la(t)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Cl(t);break;default:Cl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rs(8,n,n.return),pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function Ep(t,n){for(;Ie!==null;){var s=Ie;switch(s.tag){case 0:case 11:case 15:rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ie=l;else t:for(s=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(hp(l),l===s){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var BE={getCacheForType:function(t){var n=He(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},jE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Vt=null,Ut=0,Gt=0,dn=null,os=!1,oa=!1,$h=!1,Vi=0,le=0,us=0,pr=0,Zh=0,Vn=0,ua=0,Dl=null,sn=null,Jh=!1,Wh=0,yu=1/0,_u=null,cs=null,Le=0,hs=null,ca=null,ha=0,tf=0,ef=null,Tp=null,Il=0,nf=null;function mn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(j.T!==null){var t=Jr;return t!==0?t:cf()}return fi()}function Ap(){Vn===0&&(Vn=(Ut&536870912)===0||jt?ka():536870912);var t=In.current;return t!==null&&(t.flags|=32),Vn}function gn(t,n,s){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(fa(t,0),fs(t,Ut,Vn,!1)),oe(t,s),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(pr|=s),le===4&&fs(t,Ut,Vn,!1)),ii(t))}function Sp(t,n,s){if((Ht&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||zi(t,n),c=l?GE(t,n):af(t,n,!0),f=l;do{if(c===0){oa&&!l&&fs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!qE(s)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(fa(E,y).flags|=256),y=af(E,y,!1),y!==2){if($h&&!R){E.errorRecoveryDisabledLanes|=f,pr|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){fa(t,0),fs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fs(l,n,Vn,!os);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Wh+300-tn(),10<c)){if(fs(l,n,Vn,!os),Tn(l,0,!0)!==0)break t;l.timeoutHandle=Jp(bp.bind(null,l,s,sn,_u,Jh,n,Vn,pr,ua,os,f,2,-0,0),c);break t}bp(l,s,sn,_u,Jh,n,Vn,pr,ua,os,f,0,-0,0)}}break}while(!0);ii(t)}function bp(t,n,s,l,c,f,y,E,R,z,H,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:ST},yp(n),Q=RT(),Q!==null)){t.cancelPendingCommit=Q(Np.bind(null,t,n,f,s,l,c,y,E,R,H,1,k,B)),fs(t,f,y,!z);return}Np(t,n,f,s,l,c,y,E,R)}function qE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fs(t,n,s,l){n&=~Zh,n&=~pr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Bi(t,s,n)}function vu(){return(Ht&6)===0?(Vl(0),!1):!0}function sf(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,Ai=cr=null,Eh(t),sa=null,El=0,t=Vt;for(;t!==null;)ip(t.alternate,t),t=t.return;Vt=null}}function fa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,aT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sf(),Jt=t,Vt=s=vi(t.current,null),Ut=n,Gt=0,dn=null,os=!1,oa=zi(t,n),$h=!1,ua=Vn=Zh=pr=us=le=0,sn=Dl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,jo(),s}function Rp(t,n){Dt=null,j.H=au,n===hl||n===$o?(n=qm(),Gt=3):n===km?(n=qm(),Gt=4):Gt=n===Hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Vt===null&&(le=1,hu(t,Rn(n,t.current)))}function wp(){var t=j.H;return j.H=au,t===null?au:t}function Cp(){var t=j.A;return j.A=BE,t}function rf(){le=4,os||(Ut&4194048)!==Ut&&In.current!==null||(oa=!0),(us&134217727)===0&&(pr&134217727)===0||Jt===null||fs(Jt,Ut,Vn,!1)}function af(t,n,s){var l=Ht;Ht|=2;var c=wp(),f=Cp();(Jt!==t||Ut!==n)&&(_u=null,fa(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,R=dn;switch(Gt){case 8:sf(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=Gt;if(Gt=0,dn=null,da(t,E,R,z),s&&oa){y=0;break t}break;default:z=Gt,Gt=0,dn=null,da(t,E,R,z)}}HE(),y=le;break}catch(H){Rp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=cr=null,Ht=l,j.H=c,j.A=f,Vt===null&&(Jt=null,Ut=0,jo()),y}function HE(){for(;Vt!==null;)Dp(Vt)}function GE(t,n){var s=Ht;Ht|=2;var l=wp(),c=Cp();Jt!==t||Ut!==n?(_u=null,yu=tn()+500,fa(t,n)):oa=zi(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=dn;e:switch(Gt){case 1:Gt=0,dn=null,da(t,n,f,1);break;case 2:case 9:if(Bm(f)){Gt=0,dn=null,Ip(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),ii(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Bm(f)?(Gt=0,dn=null,Ip(n)):(Gt=0,dn=null,da(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||cy(y)){Gt=0,dn=null;var R=E.sibling;if(R!==null)Vt=R;else{var z=E.return;z!==null?(Vt=z,Eu(z)):Vt=null}break e}}Gt=0,dn=null,da(t,n,f,5);break;case 6:Gt=0,dn=null,da(t,n,f,6);break;case 8:sf(),le=6;break t;default:throw Error(a(462))}}FE();break}catch(H){Rp(t,H)}while(!0);return Ai=cr=null,j.H=l,j.A=c,Ht=s,Vt!==null?0:(Jt=null,Ut=0,jo(),le)}function FE(){for(;Vt!==null&&!Oc();)Dp(Vt)}function Dp(t){var n=ep(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?Eu(t):Vt=n}function Ip(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Xg(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Xg(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Eh(n);default:ip(s,n),n=Vt=Vm(n,Vi),n=ep(s,n,Vi)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Vt=n}function da(t,n,s,l){Ai=cr=null,Eh(n),sa=null,El=0;var c=n.return;try{if(xE(t,c,n,s,Ut)){le=1,hu(t,Rn(s,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;le=1,hu(t,Rn(s,t.current)),Vt=null;return}n.flags&32768?(jt||l===1?t=!0:oa||(Ut&536870912)!==0?t=!1:(os=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Vp(n,os);return}t=n.return;var s=LE(n.alternate,n,Vi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);le===0&&(le=5)}function Vp(t,n){do{var s=PE(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);le=6,Vt=null}function Np(t,n,s,l,c,f,y,E,R){t.cancelPendingCommit=null;do Tu();while(Le!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Xc,bo(t,s,f,y,E,R),t===Jt&&(Vt=Jt=null,Ut=0),ca=n,hs=t,ha=s,tf=f,ef=c,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(hi,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=J.p,J.p=2,y=Ht,Ht|=4;try{zE(t,n,s)}finally{Ht=y,J.p=c,j.T=l}}Le=1,Mp(),Op(),xp()}}function Mp(){if(Le===1){Le=0;var t=hs,n=ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var l=J.p;J.p=2;var c=Ht;Ht|=4;try{mp(n,t);var f=_f,y=Em(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(R!==null&&Gc(E)){var z=R.start,H=R.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),Tt=E.textContent.length,gt=Math.min(R.start,Tt),Xt=R.end===void 0?gt:Math.min(R.end,Tt);!B.extend&&gt>Xt&&(y=Xt,Xt=gt,gt=y);var x=_m(E,gt),V=_m(E,Xt);if(x&&V&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==V.node||B.focusOffset!==V.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),gt>Xt?(B.addRange(L),B.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),B.addRange(L))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ou=!!yf,_f=yf=null}finally{Ht=c,J.p=l,j.T=s}}t.current=n,Le=2}}function Op(){if(Le===2){Le=0;var t=hs,n=ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var l=J.p;J.p=2;var c=Ht;Ht|=4;try{cp(t,n.alternate,n)}finally{Ht=c,J.p=l,j.T=s}}Le=3}}function xp(){if(Le===4||Le===3){Le=0,Pa();var t=hs,n=ca,s=ha,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,ca=hs=null,Up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(cs=null),ja(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Li,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=J.p,J.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,J.p=c}}(ha&3)!==0&&Tu(),ii(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===nf?Il++:(Il=0,nf=t):Il=0,Vl(0)}}function Up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Tu(t){return Mp(),Op(),xp(),Lp()}function Lp(){if(Le!==5)return!1;var t=hs,n=tf;tf=0;var s=ja(ha),l=j.T,c=J.p;try{J.p=32>s?32:s,j.T=null,s=ef,ef=null;var f=hs,y=ha;if(Le=0,ca=hs=null,ha=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,vp(f.current),pp(f,f.current,y,s),Ht=E,Vl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Li,f)}catch{}return!0}finally{J.p=c,j.T=l,Up(t,n)}}function Pp(t,n,s){n=Rn(s,n),n=xh(t.stateNode,n,2),t=es(t,n,2),t!==null&&(oe(t,2),ii(t))}function $t(t,n,s){if(t.tag===3)Pp(t,t,s);else for(;n!==null;){if(n.tag===3){Pp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cs===null||!cs.has(l))){t=Rn(s,t),s=jg(2),l=es(n,s,2),l!==null&&(qg(s,l,n,t),oe(l,2),ii(l));break}}n=n.return}}function lf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||($h=!0,c.add(s),t=QE.bind(null,t,n,s),n.then(t,t))}function QE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Jt===t&&(Ut&s)===s&&(le===4||le===3&&(Ut&62914560)===Ut&&300>tn()-Wh?(Ht&2)===0&&fa(t,0):Zh|=s,ua===Ut&&(ua=0)),ii(t)}function zp(t,n){n===0&&(n=ki()),t=Kr(t,n),t!==null&&(oe(t,n),ii(t))}function YE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zp(t,s)}function KE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zp(t,s)}function XE(t,n){return Us(t,n)}var Au=null,ma=null,of=!1,Su=!1,uf=!1,yr=0;function ii(t){t!==ma&&t.next===null&&(ma===null?Au=ma=t:ma=ma.next=t),Su=!0,of||(of=!0,ZE())}function Vl(t,n){if(!uf&&Su){uf=!0;do for(var s=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qp(l,f))}else f=Ut,f=Tn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zi(l,f)||(s=!0,qp(l,f));l=l.next}while(s);uf=!1}}function $E(){kp()}function kp(){Su=of=!1;var t=0;yr!==0&&(rT()&&(t=yr),yr=0);for(var n=tn(),s=null,l=Au;l!==null;){var c=l.next,f=Bp(l,n);f===0?(l.next=null,s===null?Au=c:s.next=c,c===null&&(ma=s)):(s=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=c}Vl(t)}function Bp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,R=c[y];R===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Nr(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,s=Ut,s=Tn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),ja(s)){case 2:case 8:s=we;break;case 32:s=hi;break;case 268435456:s=za;break;default:s=hi}return l=jp.bind(null,t),s=Us(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Tu()&&t.callbackNode!==s)return null;var l=Ut;return l=Tn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),Bp(t,tn()),t.callbackNode!=null&&t.callbackNode===s?jp.bind(null,t):null)}function qp(t,n){if(Tu())return null;Sp(t,n,!0)}function ZE(){lT(function(){(Ht&6)!==0?Us(ve,$E):kp()})}function cf(){return yr===0&&(yr=ka()),yr}function Hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ln(""+t)}function Gp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function JE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Hp((c[xe]||null).action),y=l.submitter;y&&(n=(n=y[xe]||null)?Hp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new $s("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var R=y?Gp(c,y):new FormData(c);Ih(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Gp(c,y):new FormData(c),Ih(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var hf=0;hf<Kc.length;hf++){var ff=Kc[hf],WE=ff.toLowerCase(),tT=ff[0].toUpperCase()+ff.slice(1);Bn(WE,"on"+tT)}Bn(Sm,"onAnimationEnd"),Bn(bm,"onAnimationIteration"),Bn(Rm,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(yE,"onTransitionRun"),Bn(_E,"onTransitionStart"),Bn(vE,"onTransitionCancel"),Bn(wm,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Fp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){cu(H)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){cu(H)}c.currentTarget=null,f=R}}}}function Nt(t,n){var s=n[Ps];s===void 0&&(s=n[Ps]=new Set);var l=t+"__bubble";s.has(l)||(Qp(n,t,2,!1),s.add(l))}function df(t,n,s){var l=0;n&&(l|=4),Qp(s,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[bu]){t[bu]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(eT.has(s)||df(s,!1,t),df(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,df("selectionchange",!1,n))}}function Qp(t,n,s,l){switch(py(n)){case 2:var c=DT;break;case 8:c=IT;break;default:c=Df}s=c.bind(null,n,s,t),c=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function gf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Qn(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ys(function(){var z=f,H=Ka(s),Q=[];t:{var k=Cm.get(t);if(k!==void 0){var B=$s,Tt=t;switch(t){case"keypress":if(Ks(s)===0)break t;case"keydown":case"keyup":B=Gr;break;case"focusin":Tt="focus",B=jr;break;case"focusout":Tt="blur",B=jr;break;case"beforeblur":case"afterblur":B=jr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Zi;break;case Sm:case bm:case Rm:B=$a;break;case wm:B=m;break;case"scroll":case"scrollend":B=Js;break;case"wheel":B=T;break;case"copy":case"cut":case"paste":B=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Wa;break;case"toggle":case"beforetoggle":B=q}var gt=(n&4)!==0,Xt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?k!==null?k+"Capture":null:k;gt=[];for(var V=z,L;V!==null;){var F=V;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=Xi(V,x),F!=null&&gt.push(Ml(V,F,L))),Xt)break;V=V.return}0<gt.length&&(k=new B(k,Tt,null,s,H),Q.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&s!==Ya&&(Tt=s.relatedTarget||s.fromElement)&&(Qn(Tt)||Tt[di]))break t;if((B||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,B?(Tt=s.relatedTarget||s.toElement,B=z,Tt=Tt?Qn(Tt):null,Tt!==null&&(Xt=h(Tt),gt=Tt.tag,Tt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(Tt=null)):(B=null,Tt=z),B!==Tt)){if(gt=er,F="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Wa,F="onPointerLeave",x="onPointerEnter",V="pointer"),Xt=B==null?k:Hi(B),L=Tt==null?k:Hi(Tt),k=new gt(F,V+"leave",B,s,H),k.target=Xt,k.relatedTarget=L,F=null,Qn(H)===z&&(gt=new gt(x,V+"enter",Tt,s,H),gt.target=L,gt.relatedTarget=Xt,F=gt),Xt=F,B&&Tt)e:{for(gt=B,x=Tt,V=0,L=gt;L;L=ga(L))V++;for(L=0,F=x;F;F=ga(F))L++;for(;0<V-L;)gt=ga(gt),V--;for(;0<L-V;)x=ga(x),L--;for(;V--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=ga(gt),x=ga(x)}gt=null}else gt=null;B!==null&&Yp(Q,k,B,gt,!1),Tt!==null&&Xt!==null&&Yp(Q,Xt,Tt,gt,!0)}}t:{if(k=z?Hi(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=fm;else if(cm(k))if(dm)rt=mE;else{rt=fE;var It=hE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&zr(z.elementType)&&(rt=fm):rt=dE;if(rt&&(rt=rt(t,z))){hm(Q,rt,s,H);break t}It&&It(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Ga(k,"number",k.value)}switch(It=z?Hi(z):window,t){case"focusin":(cm(It)||It.contentEditable==="true")&&(Fr=It,Fc=z,sl=null);break;case"focusout":sl=Fc=Fr=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Tm(Q,s,H);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Tm(Q,s,H)}var ct;if(bt)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else kn?Pn(t,s)&&(yt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(he&&s.locale!=="ko"&&(kn||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&kn&&(ct=No()):(bn=H,Zt="value"in bn?bn.value:bn.textContent,kn=!0)),It=Ru(z,yt),0<It.length&&(yt=new Ja(yt,t,null,s,H),Q.push({event:yt,listeners:It}),ct?yt.data=ct:(ct=zn(s),ct!==null&&(yt.data=ct)))),(ct=qt?tl(t,s):oE(t,s))&&(yt=Ru(z,"onBeforeInput"),0<yt.length&&(It=new Ja("onBeforeInput","beforeinput",null,s,H),Q.push({event:It,listeners:yt}),It.data=ct)),JE(Q,t,z,s,H)}Fp(Q,n)})}function Ml(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ru(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Xi(t,s),c!=null&&l.unshift(Ml(t,c,f)),c=Xi(t,n),c!=null&&l.push(Ml(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Xi(s,f),z!=null&&y.unshift(Ml(s,z,R))):c||(z=Xi(s,f),z!=null&&y.push(Ml(s,z,R)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Xp(t,n){return n=Kp(n),Kp(t)===n}function wu(){}function Kt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":qs(t,"class",l);break;case"tabIndex":qs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qs(t,s,l);break;case"style":Qa(t,l,f);break;case"data":if(n!=="object"){qs(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ln(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ln(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ln(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),js(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Do.get(s)||s,js(t,s,l))}}function pf(t,n,s,l,c,f){switch(s){case"style":Qa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):js(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,s,null)}}c&&Kt(t,n,"srcSet",s.srcSet,s,null),l&&Kt(t,n,"src",s.src,s,null);return;case"input":Nt("invalid",t);var E=f=y=c=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Kt(t,n,l,H,s,null)}}Ha(t,f,E,R,z,y,c,!1),Qi(t);return;case"select":Nt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):s!=null&&Yi(t,!!l,s,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,s,null)}Co(t,l,c,f),Qi(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,s,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Nt(Nl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,z,l,s,null)}return;default:if(zr(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&pf(t,n,H,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Kt(t,n,E,l,s,null))}function sT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,z=null,H=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=s[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Kt(t,n,k,B,l,Q)}}qa(t,y,E,R,z,H,f,c);return;case"select":B=y=E=k=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,s=y,l=B,k!=null?Yi(t,!!s,k,!1):!!l!=!!s&&(n!=null?Yi(t,!!s,n,!0):Yi(t,!!s,s?[]:"",!1));return;case"textarea":B=k=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}wo(t,k,B);return;case"option":for(var Tt in s)if(k=s[Tt],s.hasOwnProperty(Tt)&&k!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Kt(t,n,Tt,null,l,k)}for(R in l)if(k=l[R],B=s[R],l.hasOwnProperty(R)&&k!==B&&(k!=null||B!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,R,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)k=s[gt],s.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,k);for(z in l)if(k=l[z],B=s[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Kt(t,n,z,k,l,B)}return;default:if(zr(n)){for(var Xt in s)k=s[Xt],s.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&pf(t,n,Xt,void 0,l,k);for(H in l)k=l[H],B=s[H],!l.hasOwnProperty(H)||k===B||k===void 0&&B===void 0||pf(t,n,H,k,l,B);return}}for(var x in s)k=s[x],s.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,k);for(Q in l)k=l[Q],B=s[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Kt(t,n,Q,k,l,B)}var yf=null,_f=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ef=null;function rT(){var t=window.event;return t&&t.type==="popstate"?t===Ef?!1:(Ef=t,!0):(Ef=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch(oT)}:Jp;function oT(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function ty(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&Ol(y.documentElement),s&2&&Ol(y.body),s&4)for(s=y.head,Ol(s),y=s.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[qi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);jl(n)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Tf(s),Or(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function cT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function Af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Sf=null;function ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function ny(t,n,s){switch(n=Cu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Or(t)}var Nn=new Map,iy=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=J.d;J.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Ni.f(),n=vu();return t||n}function dT(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Ni.r(t)}var pa=typeof document>"u"?null:document;function sy(t,n,s){var l=pa;if(l&&typeof n=="string"&&n){var c=Ce(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),iy.has(c)||(iy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ce(n),l.head.appendChild(n)))}}function mT(t){Ni.D(t),sy("dns-prefetch",t,null)}function gT(t,n){Ni.C(t,n),sy("preconnect",t,n)}function pT(t,n,s){Ni.L(t,n,s);var l=pa;if(l&&t&&n){var c='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ce(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ce(s.imageSizes)+'"]')):c+='[href="'+Ce(t)+'"]';var f=c;switch(n){case"style":f=ya(t);break;case"script":f=_a(t)}Nn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),Pe(n,"link",t),ce(n),l.head.appendChild(n)))}}function yT(t,n){Ni.m(t,n);var s=pa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ce(l)+'"][href="'+Ce(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_a(t)}if(!Nn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Nn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(f)))return}l=s.createElement("link"),Pe(l,"link",t),ce(l),s.head.appendChild(l)}}}function _T(t,n,s){Ni.S(t,n,s);var l=pa;if(l&&t){var c=Gi(l).hoistableStyles,f=ya(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Nn.get(f))&&bf(t,s);var R=y=l.createElement("link");ce(R),Pe(R,"link",t),R._p=new Promise(function(z,H){R.onload=z,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function vT(t,n){Ni.X(t,n);var s=pa;if(s&&t){var l=Gi(s).hoistableScripts,c=_a(t),f=l.get(c);f||(f=s.querySelector(Ul(c)),f||(t=A({src:t,async:!0},n),(n=Nn.get(c))&&Rf(t,n),f=s.createElement("script"),ce(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ET(t,n){Ni.M(t,n);var s=pa;if(s&&t){var l=Gi(s).hoistableScripts,c=_a(t),f=l.get(c);f||(f=s.querySelector(Ul(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&Rf(t,n),f=s.createElement("script"),ce(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ry(t,n,s,l){var c=(c=Et.current)?Du(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ya(s.href),s=Gi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ya(s.href);var f=Gi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Nn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(t,s),f||TT(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_a(s),s=Gi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ya(t){return'href="'+Ce(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),ce(n),t.head.appendChild(n))}function _a(t){return'[src="'+Ce(t)+'"]'}function Ul(t){return"script[async]"+t}function ly(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ce(s.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Pe(l,"style",c),Iu(l,s.precedence,t),n.instance=l;case"stylesheet":c=ya(s.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=ay(s),(c=Nn.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Iu(f,s.precedence,t),n.instance=f;case"script":return f=_a(s.src),(c=t.querySelector(Ul(f)))?(n.instance=c,ce(c),c):(l=s,(c=Nn.get(f))&&(l=A({},s),Rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,s.precedence,t));return n.instance}function Iu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function oy(t,n,s){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(s,l)}else c=Vu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[qi]||f[ue]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function uy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function ST(){}function bT(t,n,s){if(Ll===null)throw Error(a(475));var l=Ll;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ya(s.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,s=ay(s),(c=Nn.get(c))&&bf(s,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Nu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(Ll===null)throw Error(a(475));var t=Ll;return t.stylesheets&&t.count===0&&wf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(wT,t),Mu=null,Nu.call(t))}function wT(t,n){if(!(n.state.loading&4)){var s=Mu.get(t);if(s)var l=s.get(null);else{s=new Map,Mu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Nu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function CT(t,n,s,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function hy(t,n,s,l,c,f,y,E,R,z,H,Q){return t=new CT(t,n,s,y,E,R,z,Q),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),t.current=f,f.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ch(f),t}function fy(t){return t?(t=Xr,t):Xr}function dy(t,n,s,l,c,f){c=fy(c),l.context===null?l.context=c:l.pendingContext=c,l=ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=es(t,l,n),s!==null&&(gn(s,t,n),dl(s,t,n))}function my(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cf(t,n){my(t,n),(t=t.alternate)&&my(t,n)}function gy(t){if(t.tag===13){var n=Kr(t,67108864);n!==null&&gn(n,t,67108864),Cf(t,67108864)}}var Ou=!0;function DT(t,n,s,l){var c=j.T;j.T=null;var f=J.p;try{J.p=2,Df(t,n,s,l)}finally{J.p=f,j.T=c}}function IT(t,n,s,l){var c=j.T;j.T=null;var f=J.p;try{J.p=8,Df(t,n,s,l)}finally{J.p=f,j.T=c}}function Df(t,n,s,l){if(Ou){var c=If(l);if(c===null)gf(t,n,l,xu,s),yy(t,l);else if(NT(c,t,n,s,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<VT.indexOf(t)){for(;c!==null;){var f=Yn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ye(y);E.entanglements[1]|=R,y&=~R}ii(f),(Ht&6)===0&&(yu=tn()+500,Vl(0))}}break;case 13:E=Kr(f,2),E!==null&&gn(E,f,2),vu(),Cf(f,2)}if(f=If(l),f===null&&gf(t,n,l,xu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else gf(t,n,l,null,s)}}function If(t){return t=Ka(t),Vf(t)}var xu=null;function Vf(t){if(xu=null,t=Qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case ve:return 2;case we:return 8;case hi:case xc:return 32;case za:return 268435456;default:return 32}default:return 32}}var Nf=!1,ms=null,gs=null,ps=null,zl=new Map,kl=new Map,ys=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Yn(n),n!==null&&gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,s,l,c){switch(n){case"focusin":return ms=Bl(ms,t,n,s,l,c),!0;case"dragenter":return gs=Bl(gs,t,n,s,l,c),!0;case"mouseover":return ps=Bl(ps,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Bl(kl.get(f)||null,t,n,s,l,c)),!0}return!1}function _y(t){var n=Qn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Pc(t.priority,function(){if(s.tag===13){var l=mn();l=Ba(l);var c=Kr(s,l);c!==null&&gn(c,s,l),Cf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=If(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ya=l,s.target.dispatchEvent(l),Ya=null}else return n=Yn(s),n!==null&&gy(n),t.blockedOn=s,!1;n.shift()}return!0}function vy(t,n,s){Uu(t)&&s.delete(n)}function MT(){Nf=!1,ms!==null&&Uu(ms)&&(ms=null),gs!==null&&Uu(gs)&&(gs=null),ps!==null&&Uu(ps)&&(ps=null),zl.forEach(vy),kl.forEach(vy)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MT)))}var Pu=null;function Ey(t){Pu!==t&&(Pu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||s)===null)continue;break}var f=Yn(s);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function jl(t){function n(R){return Lu(R,t)}ms!==null&&Lu(ms,t),gs!==null&&Lu(gs,t),ps!==null&&Lu(ps,t),zl.forEach(n),kl.forEach(n);for(var s=0;s<ys.length;s++){var l=ys[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ys.length&&(s=ys[0],s.blockedOn===null);)_y(s),s.blockedOn===null&&ys.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[xe]||null;if(typeof f=="function")y||Ey(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[xe]||null)E=y.formAction;else if(Vf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ey(s)}}}function Mf(t){this._internalRoot=t}zu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=mn();dy(s,l,t,n,null,null)},zu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;dy(t.current,2,null,t,null,null),vu(),n[di]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ys.length&&n!==0&&n<ys[s].priority;s++);ys.splice(s,0,t),s===0&&_y(t)}};var Ty=e.version;if(Ty!=="19.1.1")throw Error(a(527,Ty,"19.1.1"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Li=ku.inject(OT),je=ku}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Pg,f=zg,y=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=hy(t,1,!1,null,null,s,l,c,f,y,E,null),t[di]=n.current,mf(t),new Mf(n)},Hl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Pg,y=zg,E=kg,R=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=hy(t,1,!0,n,s??null,l,c,f,y,E,R,z),n.context=fy(null),s=n.current,l=mn(),l=Ba(l),c=ts(l),c.callback=null,es(s,c,l),s=l,n.current.lanes=s,oe(n,s),ii(n),t[di]=n.current,mf(t),new zu(n)},Hl.version="19.1.1",Hl}var Ny;function HT(){if(Ny)return Uf.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uf.exports=qT(),Uf.exports}var GT=HT();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),My=r=>{const e=QT(r);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Je.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...g},v)=>Je.createElement("svg",{ref:v,...KT,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:W_("lucide",o),...!h&&!YT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Je.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=(r,e)=>{const i=Je.forwardRef(({className:a,...o},h)=>Je.createElement(XT,{ref:h,iconNode:e,className:W_(`lucide-${FT(My(r))}`,`lucide-${r}`,a),...o}));return i.displayName=My(r),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZT=fo("plus",$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WT=fo("refresh-cw",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],e1=fo("rotate-cw",t1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Oy=fo("share-2",n1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s1=fo("trash-2",i1),r1=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},a1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let M=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(M=64)),a.push(i[A],i[C],i[M],i[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):a1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||C==null)throw new l1;const M=h<<2|g>>4;if(a.push(M),_!==64){const G=g<<4&240|_>>2;if(a.push(G),C!==64){const tt=_<<6&192|C;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(r){const e=tv(r);return ev.encodeByteArray(e,!0)},Zu=function(r){return o1(r).replace(/\./g,"")},u1=function(r){try{return ev.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof xy>"u")return;const r=xy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},d1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&u1(r[1]);return e&&JSON.parse(e)},vd=()=>{try{return r1()||h1()||f1()||d1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m1=r=>vd()?.emulatorHosts?.[r],g1=r=>{const e=m1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},nv=()=>vd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const Kl={};function v1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function E1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Uy=!1;function T1(r,e){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||Kl[r]===e||Kl[r]||Uy)return;Kl[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=v1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Uy=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function C(){const M=E1(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),ht=i("preprendIcon"),At=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;g(mt),A($,it);const kt=_();v(At,ht),mt.append(At,tt,$,kt),document.body.appendChild(mt)}h?(tt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){const r=vd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function R1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iv(){try{return typeof indexedDB=="object"}catch{return!1}}function sv(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function w1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="FirebaseError";class Ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=C1,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?D1(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,g,a)}}function D1(r,e){return r.replace(I1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const I1=/\{\$([^}]+)}/g;function eo(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Ly(h)&&Ly(d)){if(!eo(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Ly(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1e3,N1=2,M1=14400*1e3,O1=.5;function Py(r,e=V1,i=N1){const a=e*Math.pow(i,r),o=Math.round(O1*a*(Math.random()-.5)*2);return Math.min(M1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r){return r&&r._delegate?r._delegate:r}class Mi{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new p1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L1(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(r){return r===_r?void 0:r}function L1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new x1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const z1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},k1=Pt.INFO,B1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},j1=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=B1[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const q1=(r,e)=>e.some(i=>r instanceof i);let zy,ky;function H1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,$f=new WeakMap,av=new WeakMap,kf=new WeakMap,Ad=new WeakMap;function F1(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Es(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&rv.set(i,r)}).catch(()=>{}),Ad.set(e,r),e}function Q1(r){if($f.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});$f.set(r,e)}let Zf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $f.get(r);if(e==="objectStoreNames")return r.objectStoreNames||av.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Es(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Y1(r){Zf=r(Zf)}function K1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Bf(this),e,...i);return av.set(a,e.sort?e.sort():[e]),Es(a)}:G1().includes(r)?function(...e){return r.apply(Bf(this),e),Es(rv.get(this))}:function(...e){return Es(r.apply(Bf(this),e))}}function X1(r){return typeof r=="function"?K1(r):(r instanceof IDBTransaction&&Q1(r),q1(r,H1())?new Proxy(r,Zf):r)}function Es(r){if(r instanceof IDBRequest)return F1(r);if(kf.has(r))return kf.get(r);const e=X1(r);return e!==r&&(kf.set(r,e),Ad.set(e,r)),e}const Bf=r=>Ad.get(r);function lv(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Es(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Es(d.result),v.oldVersion,v.newVersion,Es(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const $1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],jf=new Map;function By(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Z1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||$1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return jf.set(e,h),h}Y1(r=>({...r,get:(e,i,a)=>By(e,i)||r.get(e,i,a),has:(e,i)=>!!By(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(W1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function W1(r){return r.getComponent()?.type==="VERSION"}const Jf="@firebase/app",jy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Td("@firebase/app"),tA="@firebase/app-compat",eA="@firebase/analytics-compat",nA="@firebase/analytics",iA="@firebase/app-check-compat",sA="@firebase/app-check",rA="@firebase/auth",aA="@firebase/auth-compat",lA="@firebase/database",oA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",fA="@firebase/installations",dA="@firebase/installations-compat",mA="@firebase/messaging",gA="@firebase/messaging-compat",pA="@firebase/performance",yA="@firebase/performance-compat",_A="@firebase/remote-config",vA="@firebase/remote-config-compat",EA="@firebase/storage",TA="@firebase/storage-compat",AA="@firebase/firestore",SA="@firebase/ai",bA="@firebase/firestore-compat",RA="firebase",wA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",CA={[Jf]:"fire-core",[tA]:"fire-core-compat",[nA]:"fire-analytics",[eA]:"fire-analytics-compat",[sA]:"fire-app-check",[iA]:"fire-app-check-compat",[rA]:"fire-auth",[aA]:"fire-auth-compat",[lA]:"fire-rtdb",[oA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[fA]:"fire-iid",[dA]:"fire-iid-compat",[mA]:"fire-fcm",[gA]:"fire-fcm-compat",[pA]:"fire-perf",[yA]:"fire-perf-compat",[_A]:"fire-rc",[vA]:"fire-rc-compat",[EA]:"fire-gcs",[TA]:"fire-gcs-compat",[AA]:"fire-fst",[bA]:"fire-fst-compat",[SA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,DA=new Map,td=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Rs(r){const e=r.name;if(td.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,r);for(const i of Ju.values())qy(i,r);for(const i of DA.values())qy(i,r);return!0}function mo(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function IA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new mc("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=wA;function ov(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(i||(i=nv()),!i)throw Ts.create("no-options");const h=Ju.get(o);if(h){if(eo(i,h.options)&&eo(a,h.config))return h;throw Ts.create("duplicate-app",{appName:o})}const d=new P1(o);for(const v of td.values())d.addComponent(v);const g=new NA(i,a,d);return Ju.set(o,g),g}function uv(r=Wf){const e=Ju.get(r);if(!e&&r===Wf&&nv())return ov();if(!e)throw Ts.create("no-app",{appName:r});return e}function ri(r,e,i){let a=CA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}Rs(new Mi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-heartbeat-database",xA=1,no="firebase-heartbeat-store";let qf=null;function cv(){return qf||(qf=lv(OA,xA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),qf}async function UA(r){try{const i=(await cv()).transaction(no),a=await i.objectStore(no).get(hv(r));return await i.done,a}catch(e){if(e instanceof Ms)Oi.warn(e.message);else{const i=Ts.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(i.message)}}}async function Hy(r,e){try{const a=(await cv()).transaction(no,"readwrite");await a.objectStore(no).put(e,hv(r)),await a.done}catch(i){if(i instanceof Ms)Oi.warn(i.message);else{const a=Ts.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(a.message)}}}function hv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1024,PA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>PA){const o=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gy(),{heartbeatsToSend:i,unsentEntries:a}=kA(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Oi.warn(e),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function kA(r,e=LA){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Fy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iv()?sv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Fy(r){return Zu(JSON.stringify({version:2,heartbeats:r})).length}function jA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){Rs(new Mi("platform-logger",e=>new J1(e),"PRIVATE")),Rs(new Mi("heartbeat",e=>new zA(e),"PRIVATE")),ri(Jf,jy,r),ri(Jf,jy,"esm2020"),ri("fire-js","")}qA("");var HA="firebase",GA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(HA,GA,"app");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,fv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function w(){}w.prototype=b.prototype,N.F=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(O,I,U){for(var S=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)S[ut-2]=arguments[ut];return b.prototype[I].apply(O,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,w){w||(w=0);const O=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)O[I]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],I=N.g[2];let U=N.g[3],S;S=b+(U^w&(I^U))+O[0]+3614090360&4294967295,b=w+(S<<7&4294967295|S>>>25),S=U+(I^b&(w^I))+O[1]+3905402710&4294967295,U=b+(S<<12&4294967295|S>>>20),S=I+(w^U&(b^w))+O[2]+606105819&4294967295,I=U+(S<<17&4294967295|S>>>15),S=w+(b^I&(U^b))+O[3]+3250441966&4294967295,w=I+(S<<22&4294967295|S>>>10),S=b+(U^w&(I^U))+O[4]+4118548399&4294967295,b=w+(S<<7&4294967295|S>>>25),S=U+(I^b&(w^I))+O[5]+1200080426&4294967295,U=b+(S<<12&4294967295|S>>>20),S=I+(w^U&(b^w))+O[6]+2821735955&4294967295,I=U+(S<<17&4294967295|S>>>15),S=w+(b^I&(U^b))+O[7]+4249261313&4294967295,w=I+(S<<22&4294967295|S>>>10),S=b+(U^w&(I^U))+O[8]+1770035416&4294967295,b=w+(S<<7&4294967295|S>>>25),S=U+(I^b&(w^I))+O[9]+2336552879&4294967295,U=b+(S<<12&4294967295|S>>>20),S=I+(w^U&(b^w))+O[10]+4294925233&4294967295,I=U+(S<<17&4294967295|S>>>15),S=w+(b^I&(U^b))+O[11]+2304563134&4294967295,w=I+(S<<22&4294967295|S>>>10),S=b+(U^w&(I^U))+O[12]+1804603682&4294967295,b=w+(S<<7&4294967295|S>>>25),S=U+(I^b&(w^I))+O[13]+4254626195&4294967295,U=b+(S<<12&4294967295|S>>>20),S=I+(w^U&(b^w))+O[14]+2792965006&4294967295,I=U+(S<<17&4294967295|S>>>15),S=w+(b^I&(U^b))+O[15]+1236535329&4294967295,w=I+(S<<22&4294967295|S>>>10),S=b+(I^U&(w^I))+O[1]+4129170786&4294967295,b=w+(S<<5&4294967295|S>>>27),S=U+(w^I&(b^w))+O[6]+3225465664&4294967295,U=b+(S<<9&4294967295|S>>>23),S=I+(b^w&(U^b))+O[11]+643717713&4294967295,I=U+(S<<14&4294967295|S>>>18),S=w+(U^b&(I^U))+O[0]+3921069994&4294967295,w=I+(S<<20&4294967295|S>>>12),S=b+(I^U&(w^I))+O[5]+3593408605&4294967295,b=w+(S<<5&4294967295|S>>>27),S=U+(w^I&(b^w))+O[10]+38016083&4294967295,U=b+(S<<9&4294967295|S>>>23),S=I+(b^w&(U^b))+O[15]+3634488961&4294967295,I=U+(S<<14&4294967295|S>>>18),S=w+(U^b&(I^U))+O[4]+3889429448&4294967295,w=I+(S<<20&4294967295|S>>>12),S=b+(I^U&(w^I))+O[9]+568446438&4294967295,b=w+(S<<5&4294967295|S>>>27),S=U+(w^I&(b^w))+O[14]+3275163606&4294967295,U=b+(S<<9&4294967295|S>>>23),S=I+(b^w&(U^b))+O[3]+4107603335&4294967295,I=U+(S<<14&4294967295|S>>>18),S=w+(U^b&(I^U))+O[8]+1163531501&4294967295,w=I+(S<<20&4294967295|S>>>12),S=b+(I^U&(w^I))+O[13]+2850285829&4294967295,b=w+(S<<5&4294967295|S>>>27),S=U+(w^I&(b^w))+O[2]+4243563512&4294967295,U=b+(S<<9&4294967295|S>>>23),S=I+(b^w&(U^b))+O[7]+1735328473&4294967295,I=U+(S<<14&4294967295|S>>>18),S=w+(U^b&(I^U))+O[12]+2368359562&4294967295,w=I+(S<<20&4294967295|S>>>12),S=b+(w^I^U)+O[5]+4294588738&4294967295,b=w+(S<<4&4294967295|S>>>28),S=U+(b^w^I)+O[8]+2272392833&4294967295,U=b+(S<<11&4294967295|S>>>21),S=I+(U^b^w)+O[11]+1839030562&4294967295,I=U+(S<<16&4294967295|S>>>16),S=w+(I^U^b)+O[14]+4259657740&4294967295,w=I+(S<<23&4294967295|S>>>9),S=b+(w^I^U)+O[1]+2763975236&4294967295,b=w+(S<<4&4294967295|S>>>28),S=U+(b^w^I)+O[4]+1272893353&4294967295,U=b+(S<<11&4294967295|S>>>21),S=I+(U^b^w)+O[7]+4139469664&4294967295,I=U+(S<<16&4294967295|S>>>16),S=w+(I^U^b)+O[10]+3200236656&4294967295,w=I+(S<<23&4294967295|S>>>9),S=b+(w^I^U)+O[13]+681279174&4294967295,b=w+(S<<4&4294967295|S>>>28),S=U+(b^w^I)+O[0]+3936430074&4294967295,U=b+(S<<11&4294967295|S>>>21),S=I+(U^b^w)+O[3]+3572445317&4294967295,I=U+(S<<16&4294967295|S>>>16),S=w+(I^U^b)+O[6]+76029189&4294967295,w=I+(S<<23&4294967295|S>>>9),S=b+(w^I^U)+O[9]+3654602809&4294967295,b=w+(S<<4&4294967295|S>>>28),S=U+(b^w^I)+O[12]+3873151461&4294967295,U=b+(S<<11&4294967295|S>>>21),S=I+(U^b^w)+O[15]+530742520&4294967295,I=U+(S<<16&4294967295|S>>>16),S=w+(I^U^b)+O[2]+3299628645&4294967295,w=I+(S<<23&4294967295|S>>>9),S=b+(I^(w|~U))+O[0]+4096336452&4294967295,b=w+(S<<6&4294967295|S>>>26),S=U+(w^(b|~I))+O[7]+1126891415&4294967295,U=b+(S<<10&4294967295|S>>>22),S=I+(b^(U|~w))+O[14]+2878612391&4294967295,I=U+(S<<15&4294967295|S>>>17),S=w+(U^(I|~b))+O[5]+4237533241&4294967295,w=I+(S<<21&4294967295|S>>>11),S=b+(I^(w|~U))+O[12]+1700485571&4294967295,b=w+(S<<6&4294967295|S>>>26),S=U+(w^(b|~I))+O[3]+2399980690&4294967295,U=b+(S<<10&4294967295|S>>>22),S=I+(b^(U|~w))+O[10]+4293915773&4294967295,I=U+(S<<15&4294967295|S>>>17),S=w+(U^(I|~b))+O[1]+2240044497&4294967295,w=I+(S<<21&4294967295|S>>>11),S=b+(I^(w|~U))+O[8]+1873313359&4294967295,b=w+(S<<6&4294967295|S>>>26),S=U+(w^(b|~I))+O[15]+4264355552&4294967295,U=b+(S<<10&4294967295|S>>>22),S=I+(b^(U|~w))+O[6]+2734768916&4294967295,I=U+(S<<15&4294967295|S>>>17),S=w+(U^(I|~b))+O[13]+1309151649&4294967295,w=I+(S<<21&4294967295|S>>>11),S=b+(I^(w|~U))+O[4]+4149444226&4294967295,b=w+(S<<6&4294967295|S>>>26),S=U+(w^(b|~I))+O[11]+3174756917&4294967295,U=b+(S<<10&4294967295|S>>>22),S=I+(b^(U|~w))+O[2]+718787259&4294967295,I=U+(S<<15&4294967295|S>>>17),S=w+(U^(I|~b))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,b){b===void 0&&(b=N.length);const w=b-this.blockSize,O=this.C;let I=this.h,U=0;for(;U<b;){if(I==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(O[I++]=N.charCodeAt(U++),I==this.blockSize){o(this,O),I=0;break}}else for(;U<b;)if(O[I++]=N[U++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=b},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)N[b++]=this.g[w]>>>O&255;return N};function h(N,b){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;const w=[];let O=!0;for(let I=N.length-1;I>=0;I--){const U=N[I]|0;O&&U==b||(w[I]=U,O=!1)}this.g=w}var g={};function v(N){return-128<=N&&N<128?h(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(N<0)return $(_(-N));const b=[];let w=1;for(let O=0;N>=w;O++)b[O]=N/w|0,w*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return $(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let O=C;for(let U=0;U<N.length;U+=8){var I=Math.min(8,N.length-U);const S=parseInt(N.substring(U,U+I),b);I<8?(I=_(Math.pow(b,I)),O=O.j(I).add(_(S))):(O=O.j(w),O=O.add(_(S)))}return O}var C=v(0),M=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(it(this))return-$(this).m();let N=0,b=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);N+=(O>=0?O:4294967296+O)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(it(this))return"-"+$(this).toString(N);const b=_(Math.pow(N,6));var w=this;let O="";for(;;){const I=kt(w,b).g;w=ht(w,I.j(b));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=I,tt(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=ht(this,N),it(N)?-1:tt(N)?0:1};function $(N){const b=N.g.length,w=[];for(let O=0;O<b;O++)w[O]=~N.g[O];return new d(w,~N.h).add(M)}r.abs=function(){return it(this)?$(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),w=[];let O=0;for(let I=0;I<=b;I++){let U=O+(this.i(I)&65535)+(N.i(I)&65535),S=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);O=S>>>16,U&=65535,S&=65535,w[I]=S<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ht(N,b){return N.add($(b))}r.j=function(N){if(tt(this)||tt(N))return C;if(it(this))return it(N)?$(this).j($(N)):$($(this).j(N));if(it(N))return $(this.j($(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,w=[];for(var O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<N.g.length;I++){const U=this.i(O)>>>16,S=this.i(O)&65535,ut=N.i(I)>>>16,vt=N.i(I)&65535;w[2*O+2*I]+=S*vt,At(w,2*O+2*I),w[2*O+2*I+1]+=U*vt,At(w,2*O+2*I+1),w[2*O+2*I+1]+=S*ut,At(w,2*O+2*I+1),w[2*O+2*I+2]+=U*ut,At(w,2*O+2*I+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function At(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function mt(N,b){this.g=N,this.h=b}function kt(N,b){if(tt(b))throw Error("division by zero");if(tt(N))return new mt(C,C);if(it(N))return b=kt($(N),b),new mt($(b.g),$(b.h));if(it(b))return b=kt(N,$(b)),new mt($(b.g),b.h);if(N.g.length>30){if(it(N)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var w=M,O=b;O.l(N)<=0;)w=pt(w),O=pt(O);var I=xt(w,1),U=xt(O,1);for(O=xt(O,2),w=xt(w,2);!tt(O);){var S=U.add(O);S.l(N)<=0&&(I=I.add(w),U=S),O=xt(O,1),w=xt(w,1)}return b=ht(N,I.j(b)),new mt(I,b)}for(I=C;N.l(b)>=0;){for(w=Math.max(1,Math.floor(N.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),S=U.j(b);it(S)||S.l(N)>0;)w-=O,U=_(w),S=U.j(b);tt(U)&&(U=M),I=I.add(U),N=ht(N,S)}return new mt(I,N)}r.B=function(N){return kt(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function pt(N){const b=N.g.length+1,w=[];for(let O=0;O<b;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function xt(N,b){const w=b>>5;b%=32;const O=N.g.length-w,I=[];for(let U=0;U<O;U++)I[U]=b>0?N.i(U+w)>>>b|N.i(U+w+1)<<32-b:N.i(U+w);return new d(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,As=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dv,Gl,mv,Fu,ed,gv,pv,yv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return m.prototype[P].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var p=typeof P;if(p=p!="object"?p:P?Array.isArray(P)?"array":p:"null",p=="array"||p=="object"&&typeof P.length=="number"){p=u.length||0;const q=P.length||0;u.length=p+q;for(let W=0;W<q;W++)u[p+W]=P[W]}else u.push(P)}}class it{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,p){const T=mt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new it(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,xt=!1,N=new At,b=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(w)}};function w(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){$(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(ut,I),ut.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),j=0;function J(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++j,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function D(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function K(u){const m={};for(const p in u)m[p]=u[p];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<nt.length;q++)p=nt[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,p,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Et(u,m,T,P);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new J(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Ct(u,m){const p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(lt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Et(u,m,p,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ft={};function Mn(u,m,p,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Mn(u,m[q],p,T,P);return null}return p=To(p),u&&u[vt]?u.J(m,p,g(T)?!!T.capture:!1,P):La(u,m,p,!1,T,P)}function La(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");const W=g(P)?!!P.capture:!!P;let bt=Pa(u);if(bt||(u[Oe]=bt=new ot(u)),p=bt.add(m,p,T,W,q),p.proxy)return p;if(T=Dr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Vr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Dr(){function u(p){return m.call(u.src,u.listener,p)}const m=Oc;return u}function Ir(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ir(u,m[q],p,T,P);else T=g(T)?!!T.capture:!!T,p=To(p),u&&u[vt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=Et(m,p,T,P),p>-1&&(lt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,p,T,P)),(p=u>-1?m[u]:null)&&Us(p))}function Us(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])Ct(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Vr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Pa(m))?(Ct(p,u),p.h==0&&(p.src=null,m[Oe]=null)):lt(u)}}}function Vr(u){return u in Ft?Ft[u]:Ft[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new ut(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Us(u),u=p.call(T,m)}return u}function Pa(u){return u=u[Oe],u instanceof ot?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function ve(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}C(ve,O),ve.prototype[vt]=!0,ve.prototype.removeEventListener=function(u,m,p,T){Ir(this,u,m,p,T)};function we(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(T,u),et(m,P)}P=!0;let q,W;if(p)for(W=p.length-1;W>=0;W--)q=m.g=p[W],P=hi(q,T,!0,m)&&P;if(q=m.g=u,P=hi(q,T,!0,m)&&P,P=hi(q,T,!1,m)&&P,p)for(W=0;W<p.length;W++)q=m.g=p[W],P=hi(q,T,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)lt(p[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ve.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==p){const bt=W.listener,Wt=W.ha||W.src;W.fa&&Ct(u.i,W),P=bt.call(Wt,T)!==!1&&P}}return P&&!T.defaultPrevented}function xc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function za(u){u.g=xc(()=>{u.g=null,u.i&&(u.i=!1,za(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(u){O.call(this),this.h=u,this.g={}}C(Ls,O);var Li=[];function je(u){Rt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Us(m)},u),u.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),je(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=d.JSON.stringify,Ye=d.JSON.parse,Lc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function So(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pi(){I.call(this,"d")}C(Pi,I);function On(){I.call(this,"c")}C(On,I);var Tn={},zi=null;function Nr(){return zi=zi||new ve}Tn.Ia="serverreachability";function ka(u){I.call(this,Tn.Ia,u)}C(ka,I);function ki(u){const m=Nr();we(m,new ka(m))}Tn.STAT_EVENT="statevent";function Mr(u,m){I.call(this,Tn.STAT_EVENT,u),this.stat=m}C(Mr,I);function oe(u){const m=Nr();we(m,new Mr(m,u))}Tn.Ja="timingevent";function bo(u,m){I.call(this,Tn.Ja,u),this.size=m}C(bo,I);function Bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function Ba(u,m,p,T,P,q){u.info(function(){if(u.g)if(q){var W="",bt=q.split("&");for(let qt=0;qt<bt.length;qt++){var Wt=bt[qt].split("=");if(Wt.length>1){const he=Wt[0];Wt=Wt[1];const on=he.split("_");W=on.length>=2&&on[1]=="type"?W+(he+"="+Wt+"&"):W+(he+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+W})}function ja(u,m,p,T,P,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+W})}function fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fn(u,p)+(T?" "+T:"")})}function Pc(u,m){u.info(function(){return"TIMEOUT: "+m})}ji.prototype.info=function(){};function Fn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return En(q)}catch{return m}}var ue={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},di;function Ps(){}C(Ps,Ao),Ps.prototype.g=function(){return new XMLHttpRequest},di=new Ps;function zs(u){return encodeURIComponent(String(u))}function zc(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function xn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var Or={},Qn={};function Yn(u,m,p){u.M=1,u.A=gi(ie(m)),u.u=p,u.R=!0,Hi(u,null)}function Hi(u,m){u.F=Date.now(),ks(u),u.B=ie(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Do(p.i,"t",T),u.C=0,p=u.j.L,u.h=new qi,u.g=Hr(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Uc(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Li[0]=P.toString()),P=Li);for(let q=0;q<P.length;q++){const W=Mn(p,P[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?K(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ki(),Ba(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qe(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=qe(this.g),Wt=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||$s(this.g)))){this.K||bt!=4||Wt==7||(Wt==8||qt<=0?ki(3):ki(2)),Xn(this);var m=this.g.ca();this.X=m;var p=Gi(this);if(this.o=m==200,ja(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xr(this,u);else{this.o=!1,this.m=3,oe(12),$n(this),Bs(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<p.length;)if(he=Ro(this,p),he==Qn){bt==4&&(this.m=4,oe(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Or){this.m=4,oe(15),fi(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,he,null),xr(this,he);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||p.length!=0||this.h.h||(this.m=1,oe(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,p,"[Invalid Chunked Response]"),$n(this),Bs(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Za(W),W.P=!0,oe(11))}}else fi(this.i,this.l,p,null),xr(this,p);bt==4&&$n(this),this.o&&!this.K&&(bt==4?Ja(this.j,this):(this.o=!1,ks(this)))}else Zs(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,oe(12)):(this.m=0,oe(13)),$n(this),Bs(this)}}}catch{}finally{}};function Gi(u){if(!ce(u))return u.g.la();const m=$s(u.g);if(m==="")return"";let p="";const T=m.length,P=qe(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return $n(u),Bs(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function ce(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Qn:(p=Number(m.substring(p,T)),isNaN(p)?Or:(T+=1,T+p>m.length?Qn:(m=m.slice(T,T+p),u.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,$n(this)};function ks(u){u.T=Date.now()+u.H,Kn(u,u.H)}function Kn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Bi(_(u.aa,u),m)}function Xn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Pc(this.i,this.B),this.M!=2&&(ki(),oe(17)),$n(this),this.m=2,Bs(this)):Kn(this,this.T-u)};function Bs(u){u.j.I==0||u.K||Ja(u.j,u)}function $n(u){Xn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,je(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xr(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||Hs(p.h,u))){if(!u.L&&Hs(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)qr(p),Zn(p);else break t;$a(p),oe(18)}}else p.xa=P[1],0<p.xa-p.K&&P[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Bi(_(p.Va,p),6e3));An(p.h)<=1&&p.ta&&(p.ta=void 0)}else _i(p,11)}else if((u.L||p.g==u)&&qr(p),!S(m))for(P=p.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const he=qt[0];if(!(he<=p.K))if(p.K=he,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const on=qt[3];on!=null&&(p.ka=on,p.j.info("VER="+p.ka));const Jn=qt[4];Jn!=null&&(p.za=Jn,p.j.info("SVER="+p.za));const Pn=qt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const zn=u.g;if(zn){const kn=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kn){var q=T.h;q.g||kn.indexOf("spdy")==-1&&kn.indexOf("quic")==-1&&kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ur(q,q.h),q.h=null))}if(T.G){const tl=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.wa=tl,Qt(T.J,T.G,tl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Po(T,T.L?T.ba:null,T.W),W.L){mi(T.h,W);var bt=W,Wt=T.O;Wt&&(bt.H=Wt),bt.D&&(Xn(bt),ks(bt)),T.g=W}else Oo(T);p.i.length>0&&er(p)}else qt[0]!="stop"&&qt[0]!="close"||_i(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?_i(p,7):Ws(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}ki(4)}catch{}}var kc=class{constructor(u,m){this.g=u,this.map=m}};function js(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function An(u){return u.h?1:u.g?u.g.size:0}function Hs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ur(u,m){u.g?u.g.add(m):u.h=m}function mi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}js.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let P,q=null;T>=0?(P=u[p].substring(0,T),q=u[p].substring(T+1)):P=u[p],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Fi(this,u.j),this.o=u.o,this.g=u.g,Gs(this,u.u),this.h=u.h,Qi(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(Pr))?(this.l=!1,Fi(this,m[1]||"",!0),this.o=Fs(m[2]||""),this.g=Fs(m[3]||"",!0),Gs(this,m[4]),this.h=Fs(m[5]||"",!0),Qi(this,m[6]||"",!0),this.m=Fs(m[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ce(m,Ha,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ce(m,Ha,!0),"@"),u.push(zs(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ce(p,p.charAt(0)=="/"?Yi:Ga,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ce(p,Co)),u.join("")},Un.prototype.resolve=function(u){const m=ie(this);let p=!!u.j;p?Fi(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Gs(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let W=0;W<P.length;){const bt=P[W++];bt=="."?T&&W==P.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==P.length&&q.push("")):(q.push(bt),T=!0)}T=q.join("/")}else T=P}return p?m.h=T:p=u.i.toString()!=="",p?Qi(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ie(u){return new Un(u)}function Fi(u,m,p){u.j=p?Fs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Qi(u,m,p){m instanceof Sn?(u.i=m,Ya(u.i,u.l)):(p||(m=Ce(m,wo)),u.i=new Sn(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function gi(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Fs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ce(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,qa),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ha=/[#\/\?@]/g,Ga=/[#\?:]/g,Yi=/[#\?]/g,wo=/[#\?@]/g,Co=/#/g;function Sn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Sn.prototype,r.add=function(u,m){pi(this),this.i=null,u=Ln(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Fa(u,m){pi(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qa(u,m){return pi(u),m=Ln(u,m),u.g.has(m)}r.forEach=function(u,m){pi(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)};function zr(u,m){pi(u);let p=[];if(typeof m=="string")Qa(u,m)&&(p=p.concat(u.g.get(Ln(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return pi(this),this.i=null,u=Ln(this,u),Qa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=zr(this,u),u.length>0?String(u[0]):m):m};function Do(u,m,p){Fa(u,m),p.length>0&&(u.i=null,u.g.set(Ln(u,m),G(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const P=zs(p);p=zr(this,p);for(let q=0;q<p.length;q++){let W=P;p[q]!==""&&(W+="="+zs(p[q])),u.push(W)}}return this.i=u.join("&")};function Io(u){const m=new Sn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ya(u,m){m&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(p,T){const P=T.toLowerCase();T!=P&&(Fa(this,T),Do(this,P,p))},u)),u.j=m}function Ka(u,m){const p=new ji;if(d.Image){const T=new Image;T.onload=A(Ke,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Ke,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Ke,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Ke,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ki(u,m){const p=new ji,T=new AbortController,P=setTimeout(()=>{T.abort(),Ke(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Ke(p,"TestPingServer: ok",!0,m):Ke(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ke(p,"TestPingServer: error",!1,m)})}function Ke(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function Vo(){this.g=new Lc}function Qs(u){this.i=u.Sb||null,this.h=u.ab||!1}C(Qs,Ao),Qs.prototype.g=function(){return new Ys(this.i,this.h)};function Ys(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Ys,ve),r=Ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xe(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xe(this):yi(this),this.readyState==3&&Xi(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Xe(this))},r.Na=function(u){this.g&&(this.response=u,Xe(this))},r.ga=function(){this.g&&Xe(this)};function Xe(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let m="";return Rt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function bn(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=$i(p),typeof u=="string"?p!=null&&zs(p):Qt(u,m,p))}function Zt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Zt,ve);var kr=/^https?$/i,No=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():di.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ks(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ks(this,q)}};function Ks(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xs(u),Ee(u)}function Xs(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Ee(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ee(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xa(this):this.Xa())},r.Xa=function(){Xa(this)};function Xa(u){if(u.h&&typeof h<"u"){if(u.v&&qe(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),qe(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let W=String(u.D).match(Pr)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!kr.test(W?W.toLowerCase():"")}p=T}if(p)we(u,"complete"),we(u,"success");else{u.o=6;try{var P=qe(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xs(u)}}finally{Ee(u)}}}}function Ee(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||we(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qe(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ye(m)}};function $s(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(u){const m={};u=(u.g&&qe(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var p=zc(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}D(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Br(u){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Js("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Js("baseRetryDelayMs",5e3,u),this.Za=Js("retryDelaySeedMs",1e4,u),this.Ta=Js("forwardChannelMaxRetries",2,u),this.va=Js("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new js(u&&u.concurrentRequestLimit),this.Ba=new Vo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Br.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){oe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Po(this,null,this.W),er(this)};function Ws(u){if(tr(u),u.I==3){var m=u.V++,p=ie(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),nr(u,p),m=new xn(u,u.j,m),m.M=2,m.A=gi(ie(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Hr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ks(m)}Lo(u)}function Zn(u){u.g&&(Za(u),u.g.cancel(),u.g=null)}function tr(u){Zn(u),u.v&&(d.clearTimeout(u.v),u.v=null),qr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function er(u){if(!qs(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||b(),xt||(pt(),xt=!0),N.add(m,u),u.D=0}}function jc(u,m){return An(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Bi(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=K(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=jr(this,P,m),p=ie(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),nr(this,p),q&&(this.R?m="headers="+zs($i(q))+"&"+m:this.u&&bn(p,this.u,q)),Ur(this.h,P),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),P.U=!0,Yn(P,p,null)):Yn(P,p,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||qs(this.h)||Mo(this))};function Mo(u,m){var p;m?p=m.l:p=u.V++;const T=ie(u.J);Qt(T,"SID",u.M),Qt(T,"RID",p),Qt(T,"AID",u.K),nr(u,T),u.u&&u.o&&bn(T,u.u,u.o),p=new xn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=jr(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ur(u.h,p),Yn(p,T,m)}function nr(u,m){u.H&&Rt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Rt({},function(p,T){Qt(m,T,p)})}function jr(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let bt=-1;for(;;){const Wt=["count="+p];bt==-1?p>0?(bt=P[0].g,Wt.push("ofs="+bt)):bt=0:Wt.push("ofs="+bt);let qt=!0;for(let he=0;he<p;he++){var q=P[he].g;const on=P[he].map;if(q-=bt,q<0)bt=Math.max(0,P[he].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var W=on instanceof Map?on:Object.entries(on);for(const[Jn,Pn]of W){let zn=Pn;g(Pn)&&(zn=En(Pn)),Wt.push(q+Jn+"="+encodeURIComponent(zn))}}catch(Jn){throw Wt.push(q+"type="+encodeURIComponent("_badmap")),Jn}}catch{T&&T(on)}}if(qt){W=Wt.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||b(),xt||(pt(),xt=!0),N.add(m,u),u.A=0}}function $a(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Bi(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Bi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,oe(10),Zn(this),xo(this))};function Za(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xo(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),nr(u,m),u.u&&u.o&&bn(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=gi(ie(m)),p.u=null,p.R=!0,Hi(p,u)}r.Va=function(){this.C!=null&&(this.C=null,Zn(this),$a(this),oe(19))};function qr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ja(u,m){var p=null;if(u.g==m){qr(u),Za(u),u.g=null;var T=2}else if(Hs(u.h,m))p=m.G,mi(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Nr(),we(T,new bo(T,p)),er(u)}else Oo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&jc(u,m)||T==2&&$a(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const P=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fi(T,"https"),gi(T),P?Ka(T.toString(),p):Ki(T.toString(),p)}else oe(2);u.I=0,u.l&&u.l.pa(m),Lo(u),tr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Lr(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Po(u,m,p){var T=p instanceof Un?ie(p):new Un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Un(null);T&&Fi(q,T),m&&(q.g=m),P&&Gs(q,P),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",u.ka),nr(u,T),T}function Hr(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Qs({ab:p})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}r=zo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Gr(){}Gr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ve.call(this),this.g=new Br(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}C($e,ve),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ws(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=En(u),u=p);m.i.push(new kc(m.Ya++,u)),m.I==3&&er(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,$e.Z.N.call(this)};function Wa(u){Pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(Wa,Pi);function ko(){On.call(this),this.status=1}C(ko,On);function Zi(u){this.g=u}C(Zi,zo),Zi.prototype.ra=function(){we(this.g,"a")},Zi.prototype.qa=function(u){we(this.g,new Wa(u))},Zi.prototype.pa=function(u){we(this.g,new ko)},Zi.prototype.oa=function(){we(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,yv=function(){return new Gr},pv=function(){return Nr()},gv=Tn,ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Fu=ue,xe.COMPLETE="complete",mv=xe,So.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Gl=So,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,dv=Zt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Ky="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Td("@firebase/firestore");function va(){return Ar.logLevel}function st(r,...e){if(Ar.logLevel<=Pt.DEBUG){const i=e.map(Sd);Ar.debug(`Firestore (${Ma}): ${r}`,...i)}}function xi(r,...e){if(Ar.logLevel<=Pt.ERROR){const i=e.map(Sd);Ar.error(`Firestore (${Ma}): ${r}`,...i)}}function wa(r,...e){if(Ar.logLevel<=Pt.WARN){const i=e.map(Sd);Ar.warn(`Firestore (${Ma}): ${r}`,...i)}}function Sd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,_v(r,a,i)}function _v(r,e,i){let a=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xi(a),new Error(a)}function zt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||_v(e,o,a)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){zt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ss,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ss)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(zt(typeof a.accessToken=="string",31837,{l:a}),new vv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class KA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new KA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $A{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){zt(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Xy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=ZA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Mt(r,e){return r<e?-1:r>e?1:0}function nd(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Hf(o)===Hf(h)?Mt(o,h):Hf(o)?1:-1}return Mt(r.length,e.length)}const JA=55296,WA=57343;function Hf(r){const e=r.charCodeAt(0);return e>=JA&&e<=WA}function Ca(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class si{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ft(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=si.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const a=si.isNumericId(e),o=si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class te extends si{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const tS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends si{construct(e,i,a){return new ke(e,i,a)}static isValidIdentifier(e){return tS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new ke([$y])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(te.fromString(e))}static fromName(e){return new dt(te.fromString(e).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nS(r,e,i,a){if(e===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Zy(r){if(!dt.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ev(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ft(12329,{type:typeof r})}function Tr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e){const i={typeString:r};return e&&(i.value=e),i}function go(r,e){if(!Ev(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Wy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Wy);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:_e("string",ee._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function iS(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new ws(o,dt.empty(),e)}function sS(r){return new ws(r.readTime,r.key,io)}class ws{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ws(_t.min(),dt.empty(),io)}static max(){return new ws(_t.max(),dt.empty(),io)}}function rS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Mt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==aS)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.reject(i)}static resolve(e){return new Y(((i,a)=>{i(e)}))}static reject(e){return new Y(((i,a)=>{a(e)}))}static waitFor(e){return new Y(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next((o=>o?Y.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new Y(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Y(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function oS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function po(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function uS(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="";function cS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=t_(e)),e=hS(r.get(i),e);return t_(e)}function hS(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Tv:i+="";break;default:i+=h}}return i}function t_(r){return r+Tv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Os(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Av(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ze(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Re(ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Sv("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(r){if(zt(!!r,39018),typeof r=="string"){let e=0;const i=fS.exec(r);if(zt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="server_timestamp",Rv="__type__",wv="__previous_value__",Cv="__local_write_time__";function Cd(r){return(r?.mapValue?.fields||{})[Rv]?.stringValue===bv}function pc(r){const e=r.mapValue.fields[wv];return Cd(e)?pc(e):e}function so(r){const e=Cs(r.mapValue.fields[Cv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,a,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__type__",mS="__max__",qu={mapValue:{}},Iv="__vector__",ec="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cd(r)?4:pS(r)?9007199254740991:gS(r)?10:11:ft(28295,{value:r})}function ui(r,e){if(r===e)return!0;const i=Is(r);if(i!==Is(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return so(r).isEqual(so(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Cs(o.timestampValue),g=Cs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ds(o.bytesValue).isEqual(Ds(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),g=me(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Ca(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ui(d[v],g[v])))return!1;return!0})(r,e);default:return ft(52216,{left:r})}}function ao(r,e){return(r.values||[]).find((i=>ui(i,e)))!==void 0}function Da(r,e){if(r===e)return 0;const i=Is(r),a=Is(e);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return i_(r.timestampValue,e.timestampValue);case 4:return i_(so(r),so(e));case 5:return nd(r.stringValue,e.stringValue);case 6:return(function(h,d){const g=Ds(h),v=Ds(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Mt(g[_],v[_]);if(A!==0)return A}return Mt(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Mt(me(h.latitude),me(d.latitude));return g!==0?g:Mt(me(h.longitude),me(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return s_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ec]?.arrayValue,A=v[ec]?.arrayValue,C=Mt(_?.values?.length||0,A?.values?.length||0);return C!==0?C:s_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const M=nd(v[C],A[C]);if(M!==0)return M;const G=Da(g[v[C]],_[A[C]]);if(G!==0)return G}return Mt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function i_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const i=Cs(r),a=Cs(e),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function s_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Da(i[o],a[o]);if(h)return h}return Mt(i.length,a.length)}function Ia(r){return id(r)}function id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Cs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ds(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=id(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(r.mapValue):ft(61005,{value:r})}function Qu(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Qu(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Os(a.fields,((h,d)=>{o+=h.length+Qu(d)})),o})(r.mapValue);default:throw ft(13486,{value:r})}}function sd(r){return!!r&&"integerValue"in r}function Dd(r){return!!r&&"arrayValue"in r}function r_(r){return!!r&&"nullValue"in r}function a_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function gS(r){return(r?.mapValue?.fields||{})[Dv]?.stringValue===Iv}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Xl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(r.arrayValue.values[i]);return e}return{...r}}function pS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.value=e}static empty(){return new We({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=ke.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Os(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new We(Xl(this.value))}}function Vv(r){const e=[];return Os(r.fields,((i,a)=>{const o=new ke([i]);if(Yu(a)){const h=Vv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Me(e,0,_t.min(),_t.min(),_t.min(),We.empty(),0)}static newFoundDocument(e,i,a,o){return new Me(e,1,i,_t.min(),a,o,0)}static newNoDocument(e,i){return new Me(e,2,i,_t.min(),_t.min(),We.empty(),0)}static newUnknownDocument(e,i){return new Me(e,3,i,_t.min(),_t.min(),We.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Da(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function o_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function yS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Se extends Nv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new vS(e,i,a):i==="array-contains"?new AS(e,a):i==="in"?new SS(e,a):i==="not-in"?new bS(e,a):i==="array-contains-any"?new RS(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new ES(e,a):new TS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Da(i,this.value)):i!==null&&Is(this.value)===Is(i)&&this.matchesComparison(Da(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return Mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mv(r){return r.op==="and"}function Ov(r){return _S(r)&&Mv(r)}function _S(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function rd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Ia(r.value);if(Ov(r))return r.filters.map((e=>rd(e))).join(",");{const e=r.filters.map((i=>rd(i))).join(",");return`${r.op}(${e})`}}function xv(r,e){return r instanceof Se?(function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ui(a.value,o.value)})(r,e):r instanceof ci?(function(a,o){return o instanceof ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&xv(d,o.filters[g])),!0):!1})(r,e):void ft(19439)}function Uv(r){return r instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ia(i.value)}`})(r):r instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Uv).join(" ,")+"}"})(r):"Filter"}class vS extends Se{constructor(e,i,a){super(e,i,a),this.key=dt.fromName(a.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ES extends Se{constructor(e,i){super(e,"in",i),this.keys=Lv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class TS extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Lv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Lv(r,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class AS extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&ao(i.arrayValue,this.value)}}class SS extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class bS extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class RS extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ao(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function u_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new wS(r,e,i,a,o,h,d)}function Id(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),po(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ia(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ia(a))).join(",")),e.Te=i}return e.Te}function Vd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!yS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o_(r.startAt,e.startAt)&&o_(r.endAt,e.endAt)}function ad(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CS(r,e,i,a,o,h,d,g){return new yc(r,e,i,a,o,h,d,g)}function Nd(r){return new yc(r)}function c_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DS(r){return r.collectionGroup!==null}function $l(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ic(h,a))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new ic(ke.keyField(),a))}return e.Ie}function ai(r){const e=St(r);return e.Ee||(e.Ee=IS(e,$l(r))),e.Ee}function IS(r,e){if(r.limitType==="F")return u_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)}));const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return u_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function ld(r,e,i){return new yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function _c(r,e){return Vd(ai(r),ai(e))&&r.limitType===e.limitType}function Pv(r){return`${Id(ai(r))}|lt:${r.limitType}`}function Ea(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Uv(o))).join(", ")}]`),po(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Ia(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Ia(o))).join(",")),`Target(${a})`})(ai(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):dt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of $l(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=l_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,$l(a),o)||a.endAt&&!(function(d,g,v){const _=l_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,$l(a),o))})(r,e)}function VS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zv(r){return(e,i)=>{let a=!1;for(const o of $l(r)){const h=NS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function NS(r,e,i){const a=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Da(v,_):ft(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return Av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new re(dt.comparator);function Ui(){return MS}const kv=new re(dt.comparator);function Fl(...r){let e=kv;for(const i of r)e=e.insert(i.key,i);return e}function Bv(r){let e=kv;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function vr(){return Zl()}function jv(){return Zl()}function Zl(){return new wr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const OS=new re(dt.comparator),xS=new Re(dt.comparator);function Ot(...r){let e=xS;for(const i of r)e=e.add(i);return e}const US=new Re(Mt);function LS(){return US}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function qv(r){return{integerValue:""+r}}function PS(r,e){return uS(e)?qv(e):Md(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function zS(r,e,i){return r instanceof lo?(function(o,h){const d={fields:{[Rv]:{stringValue:bv},[Cv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Cd(h)&&(h=pc(h)),h&&(d.fields[wv]=h),{mapValue:d}})(i,e):r instanceof oo?Gv(r,e):r instanceof uo?Fv(r,e):(function(o,h){const d=Hv(o,h),g=h_(d)+h_(o.Ae);return sd(d)&&sd(o.Ae)?qv(g):Md(o.serializer,g)})(r,e)}function kS(r,e,i){return r instanceof oo?Gv(r,e):r instanceof uo?Fv(r,e):i}function Hv(r,e){return r instanceof sc?(function(a){return sd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class lo extends Ec{}class oo extends Ec{constructor(e){super(),this.elements=e}}function Gv(r,e){const i=Qv(e);for(const a of r.elements)i.some((o=>ui(o,a)))||i.push(a);return{arrayValue:{values:i}}}class uo extends Ec{constructor(e){super(),this.elements=e}}function Fv(r,e){let i=Qv(e);for(const a of r.elements)i=i.filter((o=>!ui(o,a)));return{arrayValue:{values:i}}}class sc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h_(r){return me(r.integerValue||r.doubleValue)}function Qv(r){return Dd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.field=e,this.transform=i}}function jS(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof oo&&o instanceof oo||a instanceof uo&&o instanceof uo?Ca(a.elements,o.elements,ui):a instanceof sc&&o instanceof sc?ui(a.Ae,o.Ae):a instanceof lo&&o instanceof lo})(r.transform,e.transform)}class qS{constructor(e,i){this.version=e,this.transformResults=i}}class an{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tc{}function Yv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Od(r.key,an.none()):new yo(r.key,r.data,an.none());{const i=r.data,a=We.empty();let o=new Re(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new xs(r.key,a,new yn(o.toArray()),an.none())}}function HS(r,e,i){r instanceof yo?(function(o,h,d){const g=o.value.clone(),v=d_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof xs?(function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=d_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Kv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(r,e,i,a){return r instanceof yo?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=h.value.clone(),A=m_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof xs?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=m_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Kv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,e,i,a):(function(h,d,g){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function GS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Hv(a.transform,o||null);h!=null&&(i===null&&(i=We.empty()),i.set(a.field,h))}return i||null}function f_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ca(a,o,((h,d)=>jS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yo extends Tc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Tc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function d_(r,e,i){const a=new Map;zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,kS(d,g,i[o]))}return a}function m_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,zS(h,d,e))}return a}class Od extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xv extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&HS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=jv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Yv(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,((i,a)=>f_(i,a)))&&Ca(this.baseMutations,e.baseMutations,((i,a)=>f_(i,a)))}}class xd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){zt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return OS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new xd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Lt;function $v(r){switch(r){case X.OK:return ft(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ft(15467,{code:r})}}function Zv(r){if(r===void 0)return xi("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return ft(39323,{code:r})}}(Lt=ye||(ye={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new As([4294967295,4294967295],0);function g_(r){const e=KS().encode(r),i=new fv;return i.update(e),new Uint8Array(i.digest())}function p_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new As([i,a],0),new As([o,h],0)]}class Ud{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(a<0)throw new Ql(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=As.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(As.fromNumber(a)));return o.compare(XS)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[a,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=g_(e),[a,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ac(_t.min(),o,new re(Mt),Ui(),Ot())}}class _o{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new _o(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Jv{constructor(e,i){this.targetId=e,this.Ce=i}}class Wv{constructor(e,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ft(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $S{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=Hu(),this.He=Hu(),this.Ye=new re(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(a===0){const d=new dt(h.path);this.et(i,d,Me.newNoDocument(d,_t.min()))}else zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ds(a).toUint8Array()}catch(v){if(v instanceof Sv)return wa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ud(d,o,h)}catch(v){return wa(v instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ad(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Me.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Ot();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ac(e,i,this.Ye,this.je,a);return this.je=Ui(),this.Je=Hu(),this.He=Hu(),this.Ye=new re(Mt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new re(dt.comparator)}function __(){return new re(dt.comparator)}const ZS={asc:"ASCENDING",desc:"DESCENDING"},JS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"};class tb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(r,e){return r.useProto3Json||po(e)?e:{value:e}}function rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eb(r,e){return rc(r,e.toTimestamp())}function _n(r){return zt(!!r,49232),_t.fromTimestamp((function(i){const a=Cs(i);return new ee(a.seconds,a.nanos)})(r))}function Ld(r,e){return ud(r,e).canonicalString()}function ud(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function e0(r){const e=te.fromString(r);return zt(l0(e),10190,{key:e.toString()}),e}function ac(r,e){return Ld(r.databaseId,e.path)}function Wl(r,e){const i=e0(e);if(i.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(i0(i))}function n0(r,e){return Ld(r.databaseId,e)}function nb(r){const e=e0(r);return e.length===4?te.emptyPath():i0(e)}function cd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function i0(r){return zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v_(r,e,i){return{name:ac(r,e),fields:i.value.mapValue.fields}}function ib(r,e){return"found"in e?(function(a,o){zt(!!o.found,43571),o.found.name,o.found.updateTime;const h=Wl(a,o.found.name),d=_n(o.found.updateTime),g=o.found.createTime?_n(o.found.createTime):_t.min(),v=new We({mapValue:{fields:o.found.fields}});return Me.newFoundDocument(h,d,g,v)})(r,e):"missing"in e?(function(a,o){zt(!!o.missing,3894),zt(!!o.readTime,22933);const h=Wl(a,o.missing),d=_n(o.readTime);return Me.newNoDocument(h,d)})(r,e):ft(7234,{result:e})}function sb(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(zt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:Zv(_.code);return new at(A,_.message||"")})(d);i=new Wv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wl(r,a.document.name),h=_n(a.document.updateTime),d=a.document.createTime?_n(a.document.createTime):_t.min(),g=new We({mapValue:{fields:a.document.fields}}),v=Me.newFoundDocument(o,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wl(r,a.document),h=a.readTime?_n(a.readTime):_t.min(),d=Me.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wl(r,a.document),h=a.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return ft(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new YS(o,h),g=a.targetId;i=new Jv(g,d)}}return i}function s0(r,e){let i;if(e instanceof yo)i={update:v_(r,e.key,e.value)};else if(e instanceof Od)i={delete:ac(r,e.key)};else if(e instanceof xs)i={update:v_(r,e.key,e.data),updateMask:db(e.fieldMask)};else{if(!(e instanceof Xv))return ft(16599,{Vt:e.type});i={verify:ac(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof lo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:eb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(r,e.precondition)),i}function rb(r,e){return r&&r.length>0?(zt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?_n(o.updateTime):_n(h);return d.isEqual(_t.min())&&(d=_n(h)),new qS(d,o.transformResults||[])})(i,e)))):[]}function ab(r,e){return{documents:[n0(r,e.path)]}}function lb(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=n0(r,o);const h=(function(_){if(_.length!==0)return a0(ci.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Ta(M.field),direction:cb(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=od(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ob(r){let e=nb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){zt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(C){const M=r0(C);return M instanceof ci&&Ov(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((M=>(function(tt){return new ic(Aa(tt.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(C){let M;return M=typeof C=="object"?C.value:C,po(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(C){const M=!!C.before,G=C.values||[];return new nc(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const M=!C.before,G=C.values||[];return new nc(G,M)})(i.endAt)),CS(e,o,d,h,g,"F",v,_)}function ub(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function r0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Aa(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Aa(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Aa(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Aa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Se.create(Aa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((a=>r0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(r):ft(30097,{filter:r})}function cb(r){return ZS[r]}function hb(r){return JS[r]}function fb(r){return WS[r]}function Ta(r){return{fieldPath:r.canonicalString()}}function Aa(r){return ke.fromServerFormat(r.fieldPath)}function a0(r){return r instanceof Se?(function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NAN"}};if(r_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NOT_NAN"}};if(r_(i.value))return{unaryFilter:{field:Ta(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(i.field),op:hb(i.op),value:i.value}}})(r):r instanceof ci?(function(i){const a=i.getFilters().map((o=>a0(o)));return a.length===1?a[0]:{compositeFilter:{op:fb(i.op),filters:a}}})(r):ft(54877,{filter:r})}function db(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function l0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,i,a,o,h=_t.min(),d=_t.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.yt=e}}function gb(r){const e=ob({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.Cn=new yb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(ws.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class yb{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Re(te.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Re(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(o0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Va(0)}static cr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",_b=1048576;function A_([r,e],[i,a]){const o=Mt(r,i);return o===0?Mt(e,a):o}class vb{constructor(e){this.Ir=e,this.buffer=new Re(A_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();A_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Eb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xa(i)?st(T_,"Ignoring IndexedDB error during garbage collection: ",i):await Oa(i)}await this.Vr(3e5)}))}}class Tb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(gc.ce);const a=new vb(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(E_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(a=C,g=Date.now(),this.removeTargets(e,a,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((C=>(_=Date.now(),va()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C}))))}}function Ab(r,e){return new Tb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.changes=new wr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Jl(a.mutation,o,yn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ot()){const o=vr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Fl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=vr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ot())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=Ui();const d=Zl(),g=(function(){return Zl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof xs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Jl(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new bb(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Zl();let o=new re(((d,g)=>d-g)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||yn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const C=(o.get(g.batchId)||Ot()).add(v);o=o.insert(g.batchId,C)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=jv();A.forEach((M=>{if(!h.has(M)){const G=Yv(i.get(M),a.get(M));G!==null&&C.set(M,G),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):DS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Y.resolve(vr());let g=io,v=h;return d.next((_=>Y.forEach(_,((A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:g,changes:Bv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((a=>{let o=Fl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((g=>Y.forEach(g,(v=>{const _=(function(C,M){return new yc(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((C,M)=>{d=d.insert(C,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Me.newInvalidDocument(A)))}));let g=Fl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Jl(A.mutation,_,yn.empty(),ee.now()),vc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_n(o.createTime)}})(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:gb(o.bundledQuery),readTime:_n(o.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.overlays=new re(dt.comparator),this.qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=vr();return Y.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),Y.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const o=vr(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=vr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=vr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return Y.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new QS(i,a));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Qr=new Re(Ne.$r),this.Ur=new Re(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new dt(new te([])),a=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new te([])),a=new Ne(i,e),o=new Ne(i,e+1);let h=Ot();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Ne.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?wd:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Re(Mt);return i.forEach((o=>{const h=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;dt.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new dt(h),0);let g=new Re(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(o=>{const h=new Ne(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ne(i,0),o=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.ri=e,this.docs=(function(){return new re(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Me.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Me.newInvalidDocument(o))})),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ui();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rS(sS(A),a)<=0||(o.has(A.key)||vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,o){ft(9500)}ii(e,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Nb(this)}getSize(e){return Y.resolve(this.size)}}class Nb extends Sb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.persistence=e,this.si=new wr((i=>Id(i)),Vd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Pd,this.targetCount=0,this.ai=Va.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Va(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Pr(i),Y.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Y.waitFor(h).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new Db,this.referenceDelegate=e(this),this.Pi=new Mb(this),this.indexManager=new pb,this.remoteDocumentCache=(function(o){return new Vb(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new mb(i),this.Ii=new wb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Cb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Ib(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new Ob(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Ob extends lS{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Vi=null}static mi(e){return new zd(e)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const o=dt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new wr((a=>cS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Ab(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Y.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?Y.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,a){return Y.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new kd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R1()?8:oS(A1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new xb;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(va()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ea(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(va()<=Pt.DEBUG&&st("QueryEngine","Query:",Ea(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(va()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ea(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):Y.resolve())}ys(e,i){if(c_(i))return Y.resolve(null);let a=ai(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ld(i,null,"F"),a=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,ld(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return c_(i)||o.isEqual(_t.min())?Y.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Y.resolve(null):(va()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ea(i)),this.vs(e,d,i,iS(o,io)).next((g=>g)))}))}Ds(e,i){let a=new Re(zv(e));return i.forEach(((o,h)=>{vc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return va()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ea(i)),this.ps.getDocumentsMatchingQuery(e,i,ws.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="LocalStore",Lb=3e8;class Pb{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new re(Mt),this.xs=new wr((h=>Id(h)),Vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zb(r,e,i,a){return new Pb(r,e,i,a)}async function c0(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function kb(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const C=_.batch,M=C.keys();let G=Y.resolve();return M.forEach((tt=>{G=G.next((()=>A.getEntry(v,tt))).next((it=>{const $=_.docVersions.get(tt);zt($!==null,48541),it.version.compareTo($)<0&&(C.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,C)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function h0(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Bb(r,e){const i=St(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,C)=>{const M=o.get(C);if(!M)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C))));let G=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(C,G),(function(it,$,ht){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Lb?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,G,A)&&g.push(i.Pi.updateTargetData(h,G))}));let v=Ui(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(jb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function jb(r,e,i){let a=Ot(),o=Ot();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ui();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):st(Bd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function qb(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=wd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Hb(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,Y.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new vs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function hd(r,e,i){const a=St(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xa(d))throw d;st(Bd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function S_(r,e,i){const a=St(r);let o=_t.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const C=St(v),M=C.xs.get(A);return M!==void 0?Y.resolve(C.Ms.get(M)):C.Pi.getTargetData(_,A)})(a,d,ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Ot()))).next((g=>(Gb(a,VS(e),g),{documents:g,Qs:h})))))}function Gb(r,e,i){let a=r.Os.get(e)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class b_{constructor(){this.activeTargetIds=LS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fb{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class w_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function fd(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",Yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=fd(),g=this.zo(e,i.toUriEncodedString());st(Gf,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Ed(_);return this.Jo(e,g,v,a,A).then((C=>(st(Gf,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw wa(Gf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ma})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Yb[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class $b extends Kb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=fd();return new Promise(((g,v)=>{const _=new dv;_.setWithCredentials(!0),_.listenOnce(mv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const C=_.getResponseJson();st(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Fu.TIMEOUT:st(Fe,`RPC '${e}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const M=_.getStatus();if(st(Fe,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const it=(function(ht){const At=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(At)>=0?At:X.UNKNOWN})(tt.status);v(new at(it,tt.message))}else v(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=fd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yv(),g=pv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");st(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const C=d.createWebChannel(A,v);this.I_(C);let M=!1,G=!1;const tt=new Xb({Yo:$=>{G?st(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(M||(st(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),M=!0),st(Fe,`RPC '${e}' stream ${o} sending:`,$),C.send($))},Zo:()=>C.close()}),it=($,ht,At)=>{$.listen(ht,(mt=>{try{At(mt)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return it(C,Gl.EventType.OPEN,(()=>{G||(st(Fe,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),it(C,Gl.EventType.CLOSE,(()=>{G||(G=!0,st(Fe,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(C))})),it(C,Gl.EventType.ERROR,($=>{G||(G=!0,wa(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),tt.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),it(C,Gl.EventType.MESSAGE,($=>{if(!G){const ht=$.data[0];zt(!!ht,16349);const At=ht,mt=At?.error||At[0]?.error;if(mt){st(Fe,`RPC '${e}' stream ${o} received error:`,mt);const kt=mt.status;let pt=(function(b){const w=ye[b];if(w!==void 0)return Zv(w)})(kt),xt=mt.message;pt===void 0&&(pt=X.INTERNAL,xt="Unknown error status: "+kt+" with message "+mt.message),G=!0,tt.a_(new at(pt,xt)),C.close()}else st(Fe,`RPC '${e}' stream ${o} received:`,ht),tt.u_(ht)}})),it(g,gv.STAT_EVENT,($=>{$.stat===ed.PROXY?st(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===ed.NOPROXY&&st(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r){return new tb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class f0{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jd(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zb extends f0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sb(this.serializer,e),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?_n(d.readTime):_t.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=cd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=ad(v)?{documents:ab(h,v)}:{query:lb(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=t0(h,d.resumeToken);const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=rc(h,d.snapshotVersion.toTimestamp());const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=ub(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=cd(this.serializer),i.removeTarget=e,this.q_(i)}}class Jb extends f0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rb(e.writeResults,e.commitTime),a=_n(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=cd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>s0(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{}class t2 extends Wb{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ud(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ud(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="RemoteStore";class n2{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Cr(this)&&(st(Sr,"Restarting streams for network reachability change."),await(async function(v){const _=St(v);_.Ea.add(4),await vo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await bc(_)})(this))}))})),this.Ra=new e2(a,o)}}async function bc(r){if(Cr(r))for(const e of r.da)await e(!0)}async function vo(r){for(const e of r.da)await e(!1)}function d0(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Fd(i)?Gd(i):Ua(i).O_()&&Hd(i,e))}function qd(r,e){const i=St(r),a=Ua(i);i.Ia.delete(e),a.O_()&&m0(i,e),i.Ia.size===0&&(a.O_()?a.L_():Cr(i)&&i.Ra.set("Unknown"))}function Hd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ua(r).Y_(e)}function m0(r,e){r.Va.Ue(e),Ua(r).Z_(e)}function Gd(r){r.Va=new $S({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ua(r).start(),r.Ra.ua()}function Fd(r){return Cr(r)&&!Ua(r).x_()&&r.Ia.size>0}function Cr(r){return St(r).Ea.size===0}function g0(r){r.Va=void 0}async function i2(r){r.Ra.set("Online")}async function s2(r){r.Ia.forEach(((e,i)=>{Hd(r,e)}))}async function r2(r,e){g0(r),Fd(r)?(r.Ra.ha(e),Gd(r)):r.Ra.set("Unknown")}async function a2(r,e,i){if(r.Ra.set("Online"),e instanceof Wv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){st(Sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oc(r,a)}else if(e instanceof Xu?r.Va.Ze(e):e instanceof Jv?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const a=await h0(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),m0(h,v);const C=new vs(A.target,v,_,A.sequenceNumber);Hd(h,C)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Sr,"Failed to raise snapshot:",a),await oc(r,a)}}async function oc(r,e,i){if(!xa(e))throw e;r.Ea.add(1),await vo(r),r.Ra.set("Offline"),i||(i=()=>h0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Sr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bc(r)}))}function p0(r,e){return e().catch((i=>oc(r,i,e)))}async function Rc(r){const e=St(r),i=Vs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wd;for(;l2(e);)try{const o=await qb(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,o2(e,o)}catch(o){await oc(e,o)}y0(e)&&_0(e)}function l2(r){return Cr(r)&&r.Ta.length<10}function o2(r,e){r.Ta.push(e);const i=Vs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function y0(r){return Cr(r)&&!Vs(r).x_()&&r.Ta.length>0}function _0(r){Vs(r).start()}async function u2(r){Vs(r).ra()}async function c2(r){const e=Vs(r);for(const i of r.Ta)e.ea(i.mutations)}async function h2(r,e,i){const a=r.Ta.shift(),o=xd.from(a,e,i);await p0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rc(r)}async function f2(r,e){e&&Vs(r).X_&&await(async function(a,o){if((function(d){return $v(d)&&d!==X.ABORTED})(o.code)){const h=a.Ta.shift();Vs(a).B_(),await p0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Rc(a)}})(r,e),y0(r)&&_0(r)}async function D_(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Sr,"RemoteStore received new credentials");const a=Cr(i);i.Ea.add(3),await vo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bc(i)}async function d2(r,e){const i=St(r);e?(i.Ea.delete(2),await bc(i)):e||(i.Ea.add(2),await vo(i),i.Ra.set("Unknown"))}function Ua(r){return r.ma||(r.ma=(function(i,a,o){const h=St(i);return h.sa(),new Zb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:i2.bind(null,r),t_:s2.bind(null,r),r_:r2.bind(null,r),H_:a2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Fd(r)?Gd(r):r.Ra.set("Unknown")):(await r.ma.stop(),g0(r))}))),r.ma}function Vs(r){return r.fa||(r.fa=(function(i,a,o){const h=St(i);return h.sa(),new Jb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,r),r_:f2.bind(null,r),ta:c2.bind(null,r),na:h2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rc(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Sr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Qd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(r,e){if(xi("AsyncQueue",`${e}: ${r}`),xa(r))return new at(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static emptySet(e){return new ba(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Fl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ba)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ba;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ga=new re(dt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Na{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Na(e,i,ba.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=St(i),h=o.queries;o.queries=V_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function V_(){return new wr((r=>Pv(r)),_c)}async function p2(r,e){const i=St(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new m2,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Yd(d,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Kd(i)}async function y2(r,e){const i=St(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function _2(r,e){const i=St(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Kd(i)}function v2(r,e,i){const a=St(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Kd(r){r.Ca.forEach((e=>{e.next()}))}var dd,N_;(N_=dd||(dd={})).Ma="default",N_.Cache="cache";class E2{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Na(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.key=e}}class E0{constructor(e){this.key=e}}class T2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=zv(e),this.tu=new ba(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new I_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,C)=>{const M=o.get(A),G=vc(this.query,C)?C:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;M&&G?M.data.isEqual(G.data)?tt!==it&&(a.track({type:3,doc:G}),$=!0):this.su(M,G)||(a.track({type:2,doc:G}),$=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(g=!0)):!M&&G?(a.track({type:0,doc:G}),$=!0):M&&!G&&(a.track({type:1,doc:M}),$=!0,(v||_)&&(g=!0)),$&&(G?(d=d.add(G),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,C)=>(function(G,tt){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:$})}};return it(G)-it(tt)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Na(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new E0(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new v0(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Na.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class A2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class S2{constructor(e){this.key=e,this.hu=!1}}class b2{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new wr((g=>Pv(g)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new re(dt.comparator),this.Au=new Map,this.Ru=new Pd,this.Vu={},this.mu=new Map,this.fu=Va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(r,e,i=!0){const a=w0(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await T0(a,e,i,!0),o}async function w2(r,e){const i=w0(r);await T0(i,e,!0,!1)}async function T0(r,e,i,a){const o=await Hb(r.localStore,ai(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await C2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&d0(r.remoteStore,o),g}async function C2(r,e,i,a,o){r.pu=(C,M,G)=>(async function(it,$,ht,At){let mt=$.view.ru(ht);mt.Cs&&(mt=await S_(it.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,mt))));const kt=At&&At.targetChanges.get($.targetId),pt=At&&At.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(mt,it.isPrimaryClient,kt,pt);return O_(it,$.targetId,xt.au),xt.snapshot})(r,C,M,G);const h=await S_(r.localStore,e,!0),d=new T2(e,h.Qs),g=d.ru(h.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);O_(r,i,_.au);const A=new A2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function D2(r,e,i){const a=St(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!_c(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&qd(a.remoteStore,o.targetId),md(a,o.targetId)})).catch(Oa)):(md(a,o.targetId),await hd(a.localStore,o.targetId,!0))}async function I2(r,e){const i=St(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qd(i.remoteStore,a.targetId))}async function V2(r,e,i){const a=P2(r);try{const o=await(function(d,g){const v=St(d),_=ee.now(),A=g.reduce(((G,tt)=>G.add(tt.key)),Ot());let C,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=Ui(),it=Ot();return v.Ns.getEntries(G,A).next(($=>{tt=$,tt.forEach(((ht,At)=>{At.isValidDocument()||(it=it.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,tt))).next(($=>{C=$;const ht=[];for(const At of g){const mt=GS(At,C.get(At.key).overlayedDocument);mt!=null&&ht.push(new xs(At.key,mt,Vv(mt.value.mapValue),an.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ht,g)})).next(($=>{M=$;const ht=$.applyToLocalDocumentSet(C,it);return v.documentOverlayCache.saveOverlays(G,$.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:Bv(C)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Mt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Eo(a,o.changes),await Rc(a.remoteStore)}catch(o){const h=Yd(o,"Failed to persist write");i.reject(h)}}async function A0(r,e){const i=St(r);try{const a=await Bb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?zt(d.hu,14607):o.removedDocuments.size>0&&(zt(d.hu,42227),d.hu=!1))})),await Eo(i,a,e)}catch(a){await Oa(a)}}function M_(r,e,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=St(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,C)=>{for(const M of C.Sa)M.va(g)&&(_=!0)})),_&&Kd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function N2(r,e,i){const a=St(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new re(dt.comparator);d=d.insert(h,Me.newNoDocument(h,_t.min()));const g=Ot().add(h),v=new Ac(_t.min(),new Map,new re(Mt),d,g);await A0(a,v),a.du=a.du.remove(h),a.Au.delete(e),$d(a)}else await hd(a.localStore,e,!1).then((()=>md(a,e,i))).catch(Oa)}async function M2(r,e){const i=St(r),a=e.batch.batchId;try{const o=await kb(i.localStore,e);b0(i,a,null),S0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Eo(i,o)}catch(o){await Oa(o)}}async function O2(r,e,i){const a=St(r);try{const o=await(function(d,g){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((C=>(zt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);b0(a,e,i),S0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Eo(a,o)}catch(o){await Oa(o)}}function S0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function b0(r,e,i){const a=St(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function md(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||R0(r,a)}))}function R0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(qd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),$d(r))}function O_(r,e,i){for(const a of i)a instanceof v0?(r.Ru.addReference(a.key,e),x2(r,a)):a instanceof E0?(st(Xd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||R0(r,a.key)):ft(19791,{wu:a})}function x2(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Xd,"New document in limbo: "+i),r.Eu.add(a),$d(r))}function $d(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(te.fromString(e)),a=r.fu.next();r.Au.set(a,new S2(i)),r.du=r.du.insert(i,a),d0(r.remoteStore,new vs(ai(Nd(i.path)),a,"TargetPurposeLimboResolution",gc.ce))}}async function Eo(r,e,i){const a=St(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=kd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=St(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Y.forEach(_,(M=>Y.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(C,M.targetId,G))).next((()=>Y.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(C,M.targetId,G)))))))))}catch(C){if(!xa(C))throw C;st(Bd,"Failed to update sequence numbers: "+C)}for(const C of _){const M=C.targetId;if(!C.fromCache){const G=A.Ms.get(M),tt=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(M,it)}}})(a.localStore,h))}async function U2(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){st(Xd,"User change. New user:",e.toKey());const a=await c0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Eo(i,a.Ls)}}function L2(r,e){const i=St(r),a=i.Au.get(e);if(a&&a.hu)return Ot().add(a.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function w0(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=A0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.Pu.H_=_2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function P2(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O2.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zb(this.persistence,new Ub,e.initialUser,this.serializer)}Cu(e){return new u0(zd.mi,this.serializer)}Du(e){return new Fb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class z2 extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){zt(this.persistence.referenceDelegate instanceof lc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Eb(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new u0((a=>lc.mi(a,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>M_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),a=(function(h){return new $b(h)})(e.databaseInfo);return(function(h,d,g,v){return new t2(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new n2(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>M_(this.syncEngine,i,0)),(function(){return w_.v()?new w_:new Qb})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const C=new b2(o,h,d,g,v,_);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Sr,"RemoteStore shutting down."),a.Ea.add(5),await vo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new at(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(o,h){const d=St(o),g={documents:h.map((C=>ac(d.serializer,C)))},v=await d.Ho("BatchGetDocuments",d.serializer.databaseId,te.emptyPath(),g,h.length),_=new Map;v.forEach((C=>{const M=ib(d.serializer,C);_.set(M.key.toString(),M)}));const A=[];return h.forEach((C=>{const M=_.get(C.toString());zt(!!M,55234,{key:C}),A.push(M)})),A})(this.datastore,e);return i.forEach((a=>this.recordVersion(a))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,a)=>{const o=dt.fromPath(a);this.mutations.push(new Xv(o,this.precondition(o)))})),await(async function(a,o){const h=St(a),d={writes:o.map((g=>s0(h.serializer,g)))};await h.Go("Commit",h.serializer.databaseId,te.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw ft(50498,{Gu:e.constructor.name});i=_t.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new at(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(_t.min())?an.exists(!1):an.updateTime(i):an.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(_t.min()))throw new at(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(i)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,i,a,o,h){this.asyncQueue=e,this.datastore=i,this.options=a,this.updateFunction=o,this.deferred=h,this.zu=a.maxAttempts,this.M_=new jd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new B2(this.datastore),i=this.Hu(e);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(a)})).catch((o=>{this.Yu(o)}))))})).catch((a=>{this.Yu(a)}))}))}Hu(e){try{const i=this.updateFunction(e);return!po(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!$v(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class q2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(Ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Yd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),st(Ns,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await c0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await H2(r);st(Ns,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>D_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>D_(e.remoteStore,o))),r._onlineComponents=e}async function H2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Ns,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;wa("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new uc)}}else st(Ns,"Using default OfflineComponentProvider"),await Qf(r,new z2(void 0));return r._offlineComponents}async function Zd(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Ns,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(st(Ns,"Using default OnlineComponentProvider"),await x_(r,new gd))),r._onlineComponents}function G2(r){return Zd(r).then((e=>e.syncEngine))}function F2(r){return Zd(r).then((e=>e.datastore))}async function U_(r){const e=await Zd(r),i=e.eventManager;return i.onListen=R2.bind(null,e.syncEngine),i.onUnlisten=D2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=w2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",P_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_b)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new FA;switch(a.type){case"firstParty":return new XA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=L_.get(i);a&&(st("ComponentProvider","Removing Datastore"),L_.delete(i),a.terminate())})(this),Promise.resolve()}}function Q2(r,e,i,a={}){r=Tr(r,Jd);const o=Ed(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(y1(`https://${g}`),T1("Firestore",!0)),h.host!==D0&&h.host!==g&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!eo(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Qe.MOCK_USER;else{_=_1(a.mockUserToken,r._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(C)}r._authCredentials=new QA(new vv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(go(i,be._jsonSchema))return new be(e,a||null,new dt(te.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class co extends wc{constructor(e,i,a){super(e,i,Nd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new dt(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Y2(r,e,...i){if(r=Hn(r),arguments.length===1&&(e=bd.newId()),eS("doc","path",e),r instanceof Jd){const a=te.fromString(e,...i);return Zy(a),new be(r,null,new dt(a))}{if(!(r instanceof be||r instanceof co))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(e,...i));return Zy(a),new be(r.firestore,r instanceof co?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jd(this,"async_queue_retry"),this._c=()=>{const a=Ff();a&&st(k_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;st(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",j_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&ft(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function j_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class ho extends Jd{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new B_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function K2(r,e){const i=typeof r=="object"?r:uv(),a=typeof r=="string"?r:tc,o=mo(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=g1("firestore");h&&Q2(o,...h)}return o}function Wd(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||X2(r),r._firestoreClient}function X2(r){const e=r._freezeSettings(),i=(function(o,h,d,g){return new dS(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,C0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new q2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(Be.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new pn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:_e("string",pn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(go(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:_e("string",li._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:_e("string",oi._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^__.*__$/;class Z2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class I0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function V0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:r})}}class tm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V0(this.Ac)&&$2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sc(e)}Cc(e,i,a,o=!1){return new tm({Ac:e,methodName:i,Dc:a,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(r){const e=r._freezeSettings(),i=Sc(r._databaseId);return new J2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function M0(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);nm("Data must be an object, but it was:",d,a);const g=O0(a,d);let v,_;if(h.merge)v=new yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const M=pd(e,C,i);if(!d.contains(M))throw new at(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);U0(A,M)||A.push(M)}v=new yn(A),_=d.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,_=d.fieldTransforms;return new Z2(new We(g),v,_)}class Ic extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}class em extends Dc{_toFieldTransform(e){return new BS(e.path,new lo)}isEqual(e){return e instanceof em}}function W2(r,e,i,a){const o=r.Cc(1,e,i);nm("Data must be an object, but it was:",o,a);const h=[],d=We.empty();Os(a,((v,_)=>{const A=im(e,v,i);_=Hn(_);const C=o.yc(A);if(_ instanceof Ic)h.push(A);else{const M=Vc(_,C);M!=null&&(h.push(A),d.set(A,M))}}));const g=new yn(h);return new I0(d,g,o.fieldTransforms)}function tR(r,e,i,a,o,h){const d=r.Cc(1,e,i),g=[pd(e,a,i)],v=[o];if(h.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)g.push(pd(e,h[M])),v.push(h[M+1]);const _=[],A=We.empty();for(let M=g.length-1;M>=0;--M)if(!U0(_,g[M])){const G=g[M];let tt=v[M];tt=Hn(tt);const it=d.yc(G);if(tt instanceof Ic)_.push(G);else{const $=Vc(tt,it);$!=null&&(_.push(G),A.set(G,$))}}const C=new yn(_);return new I0(A,C,d.fieldTransforms)}function Vc(r,e){if(x0(r=Hn(r)))return nm("Unsupported field value:",e,r),O0(r,e);if(r instanceof Dc)return(function(a,o){if(!V0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=Vc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return PS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:rc(o.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rc(o.serializer,h)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof pn)return{bytesValue:t0(o.serializer,a._byteString)};if(a instanceof be){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ld(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof oi)return(function(d,g){return{mapValue:{fields:{[Dv]:{stringValue:Iv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Md(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rd(a)}`)})(r,e)}function O0(r,e){const i={};return Av(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,((a,o)=>{const h=Vc(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof li||r instanceof pn||r instanceof be||r instanceof Dc||r instanceof oi)}function nm(r,e,i){if(!x0(i)||!Ev(i)){const a=Rd(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function pd(r,e,i){if((e=Hn(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return im(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const eR=new RegExp("[~\\*/\\[\\]]");function im(r,e,i){if(e.search(eR)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Cc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new at(X.INVALID_ARGUMENT,g+r+v)}function U0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(L0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nR extends hc{data(){return super.data()}}function L0(r,e){return typeof e=="string"?im(r,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{convertValue(e,i="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Os(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((a=>me(a.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=pc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=Cs(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);zt(l0(a),9688,{name:e});const o=new ro(a.get(1),a.get(3)),h=new dt(a.popFirst(5));return o.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class sR extends P0{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}class Sa{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends hc{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(L0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:_e("string",bs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class $u extends bs{data(e={}){return super.data(e)}}class Ra{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Sa(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $u(this._firestore,this._userDataWriter,a.key,a,new Sa(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Sa(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new $u(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Sa(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:rR(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:r})}}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:_e("string",Ra._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class sm extends P0{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function aR(r,e,i){r=Tr(r,be);const a=Tr(r.firestore,ho),o=z0(r.converter,e,i);return oR(a,[M0(N0(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,an.none())])}function lR(r,...e){r=Hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||q_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,g;if(r instanceof be)d=Tr(r.firestore,ho),g=Nd(r._key.path),h={next:v=>{e[a]&&e[a](uR(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=Tr(r,wc);d=Tr(v.firestore,ho),g=v._query;const _=new sm(d);h={next:A=>{e[a]&&e[a](new Ra(d,_,v,A))},error:e[a+1],complete:e[a+2]},iR(r._query)}return(function(_,A,C,M){const G=new k2(M),tt=new E2(A,G,C);return _.asyncQueue.enqueueAndForget((async()=>p2(await U_(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>y2(await U_(_),tt)))}})(Wd(d),g,o,h)}function oR(r,e){return(function(a,o){const h=new Ss;return a.asyncQueue.enqueueAndForget((async()=>V2(await G2(a),o,h))),h.promise})(Wd(r),e)}function uR(r,e,i){const a=i.docs.get(e._key),o=new sm(r);return new bs(r,o,e._key,a,new Sa(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={maxAttempts:5};function Yl(r,e){if((r=Hn(r)).firestore!==e)throw new at(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=N0(e)}get(e){const i=Yl(e,this._firestore),a=new sR(this._firestore);return this._transaction.lookup([i._key]).then((o=>{if(!o||o.length!==1)return ft(24041);const h=o[0];if(h.isFoundDocument())return new hc(this._firestore,a,h.key,h,i.converter);if(h.isNoDocument())return new hc(this._firestore,a,i._key,null,i.converter);throw ft(18433,{doc:h})}))}set(e,i,a){const o=Yl(e,this._firestore),h=z0(o.converter,i,a),d=M0(this._dataReader,"Transaction.set",o._key,h,o.converter!==null,a);return this._transaction.set(o._key,d),this}update(e,i,a,...o){const h=Yl(e,this._firestore);let d;return d=typeof(i=Hn(i))=="string"||i instanceof Cc?tR(this._dataReader,"Transaction.update",h._key,i,a,o):W2(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,d),this}delete(e){const i=Yl(e,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends hR{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Yl(e,this._firestore),a=new sm(this._firestore);return super.get(e).then((o=>new bs(this._firestore,a,i._key,o._document,new Sa(!1,!1),i.converter)))}}function dR(r,e,i){r=Tr(r,ho);const a={...cR,...i};return(function(h){if(h.maxAttempts<1)throw new at(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a),(function(h,d,g){const v=new Ss;return h.asyncQueue.enqueueAndForget((async()=>{const _=await F2(h);new j2(h.asyncQueue,_,g,d,v).ju()})),v.promise})(Wd(r),(o=>e(new fR(r,o))),a)}function H_(){return new em("serverTimestamp")}(function(e,i=!0){(function(o){Ma=o})(MA),Rs(new Mi("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new ho(new YA(a.getProvider("auth-internal")),new $A(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ri(Yy,Ky,e),ri(Yy,Ky,"esm2020")})();const k0="@firebase/installations",rm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=1e4,j0=`w:${rm}`,q0="FIS_v2",mR="https://firebaseinstallations.googleapis.com/v1",gR=3600*1e3,pR="installations",yR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},br=new mc(pR,yR,_R);function H0(r){return r instanceof Ms&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0({projectId:r}){return`${mR}/projects/${r}/installations`}function F0(r){return{token:r.token,requestStatus:2,expiresIn:ER(r.expiresIn),creationTime:Date.now()}}async function Q0(r,e){const a=(await e.json()).error;return br.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Y0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function vR(r,{refreshToken:e}){const i=Y0(r);return i.append("Authorization",TR(e)),i}async function K0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function ER(r){return Number(r.replace("s","000"))}function TR(r){return`${q0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const a=G0(r),o=Y0(r),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:q0,appId:r.appId,sdkVersion:j0},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await K0(()=>fetch(a,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:F0(_.authToken)}}else throw await Q0("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^[cdef][\w-]{21}$/,yd="";function RR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=wR(r);return bR.test(i)?i:yd}catch{return yd}}function wR(r){return SR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function Z0(r,e){const i=Nc(r);J0(i,e),CR(i,e)}function J0(r,e){const i=$0.get(r);if(i)for(const a of i)a(e)}function CR(r,e){const i=DR();i&&i.postMessage({key:r,fid:e}),IR()}let Er=null;function DR(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=r=>{J0(r.data.key,r.data.fid)}),Er}function IR(){$0.size===0&&Er&&(Er.close(),Er=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-installations-database",NR=1,Rr="firebase-installations-store";let Yf=null;function am(){return Yf||(Yf=lv(VR,NR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Rr)}}})),Yf}async function fc(r,e){const i=Nc(r),o=(await am()).transaction(Rr,"readwrite"),h=o.objectStore(Rr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&Z0(r,e.fid),e}async function W0(r){const e=Nc(r),a=(await am()).transaction(Rr,"readwrite");await a.objectStore(Rr).delete(e),await a.done}async function Mc(r,e){const i=Nc(r),o=(await am()).transaction(Rr,"readwrite"),h=o.objectStore(Rr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&Z0(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(r){let e;const i=await Mc(r.appConfig,a=>{const o=MR(a),h=OR(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===yd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function MR(r){const e=r||{fid:RR(),registrationStatus:0};return tE(e)}function OR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(br.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=xR(r,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UR(r)}:{installationEntry:e}}async function xR(r,e){try{const i=await AR(r,e);return fc(r.appConfig,i)}catch(i){throw H0(i)&&i.customData.serverCode===409?await W0(r.appConfig):await fc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function UR(r){let e=await G_(r.appConfig);for(;e.registrationStatus===1;)await X0(100),e=await G_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await lm(r);return a||i}return e}function G_(r){return Mc(r,e=>{if(!e)throw br.create("installation-not-found");return tE(e)})}function tE(r){return LR(r)?{fid:r.fid,registrationStatus:0}:r}function LR(r){return r.registrationStatus===1&&r.registrationTime+B0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR({appConfig:r,heartbeatServiceProvider:e},i){const a=zR(r,i),o=vR(r,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:j0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await K0(()=>fetch(a,g));if(v.ok){const _=await v.json();return F0(_)}else throw await Q0("Generate Auth Token",v)}function zR(r,{fid:e}){return`${G0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(r,e=!1){let i;const a=await Mc(r.appConfig,h=>{if(!eE(h))throw br.create("not-registered");const d=h.authToken;if(!e&&jR(d))return h;if(d.requestStatus===1)return i=kR(r,e),h;{if(!navigator.onLine)throw br.create("app-offline");const g=HR(h);return i=BR(r,g),g}});return i?await i:a.authToken}async function kR(r,e){let i=await F_(r.appConfig);for(;i.authToken.requestStatus===1;)await X0(100),i=await F_(r.appConfig);const a=i.authToken;return a.requestStatus===0?om(r,e):a}function F_(r){return Mc(r,e=>{if(!eE(e))throw br.create("not-registered");const i=e.authToken;return GR(i)?{...e,authToken:{requestStatus:0}}:e})}async function BR(r,e){try{const i=await PR(r,e),a={...e,authToken:i};return await fc(r.appConfig,a),i}catch(i){if(H0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await W0(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await fc(r.appConfig,a)}throw i}}function eE(r){return r!==void 0&&r.registrationStatus===2}function jR(r){return r.requestStatus===2&&!qR(r)}function qR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+gR}function HR(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function GR(r){return r.requestStatus===1&&r.requestTime+B0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r){const e=r,{installationEntry:i,registrationPromise:a}=await lm(e);return a?a.catch(console.error):om(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,e=!1){const i=r;return await YR(i),(await om(i,e)).token}async function YR(r){const{registrationPromise:e}=await lm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r){if(!r||!r.options)throw Kf("App Configuration");if(!r.name)throw Kf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Kf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Kf(r){return br.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="installations",XR="installations-internal",$R=r=>{const e=r.getProvider("app").getImmediate(),i=KR(e),a=mo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ZR=r=>{const e=r.getProvider("app").getImmediate(),i=mo(e,nE).getImmediate();return{getId:()=>FR(i),getToken:o=>QR(i,o)}};function JR(){Rs(new Mi(nE,$R,"PUBLIC")),Rs(new Mi(XR,ZR,"PRIVATE"))}JR();ri(k0,rm);ri(k0,rm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="analytics",WR="firebase_id",tw="origin",ew=60*1e3,nw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",um="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new mc("analytics","Analytics",iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){if(!r.startsWith(um)){const e=vn.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(e.message),""}return r}function iE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function rw(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function aw(r,e){const i=rw("firebase-js-sdk-policy",{createScriptURL:sw}),a=document.createElement("script"),o=`${um}?l=${r}&id=${e}`;a.src=i?i?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function lw(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function ow(r,e,i,a,o,h){const d=a[o];try{if(d)await e[d];else{const v=(await iE(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){ln.error(g)}r("config",o,h)}async function uw(r,e,i,a,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await iE(i);for(const v of d){const _=g.find(C=>C.measurementId===v),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",a,o||{})}catch(h){ln.error(h)}}function cw(r,e,i,a){async function o(h,...d){try{if(h==="event"){const[g,v]=d;await uw(r,e,i,g,v)}else if(h==="config"){const[g,v]=d;await ow(r,e,i,a,g,v)}else if(h==="consent"){const[g,v]=d;r("consent",g,v)}else if(h==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){ln.error(g)}}return o}function hw(r,e,i,a,o){let h=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=cw(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function fw(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(um)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=30,mw=1e3;class gw{constructor(e={},i=mw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sE=new gw;function pw(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function yw(r){const{appId:e,apiKey:i}=r,a={method:"GET",headers:pw(i)},o=nw.replace("{app-id}",e),h=await fetch(o,a);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function _w(r,e=sE,i){const{appId:a,apiKey:o,measurementId:h}=r.options;if(!a)throw vn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:a};throw vn.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new Tw;return setTimeout(async()=>{g.abort()},ew),rE({appId:a,apiKey:o,measurementId:h},d,g,e)}async function rE(r,{throttleEndTimeMillis:e,backoffCount:i},a,o=sE){const{appId:h,measurementId:d}=r;try{await vw(a,e)}catch(g){if(d)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await yw(r);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!Ew(v)){if(o.deleteThrottleMetadata(h),d)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?Py(i,o.intervalMillis,dw):Py(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),ln.debug(`Calling attemptFetch again in ${_} millis`),rE(r,A,a,o)}}function vw(r,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),a(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ew(r){if(!(r instanceof Ms)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Tw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Aw(r,e,i,a,o){if(o&&o.global){r("event",i,a);return}else{const h=await e,d={...a,send_to:h};r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(){if(iv())try{await sv()}catch(r){return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return ln.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bw(r,e,i,a,o,h,d){const g=_w(r);g.then(M=>{i[M.measurementId]=M.appId,r.options.measurementId&&M.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>ln.error(M)),e.push(g);const v=Sw().then(M=>{if(M)return a.getId()}),[_,A]=await Promise.all([g,v]);fw(h)||aw(h,_.measurementId),o("js",new Date);const C=d?.config??{};return C[tw]="firebase",C.update=!0,A!=null&&(C[WR]=A),o("config",_.measurementId,C),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},Q_=[];const Y_={};let Xf="dataLayer",ww="gtag",K_,aE,X_=!1;function Cw(){const r=[];if(b1()&&r.push("This is a browser extension environment."),w1()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=vn.create("invalid-analytics-context",{errorInfo:e});ln.warn(i.message)}}function Dw(r,e,i){Cw();const a=r.options.appId;if(!a)throw vn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(to[a]!=null)throw vn.create("already-exists",{id:a});if(!X_){lw(Xf);const{wrappedGtag:h,gtagCore:d}=hw(to,Q_,Y_,Xf,ww);aE=h,K_=d,X_=!0}return to[a]=bw(r,Q_,Y_,e,K_,Xf,i),new Rw(r)}function Iw(r=uv()){r=Hn(r);const e=mo(r,dc);return e.isInitialized()?e.getImmediate():Vw(r)}function Vw(r,e={}){const i=mo(r,dc);if(i.isInitialized()){const o=i.getImmediate();if(eo(e,i.getOptions()))return o;throw vn.create("already-initialized")}return i.initialize({options:e})}function Nw(r,e,i,a){r=Hn(r),Aw(aE,to[r.app.options.appId],e,i,a).catch(o=>ln.error(o))}const $_="@firebase/analytics",Z_="0.10.18";function Mw(){Rs(new Mi(dc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Dw(a,o,i)},"PUBLIC")),Rs(new Mi("analytics-internal",r,"PRIVATE")),ri($_,Z_),ri($_,Z_,"esm2020");function r(e){try{const i=e.getProvider(dc).getImmediate();return{logEvent:(a,o,h)=>Nw(i,a,o,h)}}catch(i){throw vn.create("interop-component-reg-failed",{reason:i})}}}Mw();const Ow={apiKey:"AIzaSyASowKpD20sEZPA33VG5Mxy0KuJeFIziT4",authDomain:"ruleta-colores.firebaseapp.com",projectId:"ruleta-colores",storageBucket:"ruleta-colores.firebasestorage.app",messagingSenderId:"1088398378468",appId:"1:1088398378468:web:ffe2a14beab711aed573f1",measurementId:"G-NV2GD0KQKC"},lE=ov(Ow),J_=K2(lE);Iw(lE);const xw=()=>{const[r,e]=Je.useState(["Rojo","Azul","Verde","Amarillo","Naranja","Blanco/Morado","Negro","Rosa"]),[i,a]=Je.useState(""),[o,h]=Je.useState({}),[d,g]=Je.useState(!1),[v,_]=Je.useState(""),[A,C]=Je.useState([]),[M,G]=Je.useState(0),tt=Je.useRef(null),it=new URLSearchParams(window.location.search),$=it.get("mode")==="public",ht=!$,At=it.get("room")||"default",mt=Y2(J_,"rooms",At);Je.useEffect(()=>{const S=async()=>{ht&&await aR(mt,{colors:r,customColors:o,history:[],updatedAt:H_()},{merge:!0})},ut=lR(mt,vt=>{if(vt.exists()){const j=vt.data();e(j.colors||[]),h(j.customColors||{}),C(j.history||[])}else S()});return()=>ut()},[At,ht]);const kt=S=>dR(J_,async ut=>{const vt=await ut.get(mt),j=vt.exists()?vt.data():{colors:[],history:[],customColors:{}},J=S({colors:j.colors||[],history:j.history||[],customColors:j.customColors||{}});ut.set(mt,{...J,updatedAt:H_()},{merge:!0})}),pt=async()=>{if(!ht)return;const S=i.trim();S&&(await kt(({colors:ut,history:vt,customColors:j})=>ut.includes(S)?{colors:ut,history:vt,customColors:j}:{colors:[...ut,S],history:vt,customColors:j}),a(""))},xt=async S=>{ht&&await kt(({colors:ut,history:vt,customColors:j})=>{const J=ut.filter(Rt=>Rt!==S),lt={...j};return delete lt[S],{colors:J,history:vt,customColors:lt}})},N=async(S,ut)=>{ht&&await kt(({colors:vt,history:j,customColors:J})=>({colors:vt,history:j,customColors:{...J,[S]:ut}}))},b=()=>{if(r.length===0||d)return;g(!0),_("");const S=5+Math.random()*5,ut=M+S*360+Math.random()*360;G(ut),setTimeout(async()=>{const vt=360/r.length,J=(ut%360+vt/2)%360,lt=Math.floor(J/vt),Rt=r[lt];await kt(({colors:D,history:K,customColors:nt})=>{if(!D.includes(Rt))return{colors:D,history:K,customColors:nt};const et=D.length===1?D:D.filter(Ct=>Ct!==Rt),ot=[...K,{color:Rt,ts:Date.now()}];return{colors:et,history:ot,customColors:nt}}),_(Rt),g(!1)},3e3)},w=async()=>{ht&&(await kt(({colors:S,history:ut,customColors:vt})=>({colors:[...new Set([...S,...ut.map(J=>J.color)])],history:[],customColors:vt})),_(""),G(0))},O=()=>{const ut=`${window.location.href.split("?")[0]}?room=${At}&mode=public`;navigator.clipboard.writeText(ut).catch(()=>{}),alert("¡Link público copiado! "+ut)},I=()=>{const ut=`${window.location.href.split("?")[0]}?room=${At}`;navigator.clipboard.writeText(ut).catch(()=>{}),alert("¡Link admin copiado! "+ut)},U=()=>{const S=360/Math.max(r.length,1);return r.map((ut,vt)=>{const j=vt*S,J=(vt+1)*S,lt=S>180?1:0,Rt=150+140*Math.cos((j-90)*Math.PI/180),D=150+140*Math.sin((j-90)*Math.PI/180),K=150+140*Math.cos((J-90)*Math.PI/180),nt=150+140*Math.sin((J-90)*Math.PI/180),et=["M 150 150",`L ${Rt} ${D}`,`A 140 140 0 ${lt} 1 ${K} ${nt}`,"Z"].join(" "),ot={Rojo:"#dc2626",Azul:"#2563eb",Verde:"#16a34a",Amarillo:"#eab308",Naranja:"#ea580c",Morado:"#9333ea",Rosa:"#ec4899",Violeta:"#7c3aed",Cyan:"#0891b2",Negro:"#1f2937",Blanco:"#f9fafb",Gris:"#6b7280",Celeste:"#0ea5e9",Turquesa:"#14b8a6",Lima:"#84cc16",Dorado:"#f59e0b",Plateado:"#9ca3af",Marrón:"#92400e",Café:"#78350f",Beige:"#d6d3d1",Coral:"#f97316",Magenta:"#d946ef",Índigo:"#4f46e5",Lavanda:"#a78bfa","Rojo Oscuro":"#991b1b","Azul Claro":"#60a5fa","Verde Claro":"#4ade80","Amarillo Claro":"#fde047","Rosa Claro":"#f9a8d4","Morado Claro":"#c084fc","Verde Oscuro":"#15803d","Azul Oscuro":"#1e40af","Naranja Claro":"#fb923c",Esmeralda:"#10b981",Rubí:"#be123c",Zafiro:"#1e40af",Ámbar:"#f59e0b",Jade:"#059669",Carmesí:"#dc2626"},Ct=o[ut]||ot[ut]||`hsl(${vt*360/Math.max(r.length,1)}, 70%, 50%)`;return Z.jsxs("g",{children:[Z.jsx("path",{d:et,fill:Ct,stroke:"#fff",strokeWidth:"3"}),Z.jsx("text",{x:150+80*Math.cos((j+S/2-90)*Math.PI/180),y:150+80*Math.sin((j+S/2-90)*Math.PI/180),textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"11",fontWeight:"bold",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:ut})]},ut)})};return Z.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen",children:Z.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[Z.jsxs("div",{className:"text-center mb-6",children:[Z.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["🎯 Ruleta de Colores",$&&Z.jsx("span",{className:"text-lg text-blue-600 font-normal",children:" - Modo Invitado"}),ht&&Z.jsx("span",{className:"text-lg text-green-600 font-normal",children:" - Modo Administrador"})]}),Z.jsx("p",{className:"text-gray-600",children:$?"¡Gira la ruleta y diviértete! Solo puedes girar, no modificar colores.":"Agrega colores, gira la ruleta y comparte con tus amigos"}),Z.jsxs("p",{className:"text-xs text-gray-500",children:["Sala: ",Z.jsx("code",{children:At})]})]}),ht&&Z.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[Z.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:[Z.jsx(Oy,{size:16})," Compartir Link Público"]}),Z.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:[Z.jsx(Oy,{size:16})," Compartir Link Admin"]}),Z.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:[Z.jsx(WT,{size:16})," Reiniciar Juego"]})]}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"relative inline-block mb-4",children:r.length>0?Z.jsxs(Z.Fragment,{children:[Z.jsx("svg",{width:"300",height:"300",className:"drop-shadow-lg",children:Z.jsx("g",{ref:tt,style:{transform:`rotate(${M}deg)`,transformOrigin:"150px 150px",transition:d?"transform 3s cubic-bezier(0.23, 1, 0.32, 1)":"none"},children:U()})}),Z.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 z-10",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("div",{className:"absolute top-1 left-0 w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-black opacity-30"}),Z.jsx("div",{className:"w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-red-600 relative z-10"}),Z.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-red-600 rounded-full border-2 border-white"})]})})]}):Z.jsx("div",{className:"w-72 h-72 bg-gray-200 rounded-full flex items-center justify-center",children:Z.jsx("p",{className:"text-gray-500 text-center",children:ht?`Agrega colores
para comenzar`:`No hay colores
disponibles`})})}),Z.jsx("button",{onClick:b,disabled:r.length===0||d,className:`w-32 h-32 rounded-full text-white font-bold text-lg shadow-lg transform transition-all ${r.length===0||d?"bg-gray-400 cursor-not-allowed":r.length===1?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 hover:scale-105 active:scale-95":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105 active:scale-95"}`,children:d?Z.jsx(e1,{className:"animate-spin mx-auto",size:24}):r.length===1?Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{children:"🏆"}),Z.jsx("div",{className:"text-xs",children:"FINAL"})]}):"GIRAR"}),v&&Z.jsxs("div",{className:`mt-4 p-4 border rounded-lg ${r.length===1?"bg-gradient-to-r from-yellow-100 to-orange-100 border-yellow-300":"bg-green-100 border-green-300"}`,children:[Z.jsx("h3",{className:`text-lg font-bold ${r.length===1?"text-yellow-800":"text-green-800"}`,children:r.length===1?"🏆 ¡COLOR GANADOR FINAL!":"¡Resultado!"}),Z.jsx("p",{className:`text-2xl font-bold ${r.length===1?"text-yellow-900":"text-green-900"}`,children:v})]})]}),Z.jsxs("div",{children:[ht&&Z.jsxs("div",{className:"mb-6",children:[Z.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Agregar Color"}),Z.jsxs("div",{className:"flex gap-2",children:[Z.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),onKeyDown:S=>S.key==="Enter"&&pt(),placeholder:"Escribe un color...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),Z.jsx("button",{onClick:pt,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:Z.jsx(ZT,{size:20})})]})]}),ht&&Z.jsxs("div",{className:"mb-6",children:[Z.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores Disponibles (",r.length,")"]}),Z.jsx("div",{className:"max-h-48 overflow-y-auto",children:r.length>0?Z.jsx("div",{className:"space-y-2",children:r.map((S,ut)=>Z.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded",children:[Z.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[Z.jsx("span",{className:"flex-1",children:S}),Z.jsx("input",{type:"color",value:o[S]||"#3b82f6",onChange:vt=>N(S,vt.target.value),className:"w-8 h-8 rounded border-2 border-gray-300 cursor-pointer",title:`Cambiar color de ${S}`})]}),Z.jsx("button",{onClick:()=>xt(S),className:"text-red-500 hover:text-red-700 ml-2",children:Z.jsx(s1,{size:16})})]},ut))}):Z.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),$&&Z.jsxs("div",{className:"mb-6",children:[Z.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores en la Ruleta (",r.length,")"]}),Z.jsx("div",{className:"max-h-48 overflow-y-auto",children:r.length>0?r.map((S,ut)=>Z.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded",children:[Z.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:o[S]||"#3b82f6"}}),Z.jsx("span",{children:S})]},ut)):Z.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),Z.jsxs("div",{children:[Z.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Historial (",A.length,")"]}),Z.jsx("div",{className:"max-h-48 overflow-y-auto",children:A.length>0?A.slice().reverse().map((S,ut)=>Z.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded text-sm",children:[Z.jsx("span",{className:"font-medium",children:S.color}),Z.jsx("span",{className:"text-gray-500 ml-2",children:new Date(S.ts).toLocaleTimeString()})]},ut)):Z.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aún no hay selecciones"})})]})]})]}),Z.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[Z.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:ht?"🔧 Instrucciones para Administrador:":"🎮 Instrucciones para Invitado:"}),ht?Z.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[Z.jsxs("li",{children:["1. Abre con ",Z.jsx("code",{children:"?room=tuSala"})," (ej. fiesta1)."]}),Z.jsx("li",{children:"2. Agrega/edita colores y comparte el link público."}),Z.jsx("li",{children:"3. Todos verán la misma ruleta en tiempo real."})]}):Z.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[Z.jsxs("li",{children:["1. Pulsa ",Z.jsx("strong",{children:"GIRAR"})," y espera el resultado."]}),Z.jsx("li",{children:"2. El color elegido se quita para todos automáticamente."})]})]})]})})};function Uw(){return Z.jsx(xw,{})}GT.createRoot(document.getElementById("root")).render(Z.jsx(Je.StrictMode,{children:Z.jsx(Uw,{})}));
