(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function UT(){if(Ay)return ql;Ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var by;function LT(){return by||(by=1,Of.exports=UT()),Of.exports}var $=LT(),xf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function PT(){if(Sy)return Rt;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function M(w){return w===null||typeof w!="object"?null:(w=D&&w[D]||w["@@iterator"],typeof w=="function"?w:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,rt={};function W(w,F,it){this.props=w,this.context=F,this.refs=rt,this.updater=it||Q}W.prototype.isReactComponent={},W.prototype.setState=function(w,F){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,F,"setState")},W.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function St(){}St.prototype=W.prototype;function Tt(w,F,it){this.props=w,this.context=F,this.refs=rt,this.updater=it||Q}var gt=Tt.prototype=new St;gt.constructor=Tt,tt(gt,W.prototype),gt.isPureReactComponent=!0;var wt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function I(w,F,it,nt,ot,bt){return it=bt.ref,{$$typeof:a,type:w,key:F,ref:it!==void 0?it:null,props:bt}}function b(w,F){return I(w.type,F,void 0,void 0,void 0,w.props)}function C(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function O(w){var F={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(it){return F[it]})}var V=/\/+/g;function U(w,F){return typeof w=="object"&&w!==null&&w.key!=null?O(""+w.key):F.toString(36)}function R(){}function ee(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(R,R):(w.status="pending",w.then(function(F){w.status==="pending"&&(w.status="fulfilled",w.value=F)},function(F){w.status==="pending"&&(w.status="rejected",w.reason=F)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Xt(w,F,it,nt,ot){var bt=typeof w;(bt==="undefined"||bt==="boolean")&&(w=null);var ht=!1;if(w===null)ht=!0;else switch(bt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(w.$$typeof){case a:case e:ht=!0;break;case A:return ht=w._init,Xt(ht(w._payload),F,it,nt,ot)}}if(ht)return ot=ot(w),ht=nt===""?"."+U(w,0):nt,wt(ot)?(it="",ht!=null&&(it=ht.replace(V,"$&/")+"/"),Xt(ot,F,it,"",function(Ke){return Ke})):ot!=null&&(C(ot)&&(ot=b(ot,it+(ot.key==null||w&&w.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+ht)),F.push(ot)),1;ht=0;var se=nt===""?".":nt+":";if(wt(w))for(var zt=0;zt<w.length;zt++)nt=w[zt],bt=se+U(nt,zt),ht+=Xt(nt,F,it,bt,ot);else if(zt=M(w),typeof zt=="function")for(w=zt.call(w),zt=0;!(nt=w.next()).done;)nt=nt.value,bt=se+U(nt,zt++),ht+=Xt(nt,F,it,bt,ot);else if(bt==="object"){if(typeof w.then=="function")return Xt(ee(w),F,it,nt,ot);throw F=String(w),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ht}function q(w,F,it){if(w==null)return w;var nt=[],ot=0;return Xt(w,nt,"","",function(bt){return F.call(it,bt,ot++)}),nt}function G(w){if(w._status===-1){var F=w._result;F=F(),F.then(function(it){(w._status===0||w._status===-1)&&(w._status=1,w._result=it)},function(it){(w._status===0||w._status===-1)&&(w._status=2,w._result=it)}),w._status===-1&&(w._status=0,w._result=F)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function ut(){}return Rt.Children={map:q,forEach:function(w,F,it){q(w,function(){F.apply(this,arguments)},it)},count:function(w){var F=0;return q(w,function(){F++}),F},toArray:function(w){return q(w,function(F){return F})||[]},only:function(w){if(!C(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Rt.Component=W,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=Tt,Rt.StrictMode=s,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ft.H.useMemoCache(w)}},Rt.cache=function(w){return function(){return w.apply(null,arguments)}},Rt.cloneElement=function(w,F,it){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var nt=tt({},w.props),ot=w.key,bt=void 0;if(F!=null)for(ht in F.ref!==void 0&&(bt=void 0),F.key!==void 0&&(ot=""+F.key),F)!It.call(F,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&F.ref===void 0||(nt[ht]=F[ht]);var ht=arguments.length-2;if(ht===1)nt.children=it;else if(1<ht){for(var se=Array(ht),zt=0;zt<ht;zt++)se[zt]=arguments[zt+2];nt.children=se}return I(w.type,ot,void 0,void 0,bt,nt)},Rt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},Rt.createElement=function(w,F,it){var nt,ot={},bt=null;if(F!=null)for(nt in F.key!==void 0&&(bt=""+F.key),F)It.call(F,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ot[nt]=F[nt]);var ht=arguments.length-2;if(ht===1)ot.children=it;else if(1<ht){for(var se=Array(ht),zt=0;zt<ht;zt++)se[zt]=arguments[zt+2];ot.children=se}if(w&&w.defaultProps)for(nt in ht=w.defaultProps,ht)ot[nt]===void 0&&(ot[nt]=ht[nt]);return I(w,bt,void 0,void 0,null,ot)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(w){return{$$typeof:g,render:w}},Rt.isValidElement=C,Rt.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:G}},Rt.memo=function(w,F){return{$$typeof:_,type:w,compare:F===void 0?null:F}},Rt.startTransition=function(w){var F=ft.T,it={};ft.T=it;try{var nt=w(),ot=ft.S;ot!==null&&ot(it,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(ut,J)}catch(bt){J(bt)}finally{ft.T=F}},Rt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Rt.use=function(w){return ft.H.use(w)},Rt.useActionState=function(w,F,it){return ft.H.useActionState(w,F,it)},Rt.useCallback=function(w,F){return ft.H.useCallback(w,F)},Rt.useContext=function(w){return ft.H.useContext(w)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(w,F){return ft.H.useDeferredValue(w,F)},Rt.useEffect=function(w,F,it){var nt=ft.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(w,F)},Rt.useId=function(){return ft.H.useId()},Rt.useImperativeHandle=function(w,F,it){return ft.H.useImperativeHandle(w,F,it)},Rt.useInsertionEffect=function(w,F){return ft.H.useInsertionEffect(w,F)},Rt.useLayoutEffect=function(w,F){return ft.H.useLayoutEffect(w,F)},Rt.useMemo=function(w,F){return ft.H.useMemo(w,F)},Rt.useOptimistic=function(w,F){return ft.H.useOptimistic(w,F)},Rt.useReducer=function(w,F,it){return ft.H.useReducer(w,F,it)},Rt.useRef=function(w){return ft.H.useRef(w)},Rt.useState=function(w){return ft.H.useState(w)},Rt.useSyncExternalStore=function(w,F,it){return ft.H.useSyncExternalStore(w,F,it)},Rt.useTransition=function(){return ft.H.useTransition()},Rt.version="19.1.1",Rt}var wy;function _d(){return wy||(wy=1,xf.exports=PT()),xf.exports}var Me=_d(),Uf={exports:{}},Hl={},Lf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function zT(){return Ry||(Ry=1,(function(a){function e(q,G){var J=q.length;q.push(G);t:for(;0<J;){var ut=J-1>>>1,w=q[ut];if(0<o(w,G))q[ut]=G,q[J]=w,J=ut;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var G=q[0],J=q.pop();if(J!==G){q[0]=J;t:for(var ut=0,w=q.length,F=w>>>1;ut<F;){var it=2*(ut+1)-1,nt=q[it],ot=it+1,bt=q[ot];if(0>o(nt,J))ot<w&&0>o(bt,nt)?(q[ut]=bt,q[ot]=J,ut=ot):(q[ut]=nt,q[it]=J,ut=it);else if(ot<w&&0>o(bt,J))q[ut]=bt,q[ot]=J,ut=ot;else break t}}return G}function o(q,G){var J=q.sortIndex-G.sortIndex;return J!==0?J:q.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,D=null,M=3,Q=!1,tt=!1,rt=!1,W=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function wt(q){for(var G=i(_);G!==null;){if(G.callback===null)s(_);else if(G.startTime<=q)s(_),G.sortIndex=G.expirationTime,e(v,G);else break;G=i(_)}}function ft(q){if(rt=!1,wt(q),!tt)if(i(v)!==null)tt=!0,It||(It=!0,U());else{var G=i(_);G!==null&&Xt(ft,G.startTime-q)}}var It=!1,I=-1,b=5,C=-1;function O(){return W?!0:!(a.unstable_now()-C<b)}function V(){if(W=!1,It){var q=a.unstable_now();C=q;var G=!0;try{t:{tt=!1,rt&&(rt=!1,Tt(I),I=-1),Q=!0;var J=M;try{e:{for(wt(q),D=i(v);D!==null&&!(D.expirationTime>q&&O());){var ut=D.callback;if(typeof ut=="function"){D.callback=null,M=D.priorityLevel;var w=ut(D.expirationTime<=q);if(q=a.unstable_now(),typeof w=="function"){D.callback=w,wt(q),G=!0;break e}D===i(v)&&s(v),wt(q)}else s(v);D=i(v)}if(D!==null)G=!0;else{var F=i(_);F!==null&&Xt(ft,F.startTime-q),G=!1}}break t}finally{D=null,M=J,Q=!1}G=void 0}}finally{G?U():It=!1}}}var U;if(typeof gt=="function")U=function(){gt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=V,U=function(){ee.postMessage(null)}}else U=function(){St(V,0)};function Xt(q,G){I=St(function(){q(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(q){switch(M){case 1:case 2:case 3:var G=3;break;default:G=M}var J=M;M=G;try{return q()}finally{M=J}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=M;M=q;try{return G()}finally{M=J}},a.unstable_scheduleCallback=function(q,G,J){var ut=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ut+J:ut):J=ut,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=J+w,q={id:A++,callback:G,priorityLevel:q,startTime:J,expirationTime:w,sortIndex:-1},J>ut?(q.sortIndex=J,e(_,q),i(v)===null&&q===i(_)&&(rt?(Tt(I),I=-1):rt=!0,Xt(ft,J-ut))):(q.sortIndex=w,e(v,q),tt||Q||(tt=!0,It||(It=!0,U()))),q},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(q){var G=M;return function(){var J=M;M=G;try{return q.apply(this,arguments)}finally{M=J}}}})(Pf)),Pf}var Cy;function kT(){return Cy||(Cy=1,Lf.exports=zT()),Lf.exports}var zf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function BT(){if(Dy)return Fe;Dy=1;var a=_d();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:M,fetchPriority:Q}):A==="script"&&s.d.X(v,{crossOrigin:D,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var Iy;function jT(){if(Iy)return zf.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),zf.exports=BT(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function qT(){if(Vy)return Hl;Vy=1;var a=kT(),e=_d(),i=jT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case W:return"Profiler";case rt:return"StrictMode";case ft:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case wt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Xt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ut=[],w=-1;function F(t){return{current:t}}function it(t){0>w||(t.current=ut[w],ut[w]=null,w--)}function nt(t,n){w++,ut[w]=t.current,t.current=n}var ot=F(null),bt=F(null),ht=F(null),se=F(null);function zt(t,n){switch(nt(ht,n),nt(bt,t),nt(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=$p(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ot),nt(ot,t)}function Ke(){it(ot),it(bt),it(ht)}function Lr(t){t.memoizedState!==null&&nt(se,t);var n=ot.current,r=$p(n,t.type);n!==r&&(nt(bt,t),nt(ot,r))}function Li(t){bt.current===t&&(it(ot),it(bt)),se.current===t&&(it(se),Pl._currentValue=J)}var Va=Object.prototype.hasOwnProperty,Pr=a.unstable_scheduleCallback,Na=a.unstable_cancelCallback,Oc=a.unstable_shouldYield,Ps=a.unstable_requestPaint,en=a.unstable_now,To=a.unstable_getCurrentPriorityLevel,Ee=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,hi=a.unstable_NormalPriority,xc=a.unstable_LowPriority,zs=a.unstable_IdlePriority,Uc=a.log,zr=a.unstable_setDisableYieldValue,Pi=null,qe=null;function Tn(t){if(typeof Uc=="function"&&zr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Pi,t)}catch{}}var Xe=Math.clz32?Math.clz32:bo,Lc=Math.log,Ao=Math.LN2;function bo(t){return t>>>=0,t===0?32:31-(Lc(t)/Ao|0)|0}var Gn=256,zi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=On(l):(y&=E,y!==0?c=On(y):r||(r=E&~t,r!==0&&(c=On(r))))):(E=l&~f,E!==0?c=On(E):y!==0?c=On(y):r||(r=l&~t,r!==0&&(c=On(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function ki(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ma(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=Gn;return Gn<<=1,(Gn&4194048)===0&&(Gn=256),t}function Bi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Oa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function So(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Xe(r),K=1<<H;E[H]=0,S[H]=-1;var k=z[H];if(k!==null)for(z[H]=null,H=0;H<k.length;H++){var B=k[H];B!==null&&(B.lane&=-536870913)}r&=~K}l!==0&&ji(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ji(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fi(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Pc(t,n){var r=G.p;try{return G.p=t,n()}finally{G.p=r}}var Fn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Fn,Ue="__reactProps$"+Fn,di="__reactContainer$"+Fn,kr="__reactEvents$"+Fn,Br="__reactListeners$"+Fn,zc="__reactHandles$"+Fn,xn="__reactResources$"+Fn,Hi="__reactMarker$"+Fn;function xa(t){delete t[ce],delete t[Ue],delete t[kr],delete t[Br],delete t[zc]}function Qn(t){var n=t[ce];if(n)return n;for(var r=t.parentNode;r;){if(n=r[di]||r[ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ey(t);t!==null;){if(r=t[ce])return r;t=ey(t)}return n}t=r,r=t.parentNode}return null}function Yn(t){if(t=t[ce]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Fi(t){var n=t[xn];return n||(n=t[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Hi]=!0}var wo=new Set,jr={};function Kn(t,n){Xn(t,n),Xn(t+"Capture",n)}function Xn(t,n){for(jr[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},Ua={};function kc(t){return Va.call(Ua,t)?!0:Va.call(Zn,t)?!1:qr.test(t)?Ua[t]=!0:(Zn[t]=!0,!1)}function Hr(t,n,r){if(kc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function bn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Fr,La;function mi(t){if(Fr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",La=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+t+La}var Pa=!1;function za(t,n){if(!t||Pa)return"";Pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var k=B}Reflect.construct(t,[],K)}else{try{K.call()}catch(B){k=B}t.call(K.prototype)}}else{try{throw Error()}catch(B){k=B}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),z=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===z.length)for(l=S.length-1,c=z.length-1;1<=l&&0<=c&&S[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==z[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?mi(r):""}function Bc(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return mi("Activity");default:return""}}function Un(t){try{var n="";do n+=Bc(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t){var n=Qi(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yi(t){t._valueTracker||(t._valueTracker=Qr(t))}function Gt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yr=/[\n"\\]/g;function De(t){return t.replace(Yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qs(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gs(t,y,ie(n)):r!=null?Gs(t,y,ie(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ie(E):t.removeAttribute("name")}function Hs(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+ie(r):"",n=n!=null?""+ie(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gs(t,n,r){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ki(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ie(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ro(t,n,r){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ie(r):""}function Co(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ie(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||pi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Fs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fs(t,f,n[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(t){return Io.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ys=null;function Ks(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Ze=null;function Vo(t){var n=Yn(t);if(n&&(t=n.stateNode)){var r=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(qs(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(s(90));qs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Gt(l)}break t;case"textarea":Ro(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ki(t,!!r.multiple,n,!1)}}}var Kr=!1;function Xr(t,n,r){if(Kr)return t(n,r);Kr=!0;try{var l=t(n);return l}finally{if(Kr=!1,(Xi!==null||Ze!==null)&&(vu(),Xi&&(n=Xi,t=Ze,Ze=Xi=null,Vo(n),t)))for(n=0;n<t.length;n++)Vo(t[n])}}function Zi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ue]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var $e=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if($e)try{var $i={};Object.defineProperty($i,"passive",{get:function(){yi=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{yi=!1}var wn=null,Zt=null,Ba=null;function No(){if(Ba)return Ba;var t,n=Zt,r=n.length,l,c="value"in wn?wn.value:wn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return Ba=c.slice(t,1<l?1-l:void 0)}function Zr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $r(){return!0}function Xs(){return!1}function Te(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$r:Xs,this.isPropagationStopped=Xs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=Te(He),Wr=A({},He,{view:0,detail:0}),ta=Te(Wr),ja,ea,$n,na=A({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(ja=t.screenX-$n.screenX,ea=t.screenY-$n.screenY):ea=ja=0,$n=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),ia=Te(na),jc=A({},na,{dataTransfer:0}),Mo=Te(jc),ra=A({},Wr,{relatedTarget:0}),qa=Te(ra),Oo=A({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Te(Oo),$s=A({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xo=Te($s),Ha=A({},He,{data:0}),Js=Te(Ha),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function Ga(){return Po}var zo=A({},Wr,{key:function(t){if(t.key){var n=Uo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_i[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fa=Te(zo),Je=A({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=Te(Je),ko=A({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Ji=Te(ko),u=A({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Te(u),p=A({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Te(p),P=A({},He,{newState:0,oldState:0}),j=Te(P),et=[9,13,27,32],At=$e&&"CompositionEvent"in window,Jt=null;$e&&"documentMode"in document&&(Jt=document.documentMode);var jt=$e&&"TextEvent"in window&&!Jt,fe=$e&&(!At||Jt&&8<Jt&&11>=Jt),un=" ",Jn=!1;function Pn(t,n){switch(t){case"keyup":return et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function tl(t,n){switch(t){case"compositionend":return zn(n);case"keypress":return n.which!==32?null:(Jn=!0,un);case"textInput":return t=n.data,t===un&&Jn?null:t;default:return null}}function oE(t,n){if(kn)return t==="compositionend"||!At&&Pn(t,n)?(t=No(),Ba=Zt=wn=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var uE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!uE[t.type]:n==="textarea"}function hm(t,n,r,l){Xi?Ze?Ze.push(l):Ze=[l]:Xi=l,n=wu(n,"onChange"),0<n.length&&(r=new Jr("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var el=null,nl=null;function cE(t){Fp(t,0)}function Bo(t){var n=Gi(t);if(Gt(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if($e){var qc;if($e){var Hc="oninput"in document;if(!Hc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Hc=typeof mm.oninput=="function"}qc=Hc}else qc=!1;dm=qc&&(!document.documentMode||9<document.documentMode)}function gm(){el&&(el.detachEvent("onpropertychange",pm),nl=el=null)}function pm(t){if(t.propertyName==="value"&&Bo(nl)){var n=[];hm(n,nl,t,Ks(t)),Xr(cE,n)}}function hE(t,n,r){t==="focusin"?(gm(),el=n,nl=r,el.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(nl)}function dE(t,n){if(t==="click")return Bo(n)}function mE(t,n){if(t==="input"||t==="change")return Bo(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:gE;function il(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Va.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var r=ym(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ym(r)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=gi(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pE=$e&&"documentMode"in document&&11>=document.documentMode,Qa=null,Fc=null,rl=null,Qc=!1;function Tm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qc||Qa==null||Qa!==gi(l)||(l=Qa,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=wu(Fc,"onSelect"),0<l.length&&(n=new Jr("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Qa)))}function aa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ya={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Yc={},Am={};$e&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function sa(t){if(Yc[t])return Yc[t];if(!Ya[t])return t;var n=Ya[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Am)return Yc[t]=n[r];return t}var bm=sa("animationend"),Sm=sa("animationiteration"),wm=sa("animationstart"),yE=sa("transitionrun"),_E=sa("transitionstart"),vE=sa("transitioncancel"),Rm=sa("transitionend"),Cm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Bn(t,n){Cm.set(t,n),Kn(n,[t])}var Dm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var r=Dm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Un(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Un(n)}}var Cn=[],Ka=0,Xc=0;function jo(){for(var t=Ka,n=Xc=Ka=0;n<t;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Im(r,c,f)}}function qo(t,n,r,l){Cn[Ka++]=t,Cn[Ka++]=n,Cn[Ka++]=r,Cn[Ka++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,r,l){return qo(t,n,r,l),Ho(t)}function Xa(t,n){return qo(t,null,null,n),Ho(t)}function Im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Xe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ho(t){if(50<Il)throw Il=0,nf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={};function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,r,l){return new EE(t,n,r,l)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=hn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Vm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")$c(t)&&(y=1);else if(typeof t=="string")y=AT(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,r,n,c),t.elementType=C,t.lanes=f,t;case tt:return la(r.children,c,f,n);case rt:y=8,c|=24;break;case W:return t=hn(12,r,n,c|2),t.elementType=W,t.lanes=f,t;case ft:return t=hn(13,r,n,c),t.elementType=ft,t.lanes=f,t;case It:return t=hn(19,r,n,c),t.elementType=It,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case gt:y=10;break t;case Tt:y=9;break t;case wt:y=11;break t;case I:y=14;break t;case b:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,r,l){return t=hn(7,t,l,n),t.lanes=r,t}function Jc(t,n,r){return t=hn(6,t,null,n),t.lanes=r,t}function Wc(t,n,r){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $a=[],Ja=0,Fo=null,Qo=0,Dn=[],In=0,oa=null,Ei=1,Ti="";function ua(t,n){$a[Ja++]=Qo,$a[Ja++]=Fo,Fo=t,Qo=n}function Nm(t,n,r){Dn[In++]=Ei,Dn[In++]=Ti,Dn[In++]=oa,oa=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-Xe(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function th(t){t.return!==null&&(ua(t,1),Nm(t,1,0))}function eh(t){for(;t===Fo;)Fo=$a[--Ja],$a[Ja]=null,Qo=$a[--Ja],$a[Ja]=null;for(;t===oa;)oa=Dn[--In],Dn[In]=null,Ti=Dn[--In],Dn[In]=null,Ei=Dn[--In],Dn[In]=null}var We=null,le=null,Bt=!1,ca=null,Wn=!1,nh=Error(s(519));function ha(t){var n=Error(s(418,""));throw ll(Rn(n,t)),nh}function Mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ce]=t,n[Ue]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Nl.length;r++)Nt(Nl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Hs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Co(n,l.value,l.defaultValue,l.children),Yi(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Xp(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||ha(t)}function Om(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!Bt)return Om(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vf(t.type,t.memoizedProps)),r=!r),r&&le&&ha(t),Om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=qn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,mr(t.type)?(t=bf,bf=null,le=t):le=n):le=We?qn(t.stateNode.nextSibling):null;return!0}function sl(){le=We=null,Bt=!1}function xm(){var t=ca;return t!==null&&(an===null?an=t:an.push.apply(an,t),ca=null),t}function ll(t){ca===null?ca=[t]:ca.push(t)}var ih=F(null),fa=null,Ai=null;function Wi(t,n,r){nt(ih,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=ih.current,it(ih)}function rh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ah(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),rh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),rh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;cn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===se.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&ah(n,t,r,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Um(fa,t)}function Ko(t,n){return fa===null&&da(t),Um(t,n)}function Um(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},AE=a.unstable_scheduleCallback,bE=a.unstable_NormalPriority,Ae={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new TE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&AE(bE,function(){t.controller.abort()})}var cl=null,lh=0,Wa=0,ts=null;function SE(t,n){if(cl===null){var r=cl=[];lh=0,Wa=cf(),ts={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lh++,n.then(Lm,Lm),n}function Lm(){if(--lh===0&&cl!==null){ts!==null&&(ts.status="fulfilled");var t=cl;cl=null,Wa=0,ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function wE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Pm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&SE(t,n),Pm!==null&&Pm(t,n)};var ma=F(null);function oh(){var t=ma.current;return t!==null?t:$t.pooledCache}function Xo(t,n){n===null?nt(ma,ma.current):nt(ma,n.pool)}function zm(){var t=oh();return t===null?null:{parent:Ae._currentValue,pool:t}}var hl=Error(s(460)),km=Error(s(474)),Zo=Error(s(542)),uh={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function jm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then($o,$o),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then($o,$o);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw fl=n,hl}}var fl=null;function qm(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function Hm(t){if(t===hl||t===Zo)throw Error(s(483))}var tr=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Im(t,null,r),n}return qo(t,l,n,r),Ho(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function fh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var dh=!1;function ml(){if(dh){var t=ts;if(t!==null)throw t}}function gl(t,n,r,l){dh=!1;var c=t.updateQueue;tr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,z=S.next;S.next=null,y===null?f=z:y.next=z,y=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=S))}if(f!==null){var K=c.baseState;y=0,H=z=S=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(l&k)===k){k!==0&&k===Wa&&(dh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,pt=E;k=n;var Yt=r;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){K=vt.call(Yt,K,k);break t}K=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,k=typeof vt=="function"?vt.call(Yt,K,k):vt,k==null)break t;K=A({},K,k);break t;case 2:tr=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=B,S=K):H=H.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(S=K),c.baseState=S,c.firstBaseUpdate=z,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=K}}function Gm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Gm(r[t],n)}var es=F(null),Jo=F(0);function Qm(t,n){t=Vi,nt(Jo,t),nt(es,n),Vi=t|n.baseLanes}function mh(){nt(Jo,Vi),nt(es,es.current)}function gh(){Vi=Jo.current,it(es),it(Jo)}var ir=0,Ct=null,Ft=null,pe=null,Wo=!1,ns=!1,ga=!1,tu=0,pl=0,is=null,RE=0;function de(){throw Error(s(321))}function ph(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!cn(t[r],n[r]))return!1;return!0}function yh(t,n,r,l,c,f){return ir=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Ig:Vg,ga=!1,f=r(l,c),ga=!1,ns&&(f=Km(n,r,l,c)),Ym(t),f}function Ym(t){q.H=su;var n=Ft!==null&&Ft.next!==null;if(ir=0,pe=Ft=Ct=null,Wo=!1,pl=0,is=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Yo(t)&&(Ie=!0))}function Km(t,n,r,l){Ct=t;var c=0;do{if(ns&&(is=null),pl=0,ns=!1,25<=c)throw Error(s(301));if(c+=1,pe=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=OE,f=n(r,l)}while(ns);return f}function CE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Ct.flags|=1024),n}function _h(){var t=tu!==0;return tu=0,t}function vh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Eh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}ir=0,pe=Ft=Ct=null,ns=!1,pl=tu=0,is=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Ct.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Ft===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=pe===null?Ct.memoizedState:pe.next;if(n!==null)pe=n,Ft=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},pe===null?Ct.memoizedState=pe=t:pe=pe.next=t}return pe}function Th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,is===null&&(is=[]),t=jm(is,t,n),n=Ct,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ig:Vg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===gt)return Ge(t)}throw Error(s(438,String(t)))}function Ah(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Th(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ye();return bh(n,Ft,t)}function bh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,z=n,H=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(xt&K)===K:(ir&K)===K){var k=z.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Wa&&(H=!0);else if((ir&k)===k){z=z.next,k===Wa&&(H=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=K,y=f):S=S.next=K,Ct.lanes|=k,cr|=k;K=z.action,ga&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else k={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=k,y=f):S=S.next=k,Ct.lanes|=K,cr|=K;z=z.next}while(z!==null&&z!==n);if(S===null?y=f:S.next=E,!cn(f,t.memoizedState)&&(Ie=!0,H&&(r=ts,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);cn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Xm(t,n,r){var l=Ct,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!cn((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Jm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,rs(9,iu(),$m.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(ir&124)!==0||Zm(l,n,r)}return r}function Zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Th(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function $m(t,n,r,l){n.value=r,n.getSnapshot=l,Wm(n)&&tg(t)}function Jm(t,n,r){return r(function(){Wm(n)&&tg(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!cn(t,r)}catch{return!0}}function tg(t){var n=Xa(t,2);n!==null&&pn(n,t,2)}function wh(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),ga){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function eg(t,n,r,l){return t.baseState=r,bh(t,Ft,typeof l=="function"?l:Si)}function DE(t,n,r,l,c){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ng(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,l),S=q.S;S!==null&&S(y,E),ig(t,n,E)}catch(z){Rh(t,n,z)}finally{q.T=f}}else try{f=r(c,l),ig(t,n,f)}catch(z){Rh(t,n,z)}}function ig(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){rg(t,n,l)},function(l){return Rh(t,n,l)}):rg(t,n,r)}function rg(t,n,r){n.status="fulfilled",n.value=r,ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ng(t,r)))}function Rh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sg(t,n){return n}function lg(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=Ct;if(Bt){if(le){e:{for(var c=le,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=qn(c.nextSibling),l=c.data==="F!";break t}}ha(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},r.queue=l,r=Rg.bind(null,Ct,l),l.dispatch=r,l=wh(!1),f=Nh.bind(null,Ct,!1,l.queue),l=nn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=DE.bind(null,Ct,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function og(t){var n=ye();return ug(n,Ft,t)}function ug(t,n,r){if(n=bh(t,n,sg)[0],t=nu(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===hl?Zo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Ct.flags|=2048,rs(9,iu(),IE.bind(null,c,r),null)),[l,f,t]}function IE(t,n){t.action=n}function cg(t){var n=ye(),r=Ft;if(r!==null)return ug(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function rs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Th(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function hg(){return ye().memoizedState}function ru(t,n,r,l){var c=nn();l=l===void 0?null:l,Ct.flags|=t,c.memoizedState=rs(1|n,iu(),r,l)}function _l(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&ph(l,Ft.memoizedState.deps)?c.memoizedState=rs(n,f,r,l):(Ct.flags|=t,c.memoizedState=rs(1|n,f,r,l))}function fg(t,n){ru(8390656,8,t,n)}function dg(t,n){_l(2048,8,t,n)}function mg(t,n){return _l(4,2,t,n)}function gg(t,n){return _l(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yg(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,pg.bind(null,n,t),r)}function Ch(){}function _g(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ph(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function vg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ph(n,l[1]))return l[0];if(l=t(),ga){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l}function Dh(t,n,r){return r===void 0||(ir&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Ap(),Ct.lanes|=t,cr|=t,r)}function Eg(t,n,r,l){return cn(r,n)?r:es.current!==null?(t=Dh(t,r,l),cn(t,n)||(Ie=!0),t):(ir&42)===0?(Ie=!0,t.memoizedState=r):(t=Ap(),Ct.lanes|=t,cr|=t,n)}function Tg(t,n,r,l,c){var f=G.p;G.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Nh(t,!1,n,r);try{var S=c(),z=q.S;if(z!==null&&z(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=wE(S,l);vl(t,n,H,gn(t))}else vl(t,n,l,gn(t))}catch(K){vl(t,n,{then:function(){},status:"rejected",reason:K},gn())}finally{G.p=f,q.T=y}}function VE(){}function Ih(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Ag(t).queue;Tg(t,c,n,J,r===null?VE:function(){return bg(t),r(l)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:J},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Ag(t).next.queue;vl(t,n,{},gn())}function Vh(){return Ge(Pl)}function Sg(){return ye().memoizedState}function wg(){return ye().memoizedState}function NE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=gn();t=er(r);var l=nr(n,t,r);l!==null&&(pn(l,n,r),dl(l,n,r)),n={cache:sh()},t.payload=n;return}n=n.return}}function ME(t,n,r){var l=gn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?Cg(n,r):(r=Zc(t,n,r,l),r!==null&&(pn(r,t,l),Dg(r,n,l)))}function Rg(t,n,r){var l=gn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))Cg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,cn(E,y))return qo(t,n,c,0),$t===null&&jo(),!1}catch{}finally{}if(r=Zc(t,n,c,l),r!==null)return pn(r,t,l),Dg(r,n,l),!0}return!1}function Nh(t,n,r,l){if(l={lane:2,revertLane:cf(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=Zc(t,r,l,2),n!==null&&pn(n,t,2)}function au(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Cg(t,n){ns=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Dg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var su={readContext:Ge,use:eu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Ig={readContext:Ge,use:eu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:fg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ru(4194308,4,pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(ga){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var c=r(n);if(ga){Tn(!0);try{r(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ME.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,r=Rg.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ch,useDeferredValue:function(t,n){var r=nn();return Dh(r,t,n)},useTransition:function(){var t=wh(!1);return t=Tg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,c=nn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(xt&124)!==0||Zm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,fg(Jm.bind(null,l,f,t),[t]),l.flags|=2048,rs(9,iu(),$m.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=$t.identifierPrefix;if(Bt){var r=Ti,l=Ei;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=tu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=RE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Vh,useFormState:lg,useActionState:lg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nh.bind(null,Ct,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return nn().memoizedState=NE.bind(null,Ct)}},Vg={readContext:Ge,use:eu,useCallback:_g,useContext:Ge,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:nu,useRef:hg,useState:function(){return nu(Si)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=ye();return Eg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=nu(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Vh,useFormState:og,useActionState:og,useOptimistic:function(t,n){var r=ye();return eg(r,Ft,t,n)},useMemoCache:Ah,useCacheRefresh:wg},OE={readContext:Ge,use:eu,useCallback:_g,useContext:Ge,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:Sh,useRef:hg,useState:function(){return Sh(Si)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=ye();return Ft===null?Dh(r,t,n):Eg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Sh(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Vh,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var r=ye();return Ft!==null?eg(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:wg},as=null,El=0;function lu(t){var n=El;return El+=1,as===null&&(as=[]),jm(as,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){var n=t._init;return n(t._payload)}function Mg(t){function n(x,N){if(t){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=vi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Y){return N===null||N.tag!==6?(N=Jc(L,x.mode,Y),N.return=x,N):(N=c(N,L),N.return=x,N)}function S(x,N,L,Y){var st=L.type;return st===tt?H(x,N,L.props.children,Y,L.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&Ng(st)===N.type)?(N=c(N,L.props),Tl(N,L),N.return=x,N):(N=Go(L.type,L.key,L.props,null,x.mode,Y),Tl(N,L),N.return=x,N)}function z(x,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Wc(L,x.mode,Y),N.return=x,N):(N=c(N,L.children||[]),N.return=x,N)}function H(x,N,L,Y,st){return N===null||N.tag!==7?(N=la(L,x.mode,Y,st),N.return=x,N):(N=c(N,L),N.return=x,N)}function K(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Jc(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return L=Go(N.type,N.key,N.props,null,x.mode,L),Tl(L,N),L.return=x,L;case Q:return N=Wc(N,x.mode,L),N.return=x,N;case b:var Y=N._init;return N=Y(N._payload),K(x,N,L)}if(Xt(N)||U(N))return N=la(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return K(x,lu(N),L);if(N.$$typeof===gt)return K(x,Ko(x,N),L);ou(x,N)}return null}function k(x,N,L,Y){var st=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return st!==null?null:E(x,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===st?S(x,N,L,Y):null;case Q:return L.key===st?z(x,N,L,Y):null;case b:return st=L._init,L=st(L._payload),k(x,N,L,Y)}if(Xt(L)||U(L))return st!==null?null:H(x,N,L,Y,null);if(typeof L.then=="function")return k(x,N,lu(L),Y);if(L.$$typeof===gt)return k(x,N,Ko(x,L),Y);ou(x,L)}return null}function B(x,N,L,Y,st){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(L)||null,E(N,x,""+Y,st);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return x=x.get(Y.key===null?L:Y.key)||null,S(N,x,Y,st);case Q:return x=x.get(Y.key===null?L:Y.key)||null,z(N,x,Y,st);case b:var Dt=Y._init;return Y=Dt(Y._payload),B(x,N,L,Y,st)}if(Xt(Y)||U(Y))return x=x.get(L)||null,H(N,x,Y,st,null);if(typeof Y.then=="function")return B(x,N,L,lu(Y),st);if(Y.$$typeof===gt)return B(x,N,L,Ko(N,Y),st);ou(N,Y)}return null}function vt(x,N,L,Y){for(var st=null,Dt=null,ct=N,yt=N=0,Ne=null;ct!==null&&yt<L.length;yt++){ct.index>yt?(Ne=ct,ct=null):Ne=ct.sibling;var kt=k(x,ct,L[yt],Y);if(kt===null){ct===null&&(ct=Ne);break}t&&ct&&kt.alternate===null&&n(x,ct),N=f(kt,N,yt),Dt===null?st=kt:Dt.sibling=kt,Dt=kt,ct=Ne}if(yt===L.length)return r(x,ct),Bt&&ua(x,yt),st;if(ct===null){for(;yt<L.length;yt++)ct=K(x,L[yt],Y),ct!==null&&(N=f(ct,N,yt),Dt===null?st=ct:Dt.sibling=ct,Dt=ct);return Bt&&ua(x,yt),st}for(ct=l(ct);yt<L.length;yt++)Ne=B(ct,x,yt,L[yt],Y),Ne!==null&&(t&&Ne.alternate!==null&&ct.delete(Ne.key===null?yt:Ne.key),N=f(Ne,N,yt),Dt===null?st=Ne:Dt.sibling=Ne,Dt=Ne);return t&&ct.forEach(function(vr){return n(x,vr)}),Bt&&ua(x,yt),st}function pt(x,N,L,Y){if(L==null)throw Error(s(151));for(var st=null,Dt=null,ct=N,yt=N=0,Ne=null,kt=L.next();ct!==null&&!kt.done;yt++,kt=L.next()){ct.index>yt?(Ne=ct,ct=null):Ne=ct.sibling;var vr=k(x,ct,kt.value,Y);if(vr===null){ct===null&&(ct=Ne);break}t&&ct&&vr.alternate===null&&n(x,ct),N=f(vr,N,yt),Dt===null?st=vr:Dt.sibling=vr,Dt=vr,ct=Ne}if(kt.done)return r(x,ct),Bt&&ua(x,yt),st;if(ct===null){for(;!kt.done;yt++,kt=L.next())kt=K(x,kt.value,Y),kt!==null&&(N=f(kt,N,yt),Dt===null?st=kt:Dt.sibling=kt,Dt=kt);return Bt&&ua(x,yt),st}for(ct=l(ct);!kt.done;yt++,kt=L.next())kt=B(ct,x,yt,kt.value,Y),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?yt:kt.key),N=f(kt,N,yt),Dt===null?st=kt:Dt.sibling=kt,Dt=kt);return t&&ct.forEach(function(xT){return n(x,xT)}),Bt&&ua(x,yt),st}function Yt(x,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var st=L.key;N!==null;){if(N.key===st){if(st=L.type,st===tt){if(N.tag===7){r(x,N.sibling),Y=c(N,L.props.children),Y.return=x,x=Y;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===b&&Ng(st)===N.type){r(x,N.sibling),Y=c(N,L.props),Tl(Y,L),Y.return=x,x=Y;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===tt?(Y=la(L.props.children,x.mode,Y,L.key),Y.return=x,x=Y):(Y=Go(L.type,L.key,L.props,null,x.mode,Y),Tl(Y,L),Y.return=x,x=Y)}return y(x);case Q:t:{for(st=L.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),Y=c(N,L.children||[]),Y.return=x,x=Y;break t}else{r(x,N);break}else n(x,N);N=N.sibling}Y=Wc(L,x.mode,Y),Y.return=x,x=Y}return y(x);case b:return st=L._init,L=st(L._payload),Yt(x,N,L,Y)}if(Xt(L))return vt(x,N,L,Y);if(U(L)){if(st=U(L),typeof st!="function")throw Error(s(150));return L=st.call(L),pt(x,N,L,Y)}if(typeof L.then=="function")return Yt(x,N,lu(L),Y);if(L.$$typeof===gt)return Yt(x,N,Ko(x,L),Y);ou(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),Y=c(N,L),Y.return=x,x=Y):(r(x,N),Y=Jc(L,x.mode,Y),Y.return=x,x=Y),y(x)):r(x,N)}return function(x,N,L,Y){try{El=0;var st=Yt(x,N,L,Y);return as=null,st}catch(ct){if(ct===hl||ct===Zo)throw ct;var Dt=hn(29,ct,null,x.mode);return Dt.lanes=Y,Dt.return=x,Dt}finally{}}}var ss=Mg(!0),Og=Mg(!1),Vn=F(null),ti=null;function rr(t){var n=t.alternate;nt(be,be.current&1),nt(Vn,t),ti===null&&(n===null||es.current!==null||n.memoizedState!==null)&&(ti=t)}function xg(t){if(t.tag===22){if(nt(be,be.current),nt(Vn,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else ar()}function ar(){nt(be,be.current),nt(Vn,Vn.current)}function wi(t){it(Vn),ti===t&&(ti=null),it(be)}var be=F(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Af(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=gn(),c=er(l);c.payload=n,r!=null&&(c.callback=r),n=nr(t,c,l),n!==null&&(pn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=gn(),c=er(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=nr(t,c,l),n!==null&&(pn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=gn(),l=er(r);l.tag=2,n!=null&&(l.callback=n),n=nr(t,l,r),n!==null&&(pn(n,t,r),dl(n,t,r))}};function Ug(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function Lg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function pa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pg(t){cu(t)}function zg(t){console.error(t)}function kg(t){cu(t)}function hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xh(t,n,r){return r=er(r),r.tag=3,r.payload={element:null},r.callback=function(){hu(t,n)},r}function jg(t){return t=er(t),t.tag=3,t}function qg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Bg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Bg(n,r,l),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=Vn.current,r!==null){switch(r.tag){case 13:return ti===null?af():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===uh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),lf(t,l,c)),!1;case 22:return r.flags|=65536,l===uh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),lf(t,l,c)),!1}throw Error(s(435,r.tag))}return lf(t,l,c),af(),!1}if(Bt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==nh&&(t=Error(s(422),{cause:l}),ll(Rn(t,r)))):(l!==nh&&(n=Error(s(423),{cause:l}),ll(Rn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,r),c=xh(t.stateNode,l,c),fh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,r),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Rn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=xh(r.stateNode,l,t),fh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=jg(c),qg(c,t,r,l),fh(r,c),!1}r=r.return}while(r!==null);return!1}var Hg=Error(s(461)),Ie=!1;function Le(t,n,r,l){n.child=t===null?Og(n,null,r,l):ss(n,t.child,r,l)}function Gg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return da(n),l=yh(t,n,r,y,f,c),E=_h(),t!==null&&!Ie?(vh(t,n,c),Ri(t,n,c)):(Bt&&E&&th(n),n.flags|=1,Le(t,n,l,c),n.child)}function Fg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,c)):(t=Go(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,qh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Uh(t,n,r,l,c)}function Yg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Kg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Qm(n,f):mh(),xg(n);else return n.lanes=n.childLanes=536870912,Kg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Xo(n,f.cachePool),Qm(n,f),ar(),n.memoizedState=null):(t!==null&&Xo(n,null),mh(),ar());return Le(t,n,c,r),n.child}function Kg(t,n,r,l){var c=oh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Xo(n,null),mh(),xg(n),t!==null&&ol(t,n,l,!0),null}function fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uh(t,n,r,l,c){return da(n),r=yh(t,n,r,l,void 0,c),l=_h(),t!==null&&!Ie?(vh(t,n,c),Ri(t,n,c)):(Bt&&l&&th(n),n.flags|=1,Le(t,n,r,c),n.child)}function Xg(t,n,r,l,c,f){return da(n),n.updateQueue=null,r=Km(n,l,r,c),Ym(t),l=_h(),t!==null&&!Ie?(vh(t,n,f),Ri(t,n,f)):(Bt&&l&&th(n),n.flags|=1,Le(t,n,r,f),n.child)}function Zg(t,n,r,l,c){if(da(n),n.stateNode===null){var f=Za,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ch(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Za,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=pa(r,E);f.props=S;var z=f.context,H=r.contextType;y=Za,typeof H=="object"&&H!==null&&(y=Ge(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Lg(n,f,l,y),tr=!1;var k=n.memoizedState;f.state=k,gl(n,l,f,c),ml(),z=n.memoizedState,E||k!==z||tr?(typeof K=="function"&&(Mh(n,r,K,l),z=n.memoizedState),(S=tr||Ug(n,r,S,l,k,z,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hh(t,n),y=n.memoizedProps,H=pa(r,y),f.props=H,K=n.pendingProps,k=f.context,z=r.contextType,S=Za,typeof z=="object"&&z!==null&&(S=Ge(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||k!==S)&&Lg(n,f,l,S),tr=!1,k=n.memoizedState,f.state=k,gl(n,l,f,c),ml();var B=n.memoizedState;y!==K||k!==B||tr||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Mh(n,r,E,l),B=n.memoizedState),(H=tr||Ug(n,r,H,l,k,B,S)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ss(n,t.child,null,c),n.child=ss(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function $g(t,n,r,l){return sl(),n.flags|=256,Le(t,n,r,l),n.child}var Lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:zm()}}function zh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function Jg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?rr(n):ar(),Bt){var E=le,S;if(S=E){t:{for(S=E,E=Wn;S.nodeType!==8;){if(!E){E=null;break t}if(S=qn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:oa!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},S=hn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,We=n,le=null,S=!0):S=!1}S||ha(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Af(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(ar(),c=n.mode,E=du({mode:"hidden",children:E},c),l=la(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ph(r),c.childLanes=zh(t,y,r),n.memoizedState=Lh,l):(rr(n),kh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(rr(n),n.flags&=-257,n=Bh(t,n,r)):n.memoizedState!==null?(ar(),n.child=t.child,n.flags|=128,n=null):(ar(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=la(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ss(n,t.child,null,r),l=n.child,l.memoizedState=Ph(r),l.childLanes=zh(t,y,r),n.memoizedState=Lh,n=c);else if(rr(n),Af(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=Bh(t,n,r)}else if(Ie||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Bs(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Xa(t,l),pn(y,t,l),Hg;E.data==="$?"||af(),n=Bh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,le=qn(E.nextSibling),We=n,Bt=!0,ca=null,Wn=!1,t!==null&&(Dn[In++]=Ei,Dn[In++]=Ti,Dn[In++]=oa,Ei=t.id,Ti=t.overflow,oa=n),n=kh(n,l.children),n.flags|=4096);return n}return c?(ar(),c=l.fallback,E=n.mode,S=t.child,z=S.sibling,l=vi(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,z!==null?c=vi(z,c):(c=la(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ph(r):(S=E.cachePool,S!==null?(z=Ae._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=zm(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=zh(t,y,r),n.memoizedState=Lh,l):(rr(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function kh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=hn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bh(t,n,r){return ss(n,t.child,null,r),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,r)}function jh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function tp(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,r,n);else if(t.tag===19)Wg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),jh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}jh(n,!0,r,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function UE(t,n,r){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Wi(n,Ae,t.memoizedState.cache),sl();break;case 27:case 5:Lr(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(t,n,r):(rr(n),t=Ri(t,n,r),t!==null?t.sibling:null);rr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return tp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Yg(t,n,r);case 24:Wi(n,Ae,t.memoizedState.cache)}return Ri(t,n,r)}function ep(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!qh(t,r)&&(n.flags&128)===0)return Ie=!1,UE(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&Nm(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")$c(l)?(t=pa(l,t),n.tag=1,n=Zg(null,n,l,t,r)):(n.tag=0,n=Uh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===wt){n.tag=11,n=Gg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Fg(null,n,l,t,r);break t}}throw n=ee(l)||l,Error(s(306,n,""))}}return n;case 0:return Uh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=pa(l,n.pendingProps),Zg(t,n,l,c,r);case 3:t:{if(zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,hh(t,n),gl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Wi(n,Ae,l),l!==f.cache&&ah(n,[Ae],r,!0),ml(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(t,n,l,r);break t}else if(l!==c){c=Rn(Error(s(424)),n),ll(c),n=$g(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=qn(t.firstChild),We=n,Bt=!0,ca=null,Wn=!0,r=Og(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sl(),l===c){n=Ri(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return fu(t,n),t===null?(r=ay(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Cu(ht.current).createElement(r),l[ce]=n,l[Ue]=t,ze(l,r,t),he(l),n.stateNode=l):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Lr(n),t===null&&Bt&&(l=n.stateNode=ny(n.type,n.pendingProps,ht.current),We=n,Wn=!0,c=le,mr(n.type)?(bf=c,le=qn(l.firstChild)):le=c),Le(t,n,n.pendingProps.children,r),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=uT(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,We=n,le=qn(l.firstChild),Wn=!1,c=!0):c=!1),c||ha(n)),Lr(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,vf(c,f)?l=null:y!==null&&vf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=yh(t,n,CE,null,null,r),Pl._currentValue=c),fu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=le)&&(r=cT(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,We=n,le=null,t=!0):t=!1),t||ha(n)),null;case 13:return Jg(t,n,r);case 4:return zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ss(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=Ge(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return Qg(t,n,n.type,n.pendingProps,r);case 19:return tp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=du(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Yg(t,n,r);case 24:return da(n),l=Ge(Ae),t===null?(c=oh(),c===null&&(c=$t,f=sh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ch(n),Wi(n,Ae,c)):((t.lanes&r)!==0&&(hh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wi(n,Ae,l)):(l=f.cache,Wi(n,Ae,l),l!==c.cache&&ah(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cy(n)){if(n=Vn.current,n!==null&&((xt&4194048)===xt?ti!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==ti))throw fl=uh,km;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,cs|=n)}function Al(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function LE(t,n,r){var l=n.pendingProps;switch(eh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Ae),Ke(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(re(n),np(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),re(n),np(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),re(n),n.flags&=-16777217),null;case 27:Li(n),r=ht.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=ot.current,al(n)?Mm(n):(t=ny(c,l,r),n.stateNode=t,Ci(n))}return re(n),null;case 5:if(Li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=ot.current,al(n))Mm(n);else{switch(c=Cu(ht.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ce]=n,t[Ue]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=ht.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xp(t.nodeValue,r)),t||ha(n)}else t=Cu(t).createTextNode(l),t[ce]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ce]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),mu(n,n.updateQueue),re(n),null;case 4:return Ke(),t===null&&mf(n.stateNode.containerInfo),re(n),null;case 10:return bi(n.type),re(n),null;case 19:if(it(be),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Vm(r,t),r=r.sibling;return nt(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&en()>yu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*en()-c.renderingStartTime>yu&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=en(),n.sibling=null,t=be.current,nt(be,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return wi(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&mu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(ma),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function PE(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Ae),Ke(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(be),null;case 4:return Ke(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),gh(),t!==null&&it(ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Ae),null;case 25:return null;default:return null}}function ip(t,n){switch(eh(n),n.tag){case 3:bi(Ae),Ke();break;case 26:case 27:case 5:Li(n);break;case 4:Ke();break;case 13:wi(n);break;case 19:it(be);break;case 10:bi(n.type);break;case 22:case 23:wi(n),gh(),t!==null&&it(ma);break;case 24:bi(Ae)}}function bl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function sr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=r,z=E;try{z()}catch(H){Kt(c,S,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function rp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fm(n,r)}catch(l){Kt(t,t.return,l)}}}function ap(t,n,r){r.props=pa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function ei(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function sp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Hh(t,n,r){try{var l=t.stateNode;rT(l,t.type,r,n),l[Ue]=n}catch(c){Kt(t,t.return,c)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function Gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&mr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,r),t=t.sibling;t!==null;)Fh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&mr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}function op(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[ce]=t,n[Ue]=r}catch(f){Kt(t,t.return,f)}}var Di=!1,me=!1,Qh=!1,up=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function zE(t,n){if(t=t.containerInfo,yf=Ou,t=Em(t),Gc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,S=-1,z=0,H=0,K=t,k=null;e:for(;;){for(var B;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(S=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)k=K,K=B;for(;;){if(K===t)break e;if(k===r&&++z===c&&(E=y),k===f&&++H===l&&(S=y),(B=K.nextSibling)!==null)break;K=k,k=K.parentNode}K=B}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(_f={focusedElem:t,selectionRange:r},Ou=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=pa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Kt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function cp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:lr(t,r),l&4&&bl(5,r);break;case 1:if(lr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=pa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&rp(r),l&512&&Sl(r,r.return);break;case 3:if(lr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&op(r);case 26:case 5:lr(t,r),n===null&&l&4&&sp(r),l&512&&Sl(r,r.return);break;case 12:lr(t,r);break;case 13:lr(t,r),l&4&&dp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=YE.bind(null,r),hT(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||me,c=Di;var f=me;Di=l,(me=n)&&!f?or(t,r,(r.subtreeFlags&8772)!==0):lr(t,r),Di=c,me=f}break;case 30:break;default:lr(t,r)}}function hp(t){var n=t.alternate;n!==null&&(t.alternate=null,hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,rn=!1;function Ii(t,n,r){for(r=r.child;r!==null;)fp(t,n,r),r=r.sibling}function fp(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 26:me||ei(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:me||ei(r,n);var l=ne,c=rn;mr(r.type)&&(ne=r.stateNode,rn=!1),Ii(t,n,r),Ol(r.stateNode),ne=l,rn=c;break;case 5:me||ei(r,n);case 6:if(l=ne,c=rn,ne=null,Ii(t,n,r),ne=l,rn=c,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ne!==null&&(rn?(t=ne,ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):ty(ne,r.stateNode));break;case 4:l=ne,c=rn,ne=r.stateNode.containerInfo,rn=!0,Ii(t,n,r),ne=l,rn=c;break;case 0:case 11:case 14:case 15:me||sr(2,r,n),me||sr(4,r,n),Ii(t,n,r);break;case 1:me||(ei(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ap(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:me=(l=me)||r.memoizedState!==null,Ii(t,n,r),me=l;break;default:Ii(t,n,r)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){Kt(n,n.return,r)}}function kE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new up),n;default:throw Error(s(435,t.tag))}}function Yh(t,n){var r=kE(t);n.forEach(function(l){var c=KE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function fn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){ne=E.stateNode,rn=!1;break t}break;case 5:ne=E.stateNode,rn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ne===null)throw Error(s(160));fp(f,y,c),ne=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var jn=null;function mp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),l&4&&(sr(3,t,t.return),bl(3,t),sr(5,t,t.return));break;case 1:fn(n,t),dn(t),l&512&&(me||r===null||ei(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=jn;if(fn(n,t),dn(t),l&512&&(me||r===null||ei(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[ce]=t,he(f),l=f;break t;case"link":var y=oy("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=oy("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else uy(c,t.type,t.stateNode);else t.stateNode=ly(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?uy(c,t.type,t.stateNode):ly(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,r.memoizedProps)}break;case 27:fn(n,t),dn(t),l&512&&(me||r===null||ei(r,r.return)),r!==null&&l&4&&Hh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(fn(n,t),dn(t),l&512&&(me||r===null||ei(r,r.return)),t.flags&32){c=t.stateNode;try{Sn(c,"")}catch(B){Kt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Qh=!0);break;case 6:if(fn(n,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Kt(t,t.return,B)}}break;case 3:if(Vu=null,c=jn,jn=Du(n.containerInfo),fn(n,t),jn=c,dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Kt(t,t.return,B)}Qh&&(Qh=!1,gp(t));break;case 4:l=jn,jn=Du(t.stateNode.containerInfo),fn(n,t),dn(t),jn=l;break;case 12:fn(n,t),dn(t);break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wh=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 22:c=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,z=Di,H=me;if(Di=z||c,me=H||S,fn(n,t),me=H,Di=z,dn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||S||Di||me||ya(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(f=S.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=S.stateNode;var K=S.memoizedProps.style,k=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Kt(S,S.return,B)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(B){Kt(S,S.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Yh(t,r))));break;case 19:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yh(t,l)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(lp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Gh(t);gu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(Sn(y,""),r.flags&=-33);var E=Gh(t);gu(t,E,y);break;case 3:case 4:var S=r.stateNode.containerInfo,z=Gh(t);Fh(t,z,S);break;default:throw Error(s(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function lr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cp(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),ya(n);break;case 1:ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ap(n,n.return,r),ya(n);break;case 27:Ol(n.stateNode);case 26:case 5:ei(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}t=t.sibling}}function or(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:or(c,f,r),bl(4,f);break;case 1:if(or(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Gm(S[c],E)}catch(z){Kt(l,l.return,z)}}r&&y&64&&rp(f),Sl(f,f.return);break;case 27:op(f);case 26:case 5:or(c,f,r),r&&l===null&&y&4&&sp(f),Sl(f,f.return);break;case 12:or(c,f,r);break;case 13:or(c,f,r),r&&y&4&&dp(c,f);break;case 22:f.memoizedState===null&&or(c,f,r),Sl(f,f.return);break;case 30:break;default:or(c,f,r)}n=n.sibling}}function Kh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function ni(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,r,l),n=n.sibling}function pp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,l),c&2048&&bl(9,n);break;case 1:ni(t,n,r,l);break;case 3:ni(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){ni(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Kt(n,n.return,S)}}else ni(t,n,r,l);break;case 13:ni(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,r,l):wl(t,n):f._visibility&2?ni(t,n,r,l):(f._visibility|=2,ls(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Kh(y,n);break;case 24:ni(t,n,r,l),c&2048&&Xh(n.alternate,n);break;default:ni(t,n,r,l)}}function ls(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,S=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:ls(f,y,E,S,c),bl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?ls(f,y,E,S,c):wl(f,y):(H._visibility|=2,ls(f,y,E,S,c)),c&&z&2048&&Kh(y.alternate,y);break;case 24:ls(f,y,E,S,c),c&&z&2048&&Xh(y.alternate,y);break;default:ls(f,y,E,S,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:wl(r,l),c&2048&&Kh(l.alternate,l);break;case 24:wl(r,l),c&2048&&Xh(l.alternate,l);break;default:wl(r,l)}n=n.sibling}}var Rl=8192;function os(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 26:os(t),t.flags&Rl&&t.memoizedState!==null&&ST(jn,t.memoizedState,t.memoizedProps);break;case 5:os(t);break;case 3:case 4:var n=jn;jn=Du(t.stateNode.containerInfo),os(t),jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,os(t),Rl=n):os(t));break;default:os(t)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Cl(t);break;default:Cl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function Ep(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(hp(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var BE={getCacheForType:function(t){var n=Ge(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},jE=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Vt=null,xt=0,Ht=0,mn=null,ur=!1,us=!1,Zh=!1,Vi=0,oe=0,cr=0,_a=0,$h=0,Nn=0,cs=0,Dl=null,an=null,Jh=!1,Wh=0,yu=1/0,_u=null,hr=null,Pe=0,fr=null,hs=null,fs=0,tf=0,ef=null,Tp=null,Il=0,nf=null;function gn(){if((qt&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var t=Wa;return t!==0?t:cf()}return fi()}function Ap(){Nn===0&&(Nn=(xt&536870912)===0||Bt?ks():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Nn}function pn(t,n,r){(t===$t&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(ds(t,0),dr(t,xt,Nn,!1)),ue(t,r),((qt&2)===0||t!==$t)&&(t===$t&&((qt&2)===0&&(_a|=r),oe===4&&dr(t,xt,Nn,!1)),ii(t))}function bp(t,n,r){if((qt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||ki(t,n),c=l?GE(t,n):sf(t,n,!0),f=l;do{if(c===0){us&&!l&&dr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!qE(r)){c=sf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Dl;var S=E.current.memoizedState.isDehydrated;if(S&&(ds(E,y).flags|=256),y=sf(E,y,!1),y!==2){if(Zh&&!S){E.errorRecoveryDisabledLanes|=f,_a|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ds(t,0),dr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:dr(l,n,Nn,!ur);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Wh+300-en(),10<c)){if(dr(l,n,Nn,!ur),An(l,0,!0)!==0)break t;l.timeoutHandle=Jp(Sp.bind(null,l,r,an,_u,Jh,n,Nn,_a,cs,ur,f,2,-0,0),c);break t}Sp(l,r,an,_u,Jh,n,Nn,_a,cs,ur,f,0,-0,0)}}break}while(!0);ii(t)}function Sp(t,n,r,l,c,f,y,E,S,z,H,K,k,B){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:bT},yp(n),K=wT(),K!==null)){t.cancelPendingCommit=K(Np.bind(null,t,n,f,r,l,c,y,E,S,H,1,k,B)),dr(t,f,y,!z);return}Np(t,n,f,r,l,c,y,E,S)}function qE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(t,n,r,l){n&=~$h,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ji(t,r,n)}function vu(){return(qt&6)===0?(Vl(0),!1):!0}function rf(){if(Vt!==null){if(Ht===0)var t=Vt.return;else t=Vt,Ai=fa=null,Eh(t),as=null,El=0,t=Vt;for(;t!==null;)ip(t.alternate,t),t=t.return;Vt=null}}function ds(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),rf(),$t=t,Vt=r=vi(t.current,null),xt=n,Ht=0,mn=null,ur=!1,us=ki(t,n),Zh=!1,cs=Nn=$h=_a=cr=oe=0,an=Dl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,jo(),r}function wp(t,n){Ct=null,q.H=su,n===hl||n===Zo?(n=qm(),Ht=3):n===km?(n=qm(),Ht=4):Ht=n===Hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Vt===null&&(oe=1,hu(t,Rn(n,t.current)))}function Rp(){var t=q.H;return q.H=su,t===null?su:t}function Cp(){var t=q.A;return q.A=BE,t}function af(){oe=4,ur||(xt&4194048)!==xt&&Vn.current!==null||(us=!0),(cr&134217727)===0&&(_a&134217727)===0||$t===null||dr($t,xt,Nn,!1)}function sf(t,n,r){var l=qt;qt|=2;var c=Rp(),f=Cp();($t!==t||xt!==n)&&(_u=null,ds(t,n)),n=!1;var y=oe;t:do try{if(Ht!==0&&Vt!==null){var E=Vt,S=mn;switch(Ht){case 8:rf(),y=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Ht;if(Ht=0,mn=null,ms(t,E,S,z),r&&us){y=0;break t}break;default:z=Ht,Ht=0,mn=null,ms(t,E,S,z)}}HE(),y=oe;break}catch(H){wp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=fa=null,qt=l,q.H=c,q.A=f,Vt===null&&($t=null,xt=0,jo()),y}function HE(){for(;Vt!==null;)Dp(Vt)}function GE(t,n){var r=qt;qt|=2;var l=Rp(),c=Cp();$t!==t||xt!==n?(_u=null,yu=en()+500,ds(t,n)):us=ki(t,n);t:do try{if(Ht!==0&&Vt!==null){n=Vt;var f=mn;e:switch(Ht){case 1:Ht=0,mn=null,ms(t,n,f,1);break;case 2:case 9:if(Bm(f)){Ht=0,mn=null,Ip(n);break}n=function(){Ht!==2&&Ht!==9||$t!==t||(Ht=7),ii(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Bm(f)?(Ht=0,mn=null,Ip(n)):(Ht=0,mn=null,ms(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||cy(y)){Ht=0,mn=null;var S=E.sibling;if(S!==null)Vt=S;else{var z=E.return;z!==null?(Vt=z,Eu(z)):Vt=null}break e}}Ht=0,mn=null,ms(t,n,f,5);break;case 6:Ht=0,mn=null,ms(t,n,f,6);break;case 8:rf(),oe=6;break t;default:throw Error(s(462))}}FE();break}catch(H){wp(t,H)}while(!0);return Ai=fa=null,q.H=l,q.A=c,qt=r,Vt!==null?0:($t=null,xt=0,jo(),oe)}function FE(){for(;Vt!==null&&!Oc();)Dp(Vt)}function Dp(t){var n=ep(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?Eu(t):Vt=n}function Ip(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Xg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Xg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Eh(n);default:ip(r,n),n=Vt=Vm(n,Vi),n=ep(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Vt=n}function ms(t,n,r,l){Ai=fa=null,Eh(n),as=null,El=0;var c=n.return;try{if(xE(t,c,n,r,xt)){oe=1,hu(t,Rn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;oe=1,hu(t,Rn(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:us||(xt&536870912)!==0?t=!1:(ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Vp(n,ur);return}t=n.return;var r=LE(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);oe===0&&(oe=5)}function Vp(t,n){do{var r=PE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);oe=6,Vt=null}function Np(t,n,r,l,c,f,y,E,S){t.cancelPendingCommit=null;do Tu();while(Pe!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xc,So(t,r,f,y,E,S),t===$t&&(Vt=$t=null,xt=0),hs=n,fr=t,fs=r,tf=f,ef=c,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(hi,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=G.p,G.p=2,y=qt,qt|=4;try{zE(t,n,r)}finally{qt=y,G.p=c,q.T=l}}Pe=1,Mp(),Op(),xp()}}function Mp(){if(Pe===1){Pe=0;var t=fr,n=hs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=G.p;G.p=2;var c=qt;qt|=4;try{mp(n,t);var f=_f,y=Em(t.containerInfo),E=f.focusedElem,S=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(S!==null&&Gc(E)){var z=S.start,H=S.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,k=K&&K.defaultView||window;if(k.getSelection){var B=k.getSelection(),vt=E.textContent.length,pt=Math.min(S.start,vt),Yt=S.end===void 0?pt:Math.min(S.end,vt);!B.extend&&pt>Yt&&(y=Yt,Yt=pt,pt=y);var x=_m(E,pt),N=_m(E,Yt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=K.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),pt>Yt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ou=!!yf,_f=yf=null}finally{qt=c,G.p=l,q.T=r}}t.current=n,Pe=2}}function Op(){if(Pe===2){Pe=0;var t=fr,n=hs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=G.p;G.p=2;var c=qt;qt|=4;try{cp(t,n.alternate,n)}finally{qt=c,G.p=l,q.T=r}}Pe=3}}function xp(){if(Pe===4||Pe===3){Pe=0,Ps();var t=fr,n=hs,r=fs,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,hs=fr=null,Up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hr=null),js(r),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=G.p,G.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,G.p=c}}(fs&3)!==0&&Tu(),ii(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===nf?Il++:(Il=0,nf=t):Il=0,Vl(0)}}function Up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Tu(t){return Mp(),Op(),xp(),Lp()}function Lp(){if(Pe!==5)return!1;var t=fr,n=tf;tf=0;var r=js(fs),l=q.T,c=G.p;try{G.p=32>r?32:r,q.T=null,r=ef,ef=null;var f=fr,y=fs;if(Pe=0,hs=fr=null,fs=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,vp(f.current),pp(f,f.current,y,r),qt=E,Vl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Pi,f)}catch{}return!0}finally{G.p=c,q.T=l,Up(t,n)}}function Pp(t,n,r){n=Rn(r,n),n=xh(t.stateNode,n,2),t=nr(t,n,2),t!==null&&(ue(t,2),ii(t))}function Kt(t,n,r){if(t.tag===3)Pp(t,t,r);else for(;n!==null;){if(n.tag===3){Pp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=Rn(r,t),r=jg(2),l=nr(n,r,2),l!==null&&(qg(r,l,n,t),ue(l,2),ii(l));break}}n=n.return}}function lf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Zh=!0,c.add(r),t=QE.bind(null,t,n,r),n.then(t,t))}function QE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>en()-Wh?(qt&2)===0&&ds(t,0):$h|=r,cs===xt&&(cs=0)),ii(t)}function zp(t,n){n===0&&(n=Bi()),t=Xa(t,n),t!==null&&(ue(t,n),ii(t))}function YE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),zp(t,r)}function KE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),zp(t,r)}function XE(t,n){return Pr(t,n)}var Au=null,gs=null,of=!1,bu=!1,uf=!1,va=0;function ii(t){t!==gs&&t.next===null&&(gs===null?Au=gs=t:gs=gs.next=t),bu=!0,of||(of=!0,$E())}function Vl(t,n){if(!uf&&bu){uf=!0;do for(var r=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qp(l,f))}else f=xt,f=An(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ki(l,f)||(r=!0,qp(l,f));l=l.next}while(r);uf=!1}}function ZE(){kp()}function kp(){bu=of=!1;var t=0;va!==0&&(aT()&&(t=va),va=0);for(var n=en(),r=null,l=Au;l!==null;){var c=l.next,f=Bp(l,n);f===0?(l.next=null,r===null?Au=c:r.next=c,c===null&&(gs=r)):(r=l,(t!==0||(f&3)!==0)&&(bu=!0)),l=c}Vl(t)}function Bp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Xe(f),E=1<<y,S=c[y];S===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ma(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=An(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Na(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ki(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Na(l),js(r)){case 2:case 8:r=Ce;break;case 32:r=hi;break;case 268435456:r=zs;break;default:r=hi}return l=jp.bind(null,t),r=Pr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Na(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tu()&&t.callbackNode!==r)return null;var l=xt;return l=An(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bp(t,l,n),Bp(t,en()),t.callbackNode!=null&&t.callbackNode===r?jp.bind(null,t):null)}function qp(t,n){if(Tu())return null;bp(t,n,!0)}function $E(){lT(function(){(qt&6)!==0?Pr(Ee,ZE):kp()})}function cf(){return va===0&&(va=ks()),va}function Hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ln(""+t)}function Gp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Hp((c[Ue]||null).action),y=l.submitter;y&&(n=(n=y[Ue]||null)?Hp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Jr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var S=y?Gp(c,y):new FormData(c);Ih(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Gp(c,y):new FormData(c),Ih(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var hf=0;hf<Kc.length;hf++){var ff=Kc[hf],WE=ff.toLowerCase(),tT=ff[0].toUpperCase()+ff.slice(1);Bn(WE,"on"+tT)}Bn(bm,"onAnimationEnd"),Bn(Sm,"onAnimationIteration"),Bn(wm,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(yE,"onTransitionRun"),Bn(_E,"onTransitionStart"),Bn(vE,"onTransitionCancel"),Bn(Rm,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Fp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,z=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){cu(H)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,z=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){cu(H)}c.currentTarget=null,f=S}}}}function Nt(t,n){var r=n[kr];r===void 0&&(r=n[kr]=new Set);var l=t+"__bubble";r.has(l)||(Qp(n,t,2,!1),r.add(l))}function df(t,n,r){var l=0;n&&(l|=4),Qp(r,t,l,n)}var Su="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[Su]){t[Su]=!0,wo.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||df(r,!1,t),df(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Su]||(n[Su]=!0,df("selectionchange",!1,n))}}function Qp(t,n,r,l){switch(py(n)){case 2:var c=DT;break;case 8:c=IT;break;default:c=Df}r=c.bind(null,n,r,t),c=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function gf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Qn(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Xr(function(){var z=f,H=Ks(r),K=[];t:{var k=Cm.get(t);if(k!==void 0){var B=Jr,vt=t;switch(t){case"keypress":if(Zr(r)===0)break t;case"keydown":case"keyup":B=Fa;break;case"focusin":vt="focus",B=qa;break;case"focusout":vt="blur",B=qa;break;case"beforeblur":case"afterblur":B=qa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ji;break;case bm:case Sm:case wm:B=Zs;break;case Rm:B=m;break;case"scroll":case"scrollend":B=ta;break;case"wheel":B=T;break;case"copy":case"cut":case"paste":B=xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ws;break;case"toggle":case"beforetoggle":B=j}var pt=(n&4)!==0,Yt=!pt&&(t==="scroll"||t==="scrollend"),x=pt?k!==null?k+"Capture":null:k;pt=[];for(var N=z,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||x===null||(Y=Zi(N,x),Y!=null&&pt.push(Ml(N,Y,L))),Yt)break;N=N.return}0<pt.length&&(k=new B(k,vt,null,r,H),K.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==Ys&&(vt=r.relatedTarget||r.fromElement)&&(Qn(vt)||vt[di]))break t;if((B||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,B?(vt=r.relatedTarget||r.toElement,B=z,vt=vt?Qn(vt):null,vt!==null&&(Yt=h(vt),pt=vt.tag,vt!==Yt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(B=null,vt=z),B!==vt)){if(pt=ia,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Ws,Y="onPointerLeave",x="onPointerEnter",N="pointer"),Yt=B==null?k:Gi(B),L=vt==null?k:Gi(vt),k=new pt(Y,N+"leave",B,r,H),k.target=Yt,k.relatedTarget=L,Y=null,Qn(H)===z&&(pt=new pt(x,N+"enter",vt,r,H),pt.target=L,pt.relatedTarget=Yt,Y=pt),Yt=Y,B&&vt)e:{for(pt=B,x=vt,N=0,L=pt;L;L=ps(L))N++;for(L=0,Y=x;Y;Y=ps(Y))L++;for(;0<N-L;)pt=ps(pt),N--;for(;0<L-N;)x=ps(x),L--;for(;N--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=ps(pt),x=ps(x)}pt=null}else pt=null;B!==null&&Yp(K,k,B,pt,!1),vt!==null&&Yt!==null&&Yp(K,Yt,vt,pt,!0)}}t:{if(k=z?Gi(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var st=fm;else if(cm(k))if(dm)st=mE;else{st=fE;var Dt=hE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&ka(z.elementType)&&(st=fm):st=dE;if(st&&(st=st(t,z))){hm(K,st,r,H);break t}Dt&&Dt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Gs(k,"number",k.value)}switch(Dt=z?Gi(z):window,t){case"focusin":(cm(Dt)||Dt.contentEditable==="true")&&(Qa=Dt,Fc=z,rl=null);break;case"focusout":rl=Fc=Qa=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Tm(K,r,H);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Tm(K,r,H)}var ct;if(At)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else kn?Pn(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(fe&&r.locale!=="ko"&&(kn||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&kn&&(ct=No()):(wn=H,Zt="value"in wn?wn.value:wn.textContent,kn=!0)),Dt=wu(z,yt),0<Dt.length&&(yt=new Js(yt,t,null,r,H),K.push({event:yt,listeners:Dt}),ct?yt.data=ct:(ct=zn(r),ct!==null&&(yt.data=ct)))),(ct=jt?tl(t,r):oE(t,r))&&(yt=wu(z,"onBeforeInput"),0<yt.length&&(Dt=new Js("onBeforeInput","beforeinput",null,r,H),K.push({event:Dt,listeners:yt}),Dt.data=ct)),JE(K,t,z,r,H)}Fp(K,n)})}function Ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zi(t,r),c!=null&&l.unshift(Ml(t,c,f)),c=Zi(t,n),c!=null&&l.push(Ml(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,S=E.alternate,z=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||z===null||(S=z,c?(z=Zi(r,f),z!=null&&y.unshift(Ml(r,z,S))):c||(z=Zi(r,f),z!=null&&y.push(Ml(r,z,S)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Xp(t,n){return n=Kp(n),Kp(t)===n}function Ru(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Gr(t,"class",l);break;case"tabIndex":Gr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(t,r,l);break;case"style":Qs(t,l,f);break;case"data":if(n!=="object"){Gr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ln(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ln(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ln(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Hr(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Do.get(r)||r,Hr(t,r,l))}}function pf(t,n,r,l,c,f){switch(r){case"style":Qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hr(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,f,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var E=f=y=c=null,S=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":S=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Qt(t,n,l,H,r,null)}}Hs(t,f,E,S,z,y,c,!1),Yi(t);return;case"select":Nt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Ki(t,!!l,n,!1):r!=null&&Ki(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(t,n,y,E,r,null)}Co(t,l,c,f),Yi(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,S,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Nt(Nl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,z,l,r,null)}return;default:if(ka(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&pf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function rT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,z=null,H=null;for(B in r){var K=r[B];if(r.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=K;default:l.hasOwnProperty(B)||Qt(t,n,B,null,l,K)}}for(var k in l){var B=l[k];if(K=r[k],l.hasOwnProperty(k)&&(B!=null||K!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==K&&Qt(t,n,k,B,l,K)}}qs(t,y,E,S,z,H,f,c);return;case"select":B=y=E=k=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":B=S;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Qt(t,n,c,f,l,S)}n=E,r=y,l=B,k!=null?Ki(t,!!r,k,!1):!!l!=!!r&&(n!=null?Ki(t,!!r,n,!0):Ki(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}Ro(t,k,B);return;case"option":for(var vt in r)if(k=r[vt],r.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Qt(t,n,vt,null,l,k)}for(S in l)if(k=l[S],B=r[S],l.hasOwnProperty(S)&&k!==B&&(k!=null||B!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(t,n,S,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)k=r[pt],r.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Qt(t,n,pt,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Qt(t,n,z,k,l,B)}return;default:if(ka(n)){for(var Yt in r)k=r[Yt],r.hasOwnProperty(Yt)&&k!==void 0&&!l.hasOwnProperty(Yt)&&pf(t,n,Yt,void 0,l,k);for(H in l)k=l[H],B=r[H],!l.hasOwnProperty(H)||k===B||k===void 0&&B===void 0||pf(t,n,H,k,l,B);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,k);for(K in l)k=l[K],B=r[K],!l.hasOwnProperty(K)||k===B||k==null&&B==null||Qt(t,n,K,k,l,B)}var yf=null,_f=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ef=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===Ef?!1:(Ef=t,!0):(Ef=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch(oT)}:Jp;function oT(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function ty(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ol(y.documentElement),r&2&&Ol(y.body),r&4)for(r=y.head,Ol(r),y=r.firstChild;y;){var E=y.nextSibling,S=y.nodeName;y[Hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Tf(r),xa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function cT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function Af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bf=null;function ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ny(t,n,r){switch(n=Cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xa(t)}var Mn=new Map,iy=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=G.d;G.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Ni.f(),n=vu();return t||n}function dT(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ni.r(t)}var ys=typeof document>"u"?null:document;function ry(t,n,r){var l=ys;if(l&&typeof n=="string"&&n){var c=De(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),iy.has(c)||(iy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),he(n),l.head.appendChild(n)))}}function mT(t){Ni.D(t),ry("dns-prefetch",t,null)}function gT(t,n){Ni.C(t,n),ry("preconnect",t,n)}function pT(t,n,r){Ni.L(t,n,r);var l=ys;if(l&&t&&n){var c='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+De(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+De(r.imageSizes)+'"]')):c+='[href="'+De(t)+'"]';var f=c;switch(n){case"style":f=_s(t);break;case"script":f=vs(t)}Mn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),ze(n,"link",t),he(n),l.head.appendChild(n)))}}function yT(t,n){Ni.m(t,n);var r=ys;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vs(t)}if(!Mn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),ze(l,"link",t),he(l),r.head.appendChild(l)}}}function _T(t,n,r){Ni.S(t,n,r);var l=ys;if(l&&t){var c=Fi(l).hoistableStyles,f=_s(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&Sf(t,r);var S=y=l.createElement("link");he(S),ze(S,"link",t),S._p=new Promise(function(z,H){S.onload=z,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function vT(t,n){Ni.X(t,n);var r=ys;if(r&&t){var l=Fi(r).hoistableScripts,c=vs(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0},n),(n=Mn.get(c))&&wf(t,n),f=r.createElement("script"),he(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ET(t,n){Ni.M(t,n);var r=ys;if(r&&t){var l=Fi(r).hoistableScripts,c=vs(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&wf(t,n),f=r.createElement("script"),he(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ay(t,n,r,l){var c=(c=ht.current)?Du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=_s(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=_s(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||TT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _s(t){return'href="'+De(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),he(n),t.head.appendChild(n))}function vs(t){return'[src="'+De(t)+'"]'}function Ul(t){return"script[async]"+t}function ly(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+De(r.href)+'"]');if(l)return n.instance=l,he(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),ze(l,"style",c),Iu(l,r.precedence,t),n.instance=l;case"stylesheet":c=_s(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=sy(r),(c=Mn.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),ze(f,"link",l),n.state.loading|=4,Iu(f,r.precedence,t),n.instance=f;case"script":return f=vs(r.src),(c=t.querySelector(Ul(f)))?(n.instance=c,he(c),c):(l=r,(c=Mn.get(f))&&(l=A({},r),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,r.precedence,t));return n.instance}function Iu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function oy(t,n,r){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(r,l)}else c=Vu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Hi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function uy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function bT(){}function ST(t,n,r){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=_s(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,r=sy(r),(c=Mn.get(c))&&Sf(r,c),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Nu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function wT(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Rf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(RT,t),Mu=null,Nu.call(t))}function RT(t,n){if(!(n.state.loading&4)){var r=Mu.get(t);if(r)var l=r.get(null);else{r=new Map,Mu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Nu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function CT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function hy(t,n,r,l,c,f,y,E,S,z,H,K){return t=new CT(t,n,r,y,E,S,z,K),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=sh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ch(f),t}function fy(t){return t?(t=Za,t):Za}function dy(t,n,r,l,c,f){c=fy(c),l.context===null?l.context=c:l.pendingContext=c,l=er(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=nr(t,l,n),r!==null&&(pn(r,t,n),dl(r,t,n))}function my(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cf(t,n){my(t,n),(t=t.alternate)&&my(t,n)}function gy(t){if(t.tag===13){var n=Xa(t,67108864);n!==null&&pn(n,t,67108864),Cf(t,67108864)}}var Ou=!0;function DT(t,n,r,l){var c=q.T;q.T=null;var f=G.p;try{G.p=2,Df(t,n,r,l)}finally{G.p=f,q.T=c}}function IT(t,n,r,l){var c=q.T;q.T=null;var f=G.p;try{G.p=8,Df(t,n,r,l)}finally{G.p=f,q.T=c}}function Df(t,n,r,l){if(Ou){var c=If(l);if(c===null)gf(t,n,l,xu,r),yy(t,l);else if(NT(c,t,n,r,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<VT.indexOf(t)){for(;c!==null;){var f=Yn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Xe(y);E.entanglements[1]|=S,y&=~S}ii(f),(qt&6)===0&&(yu=en()+500,Vl(0))}}break;case 13:E=Xa(f,2),E!==null&&pn(E,f,2),vu(),Cf(f,2)}if(f=If(l),f===null&&gf(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else gf(t,n,l,null,r)}}function If(t){return t=Ks(t),Vf(t)}var xu=null;function Vf(t){if(xu=null,t=Qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case Ee:return 2;case Ce:return 8;case hi:case xc:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Nf=!1,gr=null,pr=null,yr=null,zl=new Map,kl=new Map,_r=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Yn(n),n!==null&&gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,r,l,c){switch(n){case"focusin":return gr=Bl(gr,t,n,r,l,c),!0;case"dragenter":return pr=Bl(pr,t,n,r,l,c),!0;case"mouseover":return yr=Bl(yr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Bl(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function _y(t){var n=Qn(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Pc(t.priority,function(){if(r.tag===13){var l=gn();l=Bs(l);var c=Xa(r,l);c!==null&&pn(c,r,l),Cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=If(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ys=l,r.target.dispatchEvent(l),Ys=null}else return n=Yn(r),n!==null&&gy(n),t.blockedOn=r,!1;n.shift()}return!0}function vy(t,n,r){Uu(t)&&r.delete(n)}function MT(){Nf=!1,gr!==null&&Uu(gr)&&(gr=null),pr!==null&&Uu(pr)&&(pr=null),yr!==null&&Uu(yr)&&(yr=null),zl.forEach(vy),kl.forEach(vy)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,MT)))}var Pu=null;function Ey(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||r)===null)continue;break}var f=Yn(r);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(S){return Lu(S,t)}gr!==null&&Lu(gr,t),pr!==null&&Lu(pr,t),yr!==null&&Lu(yr,t),zl.forEach(n),kl.forEach(n);for(var r=0;r<_r.length;r++){var l=_r[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)_y(r),r.blockedOn===null&&_r.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[Ue]||null;if(typeof f=="function")y||Ey(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Ue]||null)E=y.formAction;else if(Vf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ey(r)}}}function Mf(t){this._internalRoot=t}zu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=gn();dy(r,l,t,n,null,null)},zu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;dy(t.current,2,null,t,null,null),vu(),n[di]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<_r.length&&n!==0&&n<_r[r].priority;r++);_r.splice(r,0,t),r===0&&_y(t)}};var Ty=e.version;if(Ty!=="19.1.1")throw Error(s(527,Ty,"19.1.1"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Pi=ku.inject(OT),qe=ku}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Pg,f=zg,y=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=hy(t,1,!1,null,null,r,l,c,f,y,E,null),t[di]=n.current,mf(t),new Mf(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Pg,y=zg,E=kg,S=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=hy(t,1,!0,n,r??null,l,c,f,y,E,S,z),n.context=fy(null),r=n.current,l=gn(),l=Bs(l),c=er(l),c.callback=null,nr(r,c,l),r=l,n.current.lanes=r,ue(n,r),ii(n),t[di]=n.current,mf(t),new zu(n)},Hl.version="19.1.1",Hl}var Ny;function HT(){if(Ny)return Uf.exports;Ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Uf.exports=qT(),Uf.exports}var GT=HT();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),My=a=>{const e=QT(a);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),YT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Me.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...g},v)=>Me.createElement("svg",{ref:v,...KT,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:W_("lucide",o),...!h&&!YT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Me.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=(a,e)=>{const i=Me.forwardRef(({className:s,...o},h)=>Me.createElement(XT,{ref:h,iconNode:e,className:W_(`lucide-${FT(My(a))}`,`lucide-${a}`,s),...o}));return i.displayName=My(a),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$T=fo("plus",ZT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WT=fo("refresh-cw",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],e1=fo("rotate-cw",t1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Oy=fo("share-2",n1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r1=fo("trash-2",i1),a1=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},s1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let M=(g&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),s.push(i[A],i[D],i[M],i[Q])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(tv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):s1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const D=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||D==null)throw new l1;const M=h<<2|g>>4;if(s.push(M),_!==64){const Q=g<<4&240|_>>2;if(s.push(Q),D!==64){const tt=_<<6&192|D;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(a){const e=tv(a);return ev.encodeByteArray(e,!0)},$u=function(a){return o1(a).replace(/\./g,"")},u1=function(a){try{return ev.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof xy>"u")return;const a=xy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},d1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&u1(a[1]);return e&&JSON.parse(e)},vd=()=>{try{return a1()||h1()||f1()||d1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},m1=a=>vd()?.emulatorHosts?.[a],g1=a=>{const e=m1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},nv=()=>vd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Kl={};function v1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?a.emulator.push(e):a.prod.push(e);return a}function E1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Uy=!1;function T1(a,e){if(typeof window>"u"||typeof document>"u"||!Ed(window.location.host)||Kl[a]===e||Kl[a]||Uy)return;Kl[a]=e;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",h=v1().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Uy=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function D(){const M=E1(s),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),St=i("preprendIcon"),Tt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;g(gt),A(W,rt);const wt=_();v(Tt,St),gt.append(Tt,tt,W,wt),document.body.appendChild(gt)}h?(tt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){const a=vd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function w1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iv(){try{return typeof indexedDB=="object"}catch{return!1}}function rv(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function R1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="FirebaseError";class Or extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=C1,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?D1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Or(o,g,s)}}function D1(a,e){return a.replace(I1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const I1=/\{\$([^}]+)}/g;function eo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Ly(h)&&Ly(d)){if(!eo(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1e3,N1=2,M1=14400*1e3,O1=.5;function Py(a,e=V1,i=N1){const s=e*Math.pow(i,a),o=Math.round(O1*s*(Math.random()-.5)*2);return Math.min(M1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(a){return a&&a._delegate?a._delegate:a}class Mi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new p1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L1(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(a){return a===Ea?void 0:a}function L1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new x1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const z1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},k1=Lt.INFO,B1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},j1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=B1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const q1=(a,e)=>e.some(i=>a instanceof i);let zy,ky;function H1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const av=new WeakMap,Zf=new WeakMap,sv=new WeakMap,kf=new WeakMap,Ad=new WeakMap;function F1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Tr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&av.set(i,a)}).catch(()=>{}),Ad.set(e,a),e}function Q1(a){if(Zf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Zf.set(a,e)}let $f={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Zf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||sv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Y1(a){$f=a($f)}function K1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Bf(this),e,...i);return sv.set(s,e.sort?e.sort():[e]),Tr(s)}:G1().includes(a)?function(...e){return a.apply(Bf(this),e),Tr(av.get(this))}:function(...e){return Tr(a.apply(Bf(this),e))}}function X1(a){return typeof a=="function"?K1(a):(a instanceof IDBTransaction&&Q1(a),q1(a,H1())?new Proxy(a,$f):a)}function Tr(a){if(a instanceof IDBRequest)return F1(a);if(kf.has(a))return kf.get(a);const e=X1(a);return e!==a&&(kf.set(a,e),Ad.set(e,a)),e}const Bf=a=>Ad.get(a);function lv(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=Tr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Tr(d.result),v.oldVersion,v.newVersion,Tr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Z1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],jf=new Map;function By(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=$1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Z1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return jf.set(e,h),h}Y1(a=>({...a,get:(e,i,s)=>By(e,i)||a.get(e,i,s),has:(e,i)=>!!By(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(W1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function W1(a){return a.getComponent()?.type==="VERSION"}const Jf="@firebase/app",jy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Td("@firebase/app"),tA="@firebase/app-compat",eA="@firebase/analytics-compat",nA="@firebase/analytics",iA="@firebase/app-check-compat",rA="@firebase/app-check",aA="@firebase/auth",sA="@firebase/auth-compat",lA="@firebase/database",oA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",fA="@firebase/installations",dA="@firebase/installations-compat",mA="@firebase/messaging",gA="@firebase/messaging-compat",pA="@firebase/performance",yA="@firebase/performance-compat",_A="@firebase/remote-config",vA="@firebase/remote-config-compat",EA="@firebase/storage",TA="@firebase/storage-compat",AA="@firebase/firestore",bA="@firebase/ai",SA="@firebase/firestore-compat",wA="firebase",RA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",CA={[Jf]:"fire-core",[tA]:"fire-core-compat",[nA]:"fire-analytics",[eA]:"fire-analytics-compat",[rA]:"fire-app-check",[iA]:"fire-app-check-compat",[aA]:"fire-auth",[sA]:"fire-auth-compat",[lA]:"fire-rtdb",[oA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[fA]:"fire-iid",[dA]:"fire-iid-compat",[mA]:"fire-fcm",[gA]:"fire-fcm-compat",[pA]:"fire-perf",[yA]:"fire-perf-compat",[_A]:"fire-rc",[vA]:"fire-rc-compat",[EA]:"fire-gcs",[TA]:"fire-gcs-compat",[AA]:"fire-fst",[SA]:"fire-fst-compat",[bA]:"fire-vertex","fire-js":"fire-js",[wA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,DA=new Map,td=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Rr(a){const e=a.name;if(td.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,a);for(const i of Ju.values())qy(i,a);for(const i of DA.values())qy(i,a);return!0}function mo(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function IA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new mc("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=RA;function ov(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Wf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(i||(i=nv()),!i)throw Ar.create("no-options");const h=Ju.get(o);if(h){if(eo(i,h.options)&&eo(s,h.config))return h;throw Ar.create("duplicate-app",{appName:o})}const d=new P1(o);for(const v of td.values())d.addComponent(v);const g=new NA(i,s,d);return Ju.set(o,g),g}function uv(a=Wf){const e=Ju.get(a);if(!e&&a===Wf&&nv())return ov();if(!e)throw Ar.create("no-app",{appName:a});return e}function ai(a,e,i){let s=CA[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}Rr(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-heartbeat-database",xA=1,no="firebase-heartbeat-store";let qf=null;function cv(){return qf||(qf=lv(OA,xA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ar.create("idb-open",{originalErrorMessage:a.message})})),qf}async function UA(a){try{const i=(await cv()).transaction(no),s=await i.objectStore(no).get(hv(a));return await i.done,s}catch(e){if(e instanceof Or)Oi.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(i.message)}}}async function Hy(a,e){try{const s=(await cv()).transaction(no,"readwrite");await s.objectStore(no).put(e,hv(a)),await s.done}catch(i){if(i instanceof Or)Oi.warn(i.message);else{const s=Ar.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(s.message)}}}function hv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1024,PA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>PA){const o=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gy(),{heartbeatsToSend:i,unsentEntries:s}=kA(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Oi.warn(e),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function kA(a,e=LA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Fy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iv()?rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fy(a){return $u(JSON.stringify({version:2,heartbeats:a})).length}function jA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(a){Rr(new Mi("platform-logger",e=>new J1(e),"PRIVATE")),Rr(new Mi("heartbeat",e=>new zA(e),"PRIVATE")),ai(Jf,jy,a),ai(Jf,jy,"esm2020"),ai("fire-js","")}qA("");var HA="firebase",GA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(HA,GA,"app");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,fv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(O,V,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return b.prototype[V].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const O=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)O[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],V=I.g[2];let U=I.g[3],R;R=b+(U^C&(V^U))+O[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+O[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+O[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+O[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+O[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+O[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+O[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+O[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+O[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+O[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+O[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+O[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+O[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+O[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+O[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+O[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(V^U&(C^V))+O[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+O[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+O[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+O[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+O[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+O[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+O[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+O[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+O[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+O[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+O[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+O[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+O[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+O[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+O[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+O[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(C^V^U)+O[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+O[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+O[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+O[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+O[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+O[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+O[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+O[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+O[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+O[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+O[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+O[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+O[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+O[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+O[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+O[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(V^(C|~U))+O[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+O[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+O[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+O[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+O[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+O[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+O[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+O[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+O[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+O[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+O[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+O[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+O[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+O[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+O[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(O[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<b;)if(O[V++]=I[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)I[b++]=this.g[C]>>>O&255;return I};function h(I,b){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let O=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;O&&U==b||(C[V]=U,O=!1)}this.g=C}var g={};function v(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return D;if(I<0)return W(_(-I));const b=[];let C=1;for(let O=0;I>=C;O++)b[O]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return W(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let O=D;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+V),b);V<8?(V=_(Math.pow(b,V)),O=O.j(V).add(_(R))):(O=O.j(C),O=O.add(_(R)))}return O}var D=v(0),M=v(1),Q=v(16777216);a=d.prototype,a.m=function(){if(rt(this))return-W(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);I+=(O>=0?O:4294967296+O)*b,b*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(rt(this))return"-"+W(this).toString(I);const b=_(Math.pow(I,6));var C=this;let O="";for(;;){const V=wt(C,b).g;C=St(C,V.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,tt(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function rt(I){return I.h==-1}a.l=function(I){return I=St(this,I),rt(I)?-1:tt(I)?0:1};function W(I){const b=I.g.length,C=[];for(let O=0;O<b;O++)C[O]=~I.g[O];return new d(C,~I.h).add(M)}a.abs=function(){return rt(this)?W(this):this},a.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let O=0;for(let V=0;V<=b;V++){let U=O+(this.i(V)&65535)+(I.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=R>>>16,U&=65535,R&=65535,C[V]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function St(I,b){return I.add(W(b))}a.j=function(I){if(tt(this)||tt(I))return D;if(rt(this))return rt(I)?W(this).j(W(I)):W(W(this).j(I));if(rt(I))return W(this.j(W(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const U=this.i(O)>>>16,R=this.i(O)&65535,ee=I.i(V)>>>16,Xt=I.i(V)&65535;C[2*O+2*V]+=R*Xt,Tt(C,2*O+2*V),C[2*O+2*V+1]+=U*Xt,Tt(C,2*O+2*V+1),C[2*O+2*V+1]+=R*ee,Tt(C,2*O+2*V+1),C[2*O+2*V+2]+=U*ee,Tt(C,2*O+2*V+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function Tt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function gt(I,b){this.g=I,this.h=b}function wt(I,b){if(tt(b))throw Error("division by zero");if(tt(I))return new gt(D,D);if(rt(I))return b=wt(W(I),b),new gt(W(b.g),W(b.h));if(rt(b))return b=wt(I,W(b)),new gt(W(b.g),b.h);if(I.g.length>30){if(rt(I)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,O=b;O.l(I)<=0;)C=ft(C),O=ft(O);var V=It(C,1),U=It(O,1);for(O=It(O,2),C=It(C,2);!tt(O);){var R=U.add(O);R.l(I)<=0&&(V=V.add(C),U=R),O=It(O,1),C=It(C,1)}return b=St(I,V.j(b)),new gt(V,b)}for(V=D;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(C),R=U.j(b);rt(R)||R.l(I)>0;)C-=O,U=_(C),R=U.j(b);tt(U)&&(U=M),V=V.add(U),I=St(I,R)}return new gt(V,I)}a.B=function(I){return wt(this,I).h},a.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)&I.i(O);return new d(C,this.h&I.h)},a.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)|I.i(O);return new d(C,this.h|I.h)},a.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)^I.i(O);return new d(C,this.h^I.h)};function ft(I){const b=I.g.length+1,C=[];for(let O=0;O<b;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(C,I.h)}function It(I,b){const C=b>>5;b%=32;const O=I.g.length-C,V=[];for(let U=0;U<O;U++)V[U]=b>0?I.i(U+C)>>>b|I.i(U+C+1)<<32-b:I.i(U+C);return new d(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,fv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,br=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dv,Gl,mv,Fu,ed,gv,pv,yv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function D(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,P,j){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[P].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var p=typeof P;if(p=p!="object"?p:P?Array.isArray(P)?"array":p:"null",p=="array"||p=="object"&&typeof P.length=="number"){p=u.length||0;const j=P.length||0;u.length=p+j;for(let et=0;et<j;et++)u[p+et]=P[et]}else u.push(P)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function St(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const T=gt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new rt(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,It=!1,I=new Tt,b=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(C)}};function C(){for(var u;u=St();){try{u.h.call(u.g)}catch(p){W(p)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}D(ee,V),ee.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),q=0;function G(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++q,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function w(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function F(u){const m={};for(const p in u)m[p]=u[p];return m}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let j=0;j<it.length;j++)p=it[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,p,T,P){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const et=ht(u,m,T,P);return et>-1?(m=u[et],p||(m.fa=!1)):(m=new G(m,this.src,j,!!T,P),m.fa=p,u.push(m)),m};function bt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(T,P,1),j&&(J(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ht(u,m,p,T){for(let P=0;P<u.length;++P){const j=u[P];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return P}return-1}var se="closure_lm_"+(Math.random()*1e6|0),zt={};function Ke(u,m,p,T,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Ke(u,m[j],p,T,P);return null}return p=To(p),u&&u[Xt]?u.J(m,p,g(T)?!!T.capture:!1,P):Lr(u,m,p,!1,T,P)}function Lr(u,m,p,T,P,j){if(!m)throw Error("Invalid event type");const et=g(P)?!!P.capture:!!P;let At=Ps(u);if(At||(u[se]=At=new ot(u)),p=At.add(m,p,T,et,j),p.proxy)return p;if(T=Li(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Na(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Li(){function u(p){return m.call(u.src,u.listener,p)}const m=Oc;return u}function Va(u,m,p,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)Va(u,m[j],p,T,P);else T=g(T)?!!T.capture:!!T,p=To(p),u&&u[Xt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],p=ht(m,p,T,P),p>-1&&(J(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,p,T,P)),(p=u>-1?m[u]:null)&&Pr(p))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Xt])bt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Na(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ps(m))?(bt(p,u),p.h==0&&(p.src=null,m[se]=null)):J(u)}}}function Na(u){return u in zt?zt[u]:zt[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new ee(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Pr(u),u=p.call(T,m)}return u}function Ps(u){return u=u[se],u instanceof ot?u:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[en]||(u[en]=function(m){return u.handleEvent(m)}),u[en])}function Ee(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}D(Ee,O),Ee.prototype[Xt]=!0,Ee.prototype.removeEventListener=function(u,m,p,T){Va(this,u,m,p,T)};function Ce(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(T,u),nt(m,P)}P=!0;let j,et;if(p)for(et=p.length-1;et>=0;et--)j=m.g=p[et],P=hi(j,T,!0,m)&&P;if(j=m.g=u,P=hi(j,T,!0,m)&&P,P=hi(j,T,!1,m)&&P,p)for(et=0;et<p.length;et++)j=m.g=p[et],P=hi(j,T,!1,m)&&P}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)J(p[T]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Ee.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const et=m[j];if(et&&!et.da&&et.capture==p){const At=et.listener,Jt=et.ha||et.src;et.fa&&bt(u.i,et),P=At.call(Jt,T)!==!1&&P}}return P&&!T.defaultPrevented}function xc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zs(u){u.g=xc(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){O.call(this),this.h=u,this.g={}}D(zr,O);var Pi=[];function qe(u){ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&Pr(m)},u),u.g={}}zr.prototype.N=function(){zr.Z.N.call(this),qe(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=d.JSON.stringify,Xe=d.JSON.parse,Lc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function bo(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){V.call(this,"d")}D(zi,V);function On(){V.call(this,"c")}D(On,V);var An={},ki=null;function Ma(){return ki=ki||new Ee}An.Ia="serverreachability";function ks(u){V.call(this,An.Ia,u)}D(ks,V);function Bi(u){const m=Ma();Ce(m,new ks(m))}An.STAT_EVENT="statevent";function Oa(u,m){V.call(this,An.STAT_EVENT,u),this.stat=m}D(Oa,V);function ue(u){const m=Ma();Ce(m,new Oa(m,u))}An.Ja="timingevent";function So(u,m){V.call(this,An.Ja,u),this.size=m}D(So,V);function ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qi(){this.g=!0}qi.prototype.ua=function(){this.g=!1};function Bs(u,m,p,T,P,j){u.info(function(){if(u.g)if(j){var et="",At=j.split("&");for(let jt=0;jt<At.length;jt++){var Jt=At[jt].split("=");if(Jt.length>1){const fe=Jt[0];Jt=Jt[1];const un=fe.split("_");et=un.length>=2&&un[1]=="type"?et+(fe+"="+Jt+"&"):et+(fe+"=redacted&")}}}else et=null;else et=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+et})}function js(u,m,p,T,P,j,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+j+" "+et})}function fi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fn(u,p)+(T?" "+T:"")})}function Pc(u,m){u.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function Fn(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var p=j[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Tn(j)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},di;function kr(){}D(kr,Ao),kr.prototype.g=function(){return new XMLHttpRequest},di=new kr;function Br(u){return encodeURIComponent(String(u))}function zc(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function xn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var xa={},Qn={};function Yn(u,m,p){u.M=1,u.A=gi(ie(m)),u.u=p,u.R=!0,Gi(u,null)}function Gi(u,m){u.F=Date.now(),jr(u),u.B=ie(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Do(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Hi,u.g=Ga(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Uc(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Pi[0]=P.toString()),P=Pi);for(let j=0;j<P.length;j++){const et=Ke(p,P[j],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?F(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Bi(),Bs(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&He(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const At=He(this.g),Jt=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Jr(this.g)))){this.K||At!=4||Jt==7||(Jt==8||jt<=0?Bi(3):Bi(2)),Xn(this);var m=this.g.ca();this.X=m;var p=Fi(this);if(this.o=m==200,js(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var j=T;break e}}j=null}if(u=j)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ua(this,u);else{this.o=!1,this.m=3,ue(12),Zn(this),qr(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<p.length;)if(fe=wo(this,p),fe==Qn){At==4&&(this.m=4,ue(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==xa){this.m=4,ue(15),fi(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),Ua(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,p,"[Invalid Chunked Response]"),Zn(this),qr(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),$s(et),et.P=!0,ue(11))}}else fi(this.i,this.l,p,null),Ua(this,p);At==4&&Zn(this),this.o&&!this.K&&(At==4?Js(this.j,this):(this.o=!1,jr(this)))}else Wr(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Zn(this),qr(this)}}}catch{}finally{}};function Fi(u){if(!he(u))return u.g.la();const m=Jr(u.g);if(m==="")return"";let p="";const T=m.length,P=He(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Zn(u),qr(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,p+=u.h.i.decode(m[j],{stream:!(P&&j==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Qn:(p=Number(m.substring(p,T)),isNaN(p)?xa:(T+=1,T+p>m.length?Qn:(m=m.slice(T,T+p),u.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,Zn(this)};function jr(u){u.T=Date.now()+u.H,Kn(u,u.H)}function Kn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ji(_(u.aa,u),m)}function Xn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Pc(this.i,this.B),this.M!=2&&(Bi(),ue(17)),Zn(this),this.m=2,qr(this)):Kn(this,this.T-u)};function qr(u){u.j.I==0||u.K||Js(u.j,u)}function Zn(u){Xn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ua(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||Fr(p.h,u))){if(!u.L&&Fr(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ha(p),$n(p);else break t;Zs(p),ue(18)}}else p.xa=P[1],0<p.xa-p.K&&P[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ji(_(p.Va,p),6e3));bn(p.h)<=1&&p.ta&&(p.ta=void 0)}else _i(p,11)}else if((u.L||p.g==u)&&Ha(p),!R(m))for(P=p.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const fe=jt[0];if(!(fe<=p.K))if(p.K=fe,jt=jt[1],p.I==2)if(jt[0]=="c"){p.M=jt[1],p.ba=jt[2];const un=jt[3];un!=null&&(p.ka=un,p.j.info("VER="+p.ka));const Jn=jt[4];Jn!=null&&(p.za=Jn,p.j.info("SVER="+p.za));const Pn=jt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const zn=u.g;if(zn){const kn=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kn){var j=T.h;j.g||kn.indexOf("spdy")==-1&&kn.indexOf("quic")==-1&&kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(La(j,j.h),j.h=null))}if(T.G){const tl=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.wa=tl,Gt(T.J,T.G,tl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=u;if(T.na=Po(T,T.L?T.ba:null,T.W),et.L){mi(T.h,et);var At=et,Jt=T.O;Jt&&(At.H=Jt),At.D&&(Xn(At),jr(At)),T.g=et}else Oo(T);p.i.length>0&&ia(p)}else jt[0]!="stop"&&jt[0]!="close"||_i(p,7);else p.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?_i(p,7):ea(p):jt[0]!="noop"&&p.l&&p.l.qa(jt),p.A=0)}}Bi(4)}catch{}}var kc=class{constructor(u,m){this.g=u,this.map=m}};function Hr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bn(u){return u.h?1:u.g?u.g.size:0}function Fr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function La(u,m){u.g?u.g.add(m):u.h=m}function mi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Hr.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Q(u.i)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let P,j=null;T>=0?(P=u[p].substring(0,T),j=u[p].substring(T+1)):P=u[p],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Qi(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.u),this.h=u.h,Yi(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(za))?(this.l=!1,Qi(this,m[1]||"",!0),this.o=Yr(m[2]||""),this.g=Yr(m[3]||"",!0),Qr(this,m[4]),this.h=Yr(m[5]||"",!0),Yi(this,m[6]||"",!0),this.m=Yr(m[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(De(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(De(m,Hs,!0),"@"),u.push(Br(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(De(p,p.charAt(0)=="/"?Ki:Gs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",De(p,Co)),u.join("")},Un.prototype.resolve=function(u){const m=ie(this);let p=!!u.j;p?Qi(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Qr(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let et=0;et<P.length;){const At=P[et++];At=="."?T&&et==P.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&et==P.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=P}return p?m.h=T:p=u.i.toString()!=="",p?Yi(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ie(u){return new Un(u)}function Qi(u,m,p){u.j=p?Yr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yi(u,m,p){m instanceof Sn?(u.i=m,Ys(u.i,u.l)):(p||(m=De(m,Ro)),u.i=new Sn(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function gi(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Yr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function De(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,qs),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qs(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Ki=/[#\?]/g,Ro=/[#\?@]/g,Co=/#/g;function Sn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Sn.prototype,a.add=function(u,m){pi(this),this.i=null,u=Ln(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Fs(u,m){pi(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qs(u,m){return pi(u),m=Ln(u,m),u.g.has(m)}a.forEach=function(u,m){pi(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)};function ka(u,m){pi(u);let p=[];if(typeof m=="string")Qs(u,m)&&(p=p.concat(u.g.get(Ln(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return pi(this),this.i=null,u=Ln(this,u),Qs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=ka(this,u),u.length>0?String(u[0]):m):m};function Do(u,m,p){Fs(u,m),p.length>0&&(u.i=null,u.g.set(Ln(u,m),Q(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const P=Br(p);p=ka(this,p);for(let j=0;j<p.length;j++){let et=P;p[j]!==""&&(et+="="+Br(p[j])),u.push(et)}}return this.i=u.join("&")};function Io(u){const m=new Sn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ys(u,m){m&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(p,T){const P=T.toLowerCase();T!=P&&(Fs(this,T),Do(this,P,p))},u)),u.j=m}function Ks(u,m){const p=new qi;if(d.Image){const T=new Image;T.onload=A(Ze,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Ze,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Ze,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Ze,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xi(u,m){const p=new qi,T=new AbortController,P=setTimeout(()=>{T.abort(),Ze(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?Ze(p,"TestPingServer: ok",!0,m):Ze(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ze(p,"TestPingServer: error",!1,m)})}function Ze(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function Vo(){this.g=new Lc}function Kr(u){this.i=u.Sb||null,this.h=u.ab||!1}D(Kr,Ao),Kr.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(Xr,Ee),a=Xr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$e(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$e(this):yi(this),this.readyState==3&&Zi(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,$e(this))},a.Na=function(u){this.g&&(this.response=u,$e(this))},a.ga=function(){this.g&&$e(this)};function $e(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let m="";return ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function wn(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=$i(p),typeof u=="string"?p!=null&&Br(p):Gt(u,m,p))}function Zt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(Zt,Ee);var Ba=/^https?$/i,No=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():di.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Zr(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,et]of p)this.g.setRequestHeader(j,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Zr(this,j)}};function Zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,$r(u),Te(u)}function $r(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Te(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Te(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},a.Xa=function(){Xs(this)};function Xs(u){if(u.h&&typeof h<"u"){if(u.v&&He(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),He(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=j===0){let et=String(u.D).match(za)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Ba.test(et?et.toLowerCase():"")}p=T}if(p)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=He(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",$r(u)}}finally{Te(u)}}}}function Te(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ce(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function He(u){return u.g?u.g.readyState:0}a.ca=function(){try{return He(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xe(m)}};function Jr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wr(u){const m={};u=(u.g&&He(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=zc(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[P]||[];m[P]=j,j.push(p)}w(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ja(u){this.za=0,this.i=[],this.j=new qi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ta("baseRetryDelayMs",5e3,u),this.Za=ta("retryDelaySeedMs",1e4,u),this.Ta=ta("forwardChannelMaxRetries",2,u),this.va=ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Ba=new Vo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ja.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,T){ue(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Po(this,null,this.W),ia(this)};function ea(u){if(na(u),u.I==3){var m=u.V++,p=ie(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),ra(u,p),m=new xn(u,u.j,m),m.M=2,m.A=gi(ie(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Ga(m.j,null),m.g.ea(m.A)),m.F=Date.now(),jr(m)}Lo(u)}function $n(u){u.g&&($s(u),u.g.cancel(),u.g=null)}function na(u){$n(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ia(u){if(!Gr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||b(),It||(ft(),It=!0),I.add(m,u),u.D=0}}function jc(u,m){return bn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ji(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new xn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=F(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=qa(this,P,m),p=ie(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),ra(this,p),j&&(this.R?m="headers="+Br($i(j))+"&"+m:this.u&&wn(p,this.u,j)),La(this.h,P),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),P.U=!0,Yn(P,p,null)):Yn(P,p,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||Gr(this.h)||Mo(this))};function Mo(u,m){var p;m?p=m.l:p=u.V++;const T=ie(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),ra(u,T),u.u&&u.o&&wn(T,u.u,u.o),p=new xn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=qa(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),La(u.h,p),Yn(p,T,m)}function ra(u,m){u.H&&ut(u.H,function(p,T){Gt(m,T,p)}),u.l&&ut({},function(p,T){Gt(m,T,p)})}function qa(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const Jt=["count="+p];At==-1?p>0?(At=P[0].g,Jt.push("ofs="+At)):At=0:Jt.push("ofs="+At);let jt=!0;for(let fe=0;fe<p;fe++){var j=P[fe].g;const un=P[fe].map;if(j-=At,j<0)At=Math.max(0,P[fe].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var et=un instanceof Map?un:Object.entries(un);for(const[Jn,Pn]of et){let zn=Pn;g(Pn)&&(zn=Tn(Pn)),Jt.push(j+Jn+"="+encodeURIComponent(zn))}}catch(Jn){throw Jt.push(j+"type="+encodeURIComponent("_badmap")),Jn}}catch{T&&T(un)}}if(jt){et=Jt.join("&");break t}}et=void 0}return u=u.i.splice(0,p),m.G=u,et}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||b(),It||(ft(),It=!0),I.add(m,u),u.A=0}}function Zs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ji(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ji(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),$n(this),xo(this))};function $s(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function xo(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ra(u,m),u.u&&u.o&&wn(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=gi(ie(m)),p.u=null,p.R=!0,Gi(p,u)}a.Va=function(){this.C!=null&&(this.C=null,$n(this),Zs(this),ue(19))};function Ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Js(u,m){var p=null;if(u.g==m){Ha(u),$s(u),u.g=null;var T=2}else if(Fr(u.h,m))p=m.G,mi(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Ma(),Ce(T,new So(T,p)),ia(u)}else Oo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&jc(u,m)||T==2&&Zs(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const P=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qi(T,"https"),gi(T),P?Ks(T.toString(),p):Xi(T.toString(),p)}else ue(2);u.I=0,u.l&&u.l.pa(m),Lo(u),na(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Pa(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Po(u,m,p){var T=p instanceof Un?ie(p):new Un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new Un(null);T&&Qi(j,T),m&&(j.g=m),P&&Qr(j,P),p&&(j.h=p),T=j}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),ra(u,T),T}function Ga(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Kr({ab:p})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}a=zo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Fa(){}Fa.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){Ee.call(this),this.g=new ja(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}D(Je,Ee),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ea(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Tn(u),u=p);m.i.push(new kc(m.Ya++,u)),m.I==3&&ia(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,Je.Z.N.call(this)};function Ws(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(Ws,zi);function ko(){On.call(this),this.status=1}D(ko,On);function Ji(u){this.g=u}D(Ji,zo),Ji.prototype.ra=function(){Ce(this.g,"a")},Ji.prototype.qa=function(u){Ce(this.g,new Ws(u))},Ji.prototype.pa=function(u){Ce(this.g,new ko)},Ji.prototype.oa=function(){Ce(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,yv=function(){return new Fa},pv=function(){return Ma()},gv=An,ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Fu=ce,Ue.COMPLETE="complete",mv=Ue,bo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Gl=bo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,dv=Zt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Ky="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Td("@firebase/firestore");function Es(){return Sa.logLevel}function at(a,...e){if(Sa.logLevel<=Lt.DEBUG){const i=e.map(bd);Sa.debug(`Firestore (${Os}): ${a}`,...i)}}function xi(a,...e){if(Sa.logLevel<=Lt.ERROR){const i=e.map(bd);Sa.error(`Firestore (${Os}): ${a}`,...i)}}function Cs(a,...e){if(Sa.logLevel<=Lt.WARN){const i=e.map(bd);Sa.warn(`Firestore (${Os}): ${a}`,...i)}}function bd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,_v(a,s,i)}function _v(a,e,i){let s=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw xi(s),new Error(s)}function Pt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||_v(e,o,s)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Or{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new vv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class KA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new KA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Xy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$A(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Mt(a,e){return a<e?-1:a>e?1:0}function nd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return Hf(o)===Hf(h)?Mt(o,h):Hf(o)?1:-1}return Mt(a.length,e.length)}const JA=55296,WA=57343;function Hf(a){const e=a.charCodeAt(0);return e>=JA&&e<=WA}function Ds(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class ri{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ri.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const s=ri.isNumericId(e),o=ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(e).compare(ri.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class Wt extends ri{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return tb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new Be([Zy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Wt.fromString(e))}static fromName(e){return new mt(Wt.fromString(e).popFirst(5))}static empty(){return new mt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(a,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function nb(a,e,i,s){if(e===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function $y(a){if(!mt.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ev(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function wd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function ba(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wd(a);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function go(a,e){if(!Ev(a))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Wy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Wy);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new te(0,0))}static max(){return new _t(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function ib(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Cr(o,mt.empty(),e)}function rb(a){return new Cr(a.readTime,a.key,io)}class Cr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(_t.min(),mt.empty(),io)}static max(){return new Cr(_t.max(),mt.empty(),io)}}function ab(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:Mt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==sb)throw a;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function ob(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Us(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=-1;function po(a){return a==null}function Wu(a){return a===0&&1/a==-1/0}function ub(a){return typeof a=="number"&&Number.isInteger(a)&&!Wu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="";function cb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=t_(e)),e=hb(a.get(i),e);return t_(e)}function hb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Tv:i+="";break;default:i+=h}}return i}function t_(a){return a+Tv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function xr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Av(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new bv("Invalid base64 string: "+h):h}})(e);return new je(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(Pt(!!a,39018),typeof a=="string"){let e=0;const i=fb.exec(a);if(Pt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ir(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="server_timestamp",wv="__type__",Rv="__previous_value__",Cv="__local_write_time__";function Cd(a){return(a?.mapValue?.fields||{})[wv]?.stringValue===Sv}function pc(a){const e=a.mapValue.fields[Rv];return Cd(e)?pc(e):e}function ro(a){const e=Dr(a.mapValue.fields[Cv].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i,s,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__type__",mb="__max__",qu={mapValue:{}},Iv="__vector__",ec="value";function Vr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Cd(a)?4:pb(a)?9007199254740991:gb(a)?10:11:dt(28295,{value:a})}function ui(a,e){if(a===e)return!0;const i=Vr(a);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ro(a).isEqual(ro(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Dr(o.timestampValue),g=Dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Ir(o.bytesValue).isEqual(Ir(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Ds(a.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ui(d[v],g[v])))return!1;return!0})(a,e);default:return dt(52216,{left:a})}}function so(a,e){return(a.values||[]).find((i=>ui(i,e)))!==void 0}function Is(a,e){if(a===e)return 0;const i=Vr(a),s=Vr(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,e);case 3:return i_(a.timestampValue,e.timestampValue);case 4:return i_(ro(a),ro(e));case 5:return nd(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=Ir(h),v=Ir(d);return g.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Mt(g[_],v[_]);if(A!==0)return A}return Mt(g.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Mt(ge(h.latitude),ge(d.latitude));return g!==0?g:Mt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return r_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ec]?.arrayValue,A=v[ec]?.arrayValue,D=Mt(_?.values?.length||0,A?.values?.length||0);return D!==0?D:r_(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const M=nd(v[D],A[D]);if(M!==0)return M;const Q=Is(g[v[D]],_[A[D]]);if(Q!==0)return Q}return Mt(v.length,A.length)})(a.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function i_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Mt(a,e);const i=Dr(a),s=Dr(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function r_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Is(i[o],s[o]);if(h)return h}return Mt(i.length,s.length)}function Vs(a){return id(a)}function id(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ir(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=id(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(a.mapValue):dt(61005,{value:a})}function Qu(a){switch(Vr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(a);return e?16+Qu(e):16;case 5:return 2*a.stringValue.length;case 6:return Ir(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Qu(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return xr(s.fields,((h,d)=>{o+=h.length+Qu(d)})),o})(a.mapValue);default:throw dt(13486,{value:a})}}function rd(a){return!!a&&"integerValue"in a}function Dd(a){return!!a&&"arrayValue"in a}function a_(a){return!!a&&"nullValue"in a}function s_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yu(a){return!!a&&"mapValue"in a}function gb(a){return(a?.mapValue?.fields||{})[Dv]?.stringValue===Iv}function Xl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return xr(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Xl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(a.arrayValue.values[i]);return e}return{...a}}function pb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===mb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){xr(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new tn(Xl(this.value))}}function Vv(a){const e=[];return xr(a.fields,((i,s)=>{const o=new Be([i]);if(Yu(s)){const h=Vv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new xe(e,0,_t.min(),_t.min(),_t.min(),tn.empty(),0)}static newFoundDocument(e,i,s,o){return new xe(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new xe(e,2,i,_t.min(),_t.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new xe(e,3,i,_t.min(),_t.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Is(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function o_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ui(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function yb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Se extends Nv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new vb(e,i,s):i==="array-contains"?new Ab(e,s):i==="in"?new bb(e,s):i==="not-in"?new Sb(e,s):i==="array-contains-any"?new wb(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Eb(e,s):new Tb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Is(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(Is(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return Mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mv(a){return a.op==="and"}function Ov(a){return _b(a)&&Mv(a)}function _b(a){for(const e of a.filters)if(e instanceof ci)return!1;return!0}function ad(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Vs(a.value);if(Ov(a))return a.filters.map((e=>ad(e))).join(",");{const e=a.filters.map((i=>ad(i))).join(",");return`${a.op}(${e})`}}function xv(a,e){return a instanceof Se?(function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)})(a,e):a instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&xv(d,o.filters[g])),!0):!1})(a,e):void dt(19439)}function Uv(a){return a instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vs(i.value)}`})(a):a instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Uv).join(" ,")+"}"})(a):"Filter"}class vb extends Se{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Eb extends Se{constructor(e,i){super(e,"in",i),this.keys=Lv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Tb extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Lv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Lv(a,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class Ab extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&so(i.arrayValue,this.value)}}class bb extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class Sb extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class wb extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>so(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function u_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new Rb(a,e,i,s,o,h,d)}function Id(a){const e=Et(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ad(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),po(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Vs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Vs(s))).join(",")),e.Te=i}return e.Te}function Vd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!yb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!xv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!o_(a.startAt,e.startAt)&&o_(a.endAt,e.endAt)}function sd(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cb(a,e,i,s,o,h,d,g){return new yc(a,e,i,s,o,h,d,g)}function Nd(a){return new yc(a)}function c_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Db(a){return a.collectionGroup!==null}function Zl(a){const e=Et(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ic(h,s))})),i.has(Be.keyField().canonicalString())||e.Ie.push(new ic(Be.keyField(),s))}return e.Ie}function si(a){const e=Et(a);return e.Ee||(e.Ee=Ib(e,Zl(a))),e.Ee}function Ib(a,e){if(a.limitType==="F")return u_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)}));const i=a.endAt?new nc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new nc(a.startAt.position,a.startAt.inclusive):null;return u_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ld(a,e,i){return new yc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function _c(a,e){return Vd(si(a),si(e))&&a.limitType===e.limitType}function Pv(a){return`${Id(si(a))}|lt:${a.limitType}`}function Ts(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Uv(o))).join(", ")}]`),po(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Vs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Vs(o))).join(",")),`Target(${s})`})(si(a))}; limitType=${a.limitType})`}function vc(a,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,v){const _=l_(d,g,v);return d.inclusive?_<=0:_<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(d,g,v){const _=l_(d,g,v);return d.inclusive?_>=0:_>0})(s.endAt,Zl(s),o))})(a,e)}function Vb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function zv(a){return(e,i)=>{let s=!1;for(const o of Zl(a)){const h=Nb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Nb(a,e,i){const s=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Is(v,_):dt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new ae(mt.comparator);function Ui(){return Mb}const kv=new ae(mt.comparator);function Fl(...a){let e=kv;for(const i of a)e=e.insert(i.key,i);return e}function Bv(a){let e=kv;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ta(){return $l()}function jv(){return $l()}function $l(){return new Da((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Ob=new ae(mt.comparator),xb=new Re(mt.comparator);function Ot(...a){let e=xb;for(const i of a)e=e.add(i);return e}const Ub=new Re(Mt);function Lb(){return Ub}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function qv(a){return{integerValue:""+a}}function Pb(a,e){return ub(e)?qv(e):Md(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function zb(a,e,i){return a instanceof lo?(function(o,h){const d={fields:{[wv]:{stringValue:Sv},[Cv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Cd(h)&&(h=pc(h)),h&&(d.fields[Rv]=h),{mapValue:d}})(i,e):a instanceof oo?Gv(a,e):a instanceof uo?Fv(a,e):(function(o,h){const d=Hv(o,h),g=h_(d)+h_(o.Ae);return rd(d)&&rd(o.Ae)?qv(g):Md(o.serializer,g)})(a,e)}function kb(a,e,i){return a instanceof oo?Gv(a,e):a instanceof uo?Fv(a,e):i}function Hv(a,e){return a instanceof rc?(function(s){return rd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class lo extends Ec{}class oo extends Ec{constructor(e){super(),this.elements=e}}function Gv(a,e){const i=Qv(e);for(const s of a.elements)i.some((o=>ui(o,s)))||i.push(s);return{arrayValue:{values:i}}}class uo extends Ec{constructor(e){super(),this.elements=e}}function Fv(a,e){let i=Qv(e);for(const s of a.elements)i=i.filter((o=>!ui(o,s)));return{arrayValue:{values:i}}}class rc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h_(a){return ge(a.integerValue||a.doubleValue)}function Qv(a){return Dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,i){this.field=e,this.transform=i}}function jb(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Ds(s.elements,o.elements,ui):s instanceof rc&&o instanceof rc?ui(s.Ae,o.Ae):s instanceof lo&&o instanceof lo})(a.transform,e.transform)}class qb{constructor(e,i){this.version=e,this.transformResults=i}}class ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Tc{}function Yv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Od(a.key,ln.none()):new yo(a.key,a.data,ln.none());{const i=a.data,s=tn.empty();let o=new Re(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ur(a.key,s,new _n(o.toArray()),ln.none())}}function Hb(a,e,i){a instanceof yo?(function(o,h,d){const g=o.value.clone(),v=d_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Ur?(function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=d_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Kv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(a,e,i,s){return a instanceof yo?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=h.value.clone(),A=m_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,s):a instanceof Ur?(function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=m_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Kv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(a,e,i,s):(function(h,d,g){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Gb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Hv(s.transform,o||null);h!=null&&(i===null&&(i=tn.empty()),i.set(s.field,h))}return i||null}function f_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ds(s,o,((h,d)=>jb(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class yo extends Tc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ur extends Tc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function d_(a,e,i){const s=new Map;Pt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,kb(d,g,i[o]))}return s}function m_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,zb(h,d,e))}return s}class Od extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xv extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Hb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=jv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Yv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,((i,s)=>f_(i,s)))&&Ds(this.baseMutations,e.baseMutations,((i,s)=>f_(i,s)))}}class xd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Ob})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new xd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function Zv(a){switch(a){case Z.OK:return dt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function $v(a){if(a===void 0)return xi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case _e.OK:return Z.OK;case _e.CANCELLED:return Z.CANCELLED;case _e.UNKNOWN:return Z.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Z.INTERNAL;case _e.UNAVAILABLE:return Z.UNAVAILABLE;case _e.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _e.NOT_FOUND:return Z.NOT_FOUND;case _e.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _e.ABORTED:return Z.ABORTED;case _e.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _e.DATA_LOSS:return Z.DATA_LOSS;default:return dt(39323,{code:a})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new br([4294967295,4294967295],0);function g_(a){const e=Kb().encode(a),i=new fv;return i.update(e),new Uint8Array(i.digest())}function p_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new br([i,s],0),new br([o,h],0)]}class Ud{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=br.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(br.fromNumber(s)));return o.compare(Xb)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=g_(e),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ac(_t.min(),o,new ae(Mt),Ui(),Ot())}}class _o{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new _o(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Jv{constructor(e,i){this.targetId=e,this.Ce=i}}class Wv{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=Hu(),this.He=Hu(),this.Ye=new ae(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(sd(h))if(s===0){const d=new mt(h.path);this.et(i,d,xe.newNoDocument(d,_t.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ir(s).toUint8Array()}catch(v){if(v instanceof bv)return Cs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ud(d,o,h)}catch(v){return Cs(v instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&sd(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Ot();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ac(e,i,this.Ye,this.je,s);return this.je=Ui(),this.Je=Hu(),this.He=Hu(),this.Ye=new ae(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ae(mt.comparator)}function __(){return new ae(mt.comparator)}const $b={asc:"ASCENDING",desc:"DESCENDING"},Jb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wb={and:"AND",or:"OR"};class tS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(a,e){return a.useProto3Json||po(e)?e:{value:e}}function ac(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function eS(a,e){return ac(a,e.toTimestamp())}function vn(a){return Pt(!!a,49232),_t.fromTimestamp((function(i){const s=Dr(i);return new te(s.seconds,s.nanos)})(a))}function Ld(a,e){return ud(a,e).canonicalString()}function ud(a,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function e0(a){const e=Wt.fromString(a);return Pt(l0(e),10190,{key:e.toString()}),e}function sc(a,e){return Ld(a.databaseId,e.path)}function Wl(a,e){const i=e0(e);if(i.get(1)!==a.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(i0(i))}function n0(a,e){return Ld(a.databaseId,e)}function nS(a){const e=e0(a);return e.length===4?Wt.emptyPath():i0(e)}function cd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function i0(a){return Pt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function v_(a,e,i){return{name:sc(a,e),fields:i.value.mapValue.fields}}function iS(a,e){return"found"in e?(function(s,o){Pt(!!o.found,43571),o.found.name,o.found.updateTime;const h=Wl(s,o.found.name),d=vn(o.found.updateTime),g=o.found.createTime?vn(o.found.createTime):_t.min(),v=new tn({mapValue:{fields:o.found.fields}});return xe.newFoundDocument(h,d,g,v)})(a,e):"missing"in e?(function(s,o){Pt(!!o.missing,3894),Pt(!!o.readTime,22933);const h=Wl(s,o.missing),d=vn(o.readTime);return xe.newNoDocument(h,d)})(a,e):dt(7234,{result:e})}function rS(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:$v(_.code);return new lt(A,_.message||"")})(d);i=new Wv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wl(a,s.document.name),h=vn(s.document.updateTime),d=s.document.createTime?vn(s.document.createTime):_t.min(),g=new tn({mapValue:{fields:s.document.fields}}),v=xe.newFoundDocument(o,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wl(a,s.document),h=s.readTime?vn(s.readTime):_t.min(),d=xe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wl(a,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Yb(o,h),g=s.targetId;i=new Jv(g,d)}}return i}function r0(a,e){let i;if(e instanceof yo)i={update:v_(a,e.key,e.value)};else if(e instanceof Od)i={delete:sc(a,e.key)};else if(e instanceof Ur)i={update:v_(a,e.key,e.data),updateMask:dS(e.fieldMask)};else{if(!(e instanceof Xv))return dt(16599,{Vt:e.type});i={verify:sc(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof lo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:eS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(a,e.precondition)),i}function aS(a,e){return a&&a.length>0?(Pt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?vn(o.updateTime):vn(h);return d.isEqual(_t.min())&&(d=vn(h)),new qb(d,o.transformResults||[])})(i,e)))):[]}function sS(a,e){return{documents:[n0(a,e.path)]}}function lS(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=n0(a,o);const h=(function(_){if(_.length!==0)return s0(ci.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:As(M.field),direction:cS(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=od(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function oS(a){let e=nS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Pt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const M=a0(D);return M instanceof ci&&Ov(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((M=>(function(tt){return new ic(bs(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(D){let M;return M=typeof D=="object"?D.value:D,po(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(D){const M=!!D.before,Q=D.values||[];return new nc(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const M=!D.before,Q=D.values||[];return new nc(Q,M)})(i.endAt)),Cb(e,o,d,h,g,"F",v,_)}function uS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function a0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=bs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=bs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Se.create(bs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((s=>a0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(a):dt(30097,{filter:a})}function cS(a){return $b[a]}function hS(a){return Jb[a]}function fS(a){return Wb[a]}function As(a){return{fieldPath:a.canonicalString()}}function bs(a){return Be.fromServerFormat(a.fieldPath)}function s0(a){return a instanceof Se?(function(i){if(i.op==="=="){if(s_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(i.field),op:hS(i.op),value:i.value}}})(a):a instanceof ci?(function(i){const s=i.getFilters().map((o=>s0(o)));return s.length===1?s[0]:{compositeFilter:{op:fS(i.op),filters:s}}})(a):dt(54877,{filter:a})}function dS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function l0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,i,s,o,h=_t.min(),d=_t.min(),g=je.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.yt=e}}function gS(a){const e=oS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Cn=new yS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Cr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class yS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(o0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ns(0)}static cr(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",_S=1048576;function A_([a,e],[i,s]){const o=Mt(a,i);return o===0?Mt(e,s):o}class vS{constructor(e){this.Ir=e,this.buffer=new Re(A_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();A_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ES{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Us(i)?at(T_,"Ignoring IndexedDB error during garbage collection: ",i):await xs(i)}await this.Vr(3e5)}))}}class TS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(gc.ce);const s=new vS(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(E_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o)))).next((D=>(s=D,g=Date.now(),this.removeTargets(e,s,i)))).next((D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((D=>(_=Date.now(),Es()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D}))))}}function AS(a,e){return new TS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.changes=new Da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Jl(s.mutation,o,_n.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ot()){const o=Ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Fl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Ta();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ot())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let h=Ui();const d=$l(),g=(function(){return $l()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ur)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Jl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new SS(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ae(((d,g)=>d-g)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||_n.empty();A=g.applyToLocalView(_,A),s.set(v,A);const D=(o.get(g.batchId)||Ot()).add(v);o=o.insert(g.batchId,D)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,D=jv();A.forEach((M=>{if(!h.has(M)){const Q=Yv(i.get(M),s.get(M));Q!==null&&D.set(M,Q),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Db(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(Ta());let g=io,v=h;return d.next((_=>X.forEach(_,((A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:g,changes:Bv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((g=>X.forEach(g,(v=>{const _=(function(D,M){return new yc(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((D,M)=>{d=d.insert(D,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,xe.newInvalidDocument(A)))}));let g=Fl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Jl(A.mutation,_,_n.empty(),te.now()),vc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vn(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:gS(o.bundledQuery),readTime:vn(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ta();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=Ta(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=Ta(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ta(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return X.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Qb(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Qr=new Re(Oe.$r),this.Ur=new Re(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Ot();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Oe.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Fb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Mt);return i.forEach((o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{s=s.add(g.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new mt(h),0);let g=new Re(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.ri=e,this.docs=(function(){return new ae(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():xe.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():xe.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ab(rb(A),s)<=0||(o.has(A.key)||vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}ii(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new NS(this)}getSize(e){return X.resolve(this.size)}}class NS extends bS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.persistence=e,this.si=new Da((i=>Id(i)),Vd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Pd,this.targetCount=0,this.ai=Ns.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ns(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new DS,this.referenceDelegate=e(this),this.Pi=new MS(this),this.indexManager=new pS,this.remoteDocumentCache=(function(o){return new VS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mS(i),this.Ii=new RS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new IS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new OS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class OS extends lb{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Vi=null}static mi(e){return new zd(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new Da((s=>cb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AS(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?X.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new kd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return w1()?8:ob(A1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new xS;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Es()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ts(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Es()<=Lt.DEBUG&&at("QueryEngine","Query:",Ts(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Es()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ts(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):X.resolve())}ys(e,i){if(c_(i))return X.resolve(null);let s=si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ld(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,ld(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return c_(i)||o.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?X.resolve(null):(Es()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ts(i)),this.vs(e,d,i,ib(o,io)).next((g=>g)))}))}Ds(e,i){let s=new Re(zv(e));return i.forEach(((o,h)=>{vc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return Es()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ts(i)),this.ps.getDocumentsMatchingQuery(e,i,Cr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="LocalStore",LS=3e8;class PS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(Mt),this.xs=new Da((h=>Id(h)),Vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zS(a,e,i,s){return new PS(a,e,i,s)}async function c0(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function kS(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const D=_.batch,M=D.keys();let Q=X.resolve();return M.forEach((tt=>{Q=Q.next((()=>A.getEntry(v,tt))).next((rt=>{const W=_.docVersions.get(tt);Pt(W!==null,48541),rt.version.compareTo(W)<0&&(D.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),A.addEntry(rt)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(v,D)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let v=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function h0(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function BS(a,e){const i=Et(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,D)=>{const M=o.get(D);if(!M)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let Q=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?Q=Q.withResumeToken(je.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),o=o.insert(D,Q),(function(rt,W,St){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=LS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0})(M,Q,A)&&g.push(i.Pi.updateTargetData(h,Q))}));let v=Ui(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(jS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(A)}return X.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function jS(a,e,i){let s=Ot(),o=Ot();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Ui();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):at(Bd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function qS(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HS(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Er(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function hd(a,e,i){const s=Et(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Us(d))throw d;at(Bd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function b_(a,e,i){const s=Et(a);let o=_t.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=Et(v),M=D.xs.get(A);return M!==void 0?X.resolve(D.Ms.get(M)):D.Pi.getTargetData(_,A)})(s,d,si(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Ot()))).next((g=>(GS(s,Vb(e),g),{documents:g,Qs:h})))))}function GS(a,e,i){let s=a.Os.get(e)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=Lb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FS{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(w_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function fd(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",YS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=fd(),g=this.zo(e,i.toUriEncodedString());at(Gf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Ed(_);return this.Jo(e,g,v,s,A).then((D=>(at(Gf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw Cs(Gf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",s),D}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Os})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=YS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class ZS extends KS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=fd();return new Promise(((g,v)=>{const _=new dv;_.setWithCredentials(!0),_.listenOnce(mv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const D=_.getResponseJson();at(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Fu.TIMEOUT:at(Qe,`RPC '${e}' ${d} timed out`),v(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const M=_.getStatus();if(at(Qe,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const rt=(function(St){const Tt=St.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Tt)>=0?Tt:Z.UNKNOWN})(tt.status);v(new lt(rt,tt.message))}else v(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Qe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Qe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=fd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yv(),g=pv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Qe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const D=d.createWebChannel(A,v);this.I_(D);let M=!1,Q=!1;const tt=new XS({Yo:W=>{Q?at(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(at(Qe,`Opening RPC '${e}' stream ${o} transport.`),D.open(),M=!0),at(Qe,`RPC '${e}' stream ${o} sending:`,W),D.send(W))},Zo:()=>D.close()}),rt=(W,St,Tt)=>{W.listen(St,(gt=>{try{Tt(gt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return rt(D,Gl.EventType.OPEN,(()=>{Q||(at(Qe,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),rt(D,Gl.EventType.CLOSE,(()=>{Q||(Q=!0,at(Qe,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(D))})),rt(D,Gl.EventType.ERROR,(W=>{Q||(Q=!0,Cs(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),rt(D,Gl.EventType.MESSAGE,(W=>{if(!Q){const St=W.data[0];Pt(!!St,16349);const Tt=St,gt=Tt?.error||Tt[0]?.error;if(gt){at(Qe,`RPC '${e}' stream ${o} received error:`,gt);const wt=gt.status;let ft=(function(b){const C=_e[b];if(C!==void 0)return $v(C)})(wt),It=gt.message;ft===void 0&&(ft=Z.INTERNAL,It="Unknown error status: "+wt+" with message "+gt.message),Q=!0,tt.a_(new lt(ft,It)),D.close()}else at(Qe,`RPC '${e}' stream ${o} received:`,St),tt.u_(St)}})),rt(g,gv.STAT_EVENT,(W=>{W.stat===ed.PROXY?at(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===ed.NOPROXY&&at(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a){return new tS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class f0{constructor(e,i,s,o,h,d,g,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jd(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $S extends f0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?vn(d.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=cd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=sd(v)?{documents:sS(h,v)}:{query:lS(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=t0(h,d.resumeToken);const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=ac(h,d.snapshotVersion.toTimestamp());const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=uS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=cd(this.serializer),i.removeTarget=e,this.q_(i)}}class JS extends f0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=aS(e.writeResults,e.commitTime),s=vn(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=cd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>r0(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class t2 extends WS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ud(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ud(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class n2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ia(this)&&(at(wa,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await vo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sc(_)})(this))}))})),this.Ra=new e2(s,o)}}async function Sc(a){if(Ia(a))for(const e of a.da)await e(!0)}async function vo(a){for(const e of a.da)await e(!1)}function d0(a,e){const i=Et(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Fd(i)?Gd(i):Ls(i).O_()&&Hd(i,e))}function qd(a,e){const i=Et(a),s=Ls(i);i.Ia.delete(e),s.O_()&&m0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ia(i)&&i.Ra.set("Unknown"))}function Hd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ls(a).Y_(e)}function m0(a,e){a.Va.Ue(e),Ls(a).Z_(e)}function Gd(a){a.Va=new Zb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ls(a).start(),a.Ra.ua()}function Fd(a){return Ia(a)&&!Ls(a).x_()&&a.Ia.size>0}function Ia(a){return Et(a).Ea.size===0}function g0(a){a.Va=void 0}async function i2(a){a.Ra.set("Online")}async function r2(a){a.Ia.forEach(((e,i)=>{Hd(a,e)}))}async function a2(a,e){g0(a),Fd(a)?(a.Ra.ha(e),Gd(a)):a.Ra.set("Unknown")}async function s2(a,e,i){if(a.Ra.set("Online"),e instanceof Wv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(s){at(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oc(a,s)}else if(e instanceof Xu?a.Va.Ze(e):e instanceof Jv?a.Va.st(e):a.Va.tt(e),!i.isEqual(_t.min()))try{const s=await h0(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),m0(h,v);const D=new Er(A.target,v,_,A.sequenceNumber);Hd(h,D)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){at(wa,"Failed to raise snapshot:",s),await oc(a,s)}}async function oc(a,e,i){if(!Us(e))throw e;a.Ea.add(1),await vo(a),a.Ra.set("Offline"),i||(i=()=>h0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(wa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Sc(a)}))}function p0(a,e){return e().catch((i=>oc(a,i,e)))}async function wc(a){const e=Et(a),i=Nr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rd;for(;l2(e);)try{const o=await qS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,o2(e,o)}catch(o){await oc(e,o)}y0(e)&&_0(e)}function l2(a){return Ia(a)&&a.Ta.length<10}function o2(a,e){a.Ta.push(e);const i=Nr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function y0(a){return Ia(a)&&!Nr(a).x_()&&a.Ta.length>0}function _0(a){Nr(a).start()}async function u2(a){Nr(a).ra()}async function c2(a){const e=Nr(a);for(const i of a.Ta)e.ea(i.mutations)}async function h2(a,e,i){const s=a.Ta.shift(),o=xd.from(s,e,i);await p0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await wc(a)}async function f2(a,e){e&&Nr(a).X_&&await(async function(s,o){if((function(d){return Zv(d)&&d!==Z.ABORTED})(o.code)){const h=s.Ta.shift();Nr(s).B_(),await p0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await wc(s)}})(a,e),y0(a)&&_0(a)}async function D_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),at(wa,"RemoteStore received new credentials");const s=Ia(i);i.Ea.add(3),await vo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function d2(a,e){const i=Et(a);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await vo(i),i.Ra.set("Unknown"))}function Ls(a){return a.ma||(a.ma=(function(i,s,o){const h=Et(i);return h.sa(),new $S(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:i2.bind(null,a),t_:r2.bind(null,a),r_:a2.bind(null,a),H_:s2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Fd(a)?Gd(a):a.Ra.set("Unknown")):(await a.ma.stop(),g0(a))}))),a.ma}function Nr(a){return a.fa||(a.fa=(function(i,s,o){const h=Et(i);return h.sa(),new JS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,a),r_:f2.bind(null,a),ta:c2.bind(null,a),na:h2.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await wc(a)):(await a.fa.stop(),a.Ta.length>0&&(at(wa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Qd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(a,e){if(xi("AsyncQueue",`${e}: ${a}`),Us(a))return new lt(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(e){return new ws(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ws;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ga=new ae(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ms{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ms(e,i,ws.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=V_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(s)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function V_(){return new Da((a=>Pv(a)),_c)}async function p2(a,e){const i=Et(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new m2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Yd(d,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Kd(i)}async function y2(a,e){const i=Et(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function _2(a,e){const i=Et(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Kd(i)}function v2(a,e,i){const s=Et(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Kd(a){a.Ca.forEach((e=>{e.next()}))}var dd,N_;(N_=dd||(dd={})).Ma="default",N_.Cache="cache";class E2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ms(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.key=e}}class E0{constructor(e){this.key=e}}class T2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=zv(e),this.tu=new ws(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new I_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,D)=>{const M=o.get(A),Q=vc(this.query,D)?D:null,tt=!!M&&this.mutatedKeys.has(M.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;M&&Q?M.data.isEqual(Q.data)?tt!==rt&&(s.track({type:3,doc:Q}),W=!0):this.su(M,Q)||(s.track({type:2,doc:Q}),W=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(g=!0)):!M&&Q?(s.track({type:0,doc:Q}),W=!0):M&&!Q&&(s.track({type:1,doc:M}),W=!0,(v||_)&&(g=!0)),W&&(Q?(d=d.add(Q),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(Q,tt){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:W})}};return rt(Q)-rt(tt)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ms(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new E0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new v0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ms.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class A2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class b2{constructor(e){this.key=e,this.hu=!1}}class S2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Da((g=>Pv(g)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new Pd,this.Vu={},this.mu=new Map,this.fu=Ns.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w2(a,e,i=!0){const s=R0(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await T0(s,e,i,!0),o}async function R2(a,e){const i=R0(a);await T0(i,e,!0,!1)}async function T0(a,e,i,s){const o=await HS(a.localStore,si(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await C2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&d0(a.remoteStore,o),g}async function C2(a,e,i,s,o){a.pu=(D,M,Q)=>(async function(rt,W,St,Tt){let gt=W.view.ru(St);gt.Cs&&(gt=await b_(rt.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,gt))));const wt=Tt&&Tt.targetChanges.get(W.targetId),ft=Tt&&Tt.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(gt,rt.isPrimaryClient,wt,ft);return O_(rt,W.targetId,It.au),It.snapshot})(a,D,M,Q);const h=await b_(a.localStore,e,!0),d=new T2(e,h.Qs),g=d.ru(h.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);O_(a,i,_.au);const A=new A2(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function D2(a,e,i){const s=Et(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!_c(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&qd(s.remoteStore,o.targetId),md(s,o.targetId)})).catch(xs)):(md(s,o.targetId),await hd(s.localStore,o.targetId,!0))}async function I2(a,e){const i=Et(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qd(i.remoteStore,s.targetId))}async function V2(a,e,i){const s=P2(a);try{const o=await(function(d,g){const v=Et(d),_=te.now(),A=g.reduce(((Q,tt)=>Q.add(tt.key)),Ot());let D,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=Ui(),rt=Ot();return v.Ns.getEntries(Q,A).next((W=>{tt=W,tt.forEach(((St,Tt)=>{Tt.isValidDocument()||(rt=rt.add(St))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,tt))).next((W=>{D=W;const St=[];for(const Tt of g){const gt=Gb(Tt,D.get(Tt.key).overlayedDocument);gt!=null&&St.push(new Ur(Tt.key,gt,Vv(gt.value.mapValue),ln.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,St,g)})).next((W=>{M=W;const St=W.applyToLocalDocumentSet(D,rt);return v.documentOverlayCache.saveOverlays(Q,W.batchId,St)}))})).then((()=>({batchId:M.batchId,changes:Bv(D)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(Mt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await Eo(s,o.changes),await wc(s.remoteStore)}catch(o){const h=Yd(o,"Failed to persist write");i.reject(h)}}async function A0(a,e){const i=Et(a);try{const s=await BS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await Eo(i,s,e)}catch(s){await xs(s)}}function M_(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Et(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,D)=>{for(const M of D.Sa)M.va(g)&&(_=!0)})),_&&Kd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N2(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new ae(mt.comparator);d=d.insert(h,xe.newNoDocument(h,_t.min()));const g=Ot().add(h),v=new Ac(_t.min(),new Map,new ae(Mt),d,g);await A0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Zd(s)}else await hd(s.localStore,e,!1).then((()=>md(s,e,i))).catch(xs)}async function M2(a,e){const i=Et(a),s=e.batch.batchId;try{const o=await kS(i.localStore,e);S0(i,s,null),b0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Eo(i,o)}catch(o){await xs(o)}}async function O2(a,e,i){const s=Et(a);try{const o=await(function(d,g){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((D=>(Pt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);S0(s,e,i),b0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Eo(s,o)}catch(o){await xs(o)}}function b0(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function S0(a,e,i){const s=Et(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function md(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||w0(a,s)}))}function w0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(qd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Zd(a))}function O_(a,e,i){for(const s of i)s instanceof v0?(a.Ru.addReference(s.key,e),x2(a,s)):s instanceof E0?(at(Xd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||w0(a,s.key)):dt(19791,{wu:s})}function x2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(at(Xd,"New document in limbo: "+i),a.Eu.add(s),Zd(a))}function Zd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(Wt.fromString(e)),s=a.fu.next();a.Au.set(s,new b2(i)),a.du=a.du.insert(i,s),d0(a.remoteStore,new Er(si(Nd(i.path)),s,"TargetPurposeLimboResolution",gc.ce))}}async function Eo(a,e,i){const s=Et(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=kd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>X.forEach(_,(M=>X.forEach(M.Es,(Q=>A.persistence.referenceDelegate.addReference(D,M.targetId,Q))).next((()=>X.forEach(M.ds,(Q=>A.persistence.referenceDelegate.removeReference(D,M.targetId,Q)))))))))}catch(D){if(!Us(D))throw D;at(Bd,"Failed to update sequence numbers: "+D)}for(const D of _){const M=D.targetId;if(!D.fromCache){const Q=A.Ms.get(M),tt=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(M,rt)}}})(s.localStore,h))}async function U2(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){at(Xd,"User change. New user:",e.toKey());const s=await c0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new lt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eo(i,s.Ls)}}function L2(a,e){const i=Et(a),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function R0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=A0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.Pu.H_=_2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function P2(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O2.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zS(this.persistence,new US,e.initialUser,this.serializer)}Cu(e){return new u0(zd.mi,this.serializer)}Du(e){return new FS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class z2 extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ES(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new u0((s=>lc.mi(s,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=(function(h){return new ZS(h)})(e.databaseInfo);return(function(h,d,g,v){return new t2(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,g){return new n2(s,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>M_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new QS})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const D=new S2(o,h,d,g,v,_);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);at(wa,"RemoteStore shutting down."),s.Ea.add(5),await vo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(o,h){const d=Et(o),g={documents:h.map((D=>sc(d.serializer,D)))},v=await d.Ho("BatchGetDocuments",d.serializer.databaseId,Wt.emptyPath(),g,h.length),_=new Map;v.forEach((D=>{const M=iS(d.serializer,D);_.set(M.key.toString(),M)}));const A=[];return h.forEach((D=>{const M=_.get(D.toString());Pt(!!M,55234,{key:D}),A.push(M)})),A})(this.datastore,e);return i.forEach((s=>this.recordVersion(s))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,s)=>{const o=mt.fromPath(s);this.mutations.push(new Xv(o,this.precondition(o)))})),await(async function(s,o){const h=Et(s),d={writes:o.map((g=>r0(h.serializer,g)))};await h.Go("Commit",h.serializer.databaseId,Wt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw dt(50498,{Gu:e.constructor.name});i=_t.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!i.isEqual(s))throw new lt(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(_t.min())?ln.exists(!1):ln.updateTime(i):ln.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(_t.min()))throw new lt(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(i)}return ln.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,i,s,o,h){this.asyncQueue=e,this.datastore=i,this.options=s,this.updateFunction=o,this.deferred=h,this.zu=s.maxAttempts,this.M_=new jd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new B2(this.datastore),i=this.Hu(e);i&&i.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const i=this.updateFunction(e);return!po(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!Zv(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class q2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Yd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qf(a,e){a.asyncQueue.verifyOperationInProgress(),at(Mr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await c0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function x_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await H2(a);at(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>D_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>D_(e.remoteStore,o))),a._onlineComponents=e}async function H2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(Mr,"Using user provided OfflineComponentProvider");try{await Qf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Cs("Error using user provided cache. Falling back to memory cache: "+i),await Qf(a,new uc)}}else at(Mr,"Using default OfflineComponentProvider"),await Qf(a,new z2(void 0));return a._offlineComponents}async function $d(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(Mr,"Using user provided OnlineComponentProvider"),await x_(a,a._uninitializedComponentsProvider._online)):(at(Mr,"Using default OnlineComponentProvider"),await x_(a,new gd))),a._onlineComponents}function G2(a){return $d(a).then((e=>e.syncEngine))}function F2(a){return $d(a).then((e=>e.datastore))}async function U_(a){const e=await $d(a),i=e.eventManager;return i.onListen=w2.bind(null,e.syncEngine),i.onUnlisten=D2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=R2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",P_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_S)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FA;switch(s.type){case"firstParty":return new XA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=L_.get(i);s&&(at("ComponentProvider","Removing Datastore"),L_.delete(i),s.terminate())})(this),Promise.resolve()}}function Q2(a,e,i,s={}){a=ba(a,Jd);const o=Ed(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(y1(`https://${g}`),T1("Firestore",!0)),h.host!==D0&&h.host!==g&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:s};if(!eo(v,d)&&(a._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ye.MOCK_USER;else{_=_1(s.mockUserToken,a._app?.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(D)}a._authCredentials=new QA(new vv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(go(i,we._jsonSchema))return new we(e,s||null,new mt(Wt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ve("string",we._jsonSchemaVersion),referencePath:ve("string")};class co extends Rc{constructor(e,i,s){super(e,i,Nd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new mt(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Y2(a,e,...i){if(a=Hn(a),arguments.length===1&&(e=Sd.newId()),eb("doc","path",e),a instanceof Jd){const s=Wt.fromString(e,...i);return $y(s),new we(a,null,new mt(s))}{if(!(a instanceof we||a instanceof co))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return $y(s),new we(a.firestore,a instanceof co?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jd(this,"async_queue_retry"),this._c=()=>{const s=Ff();s&&at(k_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Us(e))throw e;at(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",j_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function j_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class ho extends Jd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new B_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function K2(a,e){const i=typeof a=="object"?a:uv(),s=typeof a=="string"?a:tc,o=mo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=g1("firestore");h&&Q2(o,...h)}return o}function Wd(a){if(a._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||X2(a),a._firestoreClient}function X2(a){const e=a._freezeSettings(),i=(function(o,h,d,g){return new db(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,C0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new q2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(je.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new yn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:ve("string",yn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(go(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:ve("string",li._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:ve("string",oi._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^__.*__$/;class $2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class I0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ur(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function V0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:a})}}class tm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V0(this.Ac)&&Z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Cc(e,i,s,o=!1){return new tm({Ac:e,methodName:i,Dc:s,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(a){const e=a._freezeSettings(),i=bc(a._databaseId);return new J2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function M0(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);nm("Data must be an object, but it was:",d,s);const g=O0(s,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const M=pd(e,D,i);if(!d.contains(M))throw new lt(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);U0(A,M)||A.push(M)}v=new _n(A),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new $2(new tn(g),v,_)}class Ic extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}class em extends Dc{_toFieldTransform(e){return new Bb(e.path,new lo)}isEqual(e){return e instanceof em}}function W2(a,e,i,s){const o=a.Cc(1,e,i);nm("Data must be an object, but it was:",o,s);const h=[],d=tn.empty();xr(s,((v,_)=>{const A=im(e,v,i);_=Hn(_);const D=o.yc(A);if(_ instanceof Ic)h.push(A);else{const M=Vc(_,D);M!=null&&(h.push(A),d.set(A,M))}}));const g=new _n(h);return new I0(d,g,o.fieldTransforms)}function tw(a,e,i,s,o,h){const d=a.Cc(1,e,i),g=[pd(e,s,i)],v=[o];if(h.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)g.push(pd(e,h[M])),v.push(h[M+1]);const _=[],A=tn.empty();for(let M=g.length-1;M>=0;--M)if(!U0(_,g[M])){const Q=g[M];let tt=v[M];tt=Hn(tt);const rt=d.yc(Q);if(tt instanceof Ic)_.push(Q);else{const W=Vc(tt,rt);W!=null&&(_.push(Q),A.set(Q,W))}}const D=new _n(_);return new I0(A,D,d.fieldTransforms)}function Vc(a,e){if(x0(a=Hn(a)))return nm("Unsupported field value:",e,a),O0(a,e);if(a instanceof Dc)return(function(s,o){if(!V0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let v=Vc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,o){if((s=Hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Pb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:ac(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ac(o.serializer,h)}}if(s instanceof li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yn)return{bytesValue:t0(o.serializer,s._byteString)};if(s instanceof we){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ld(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(d,g){return{mapValue:{fields:{[Dv]:{stringValue:Iv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Md(g.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wd(s)}`)})(a,e)}function O0(a,e){const i={};return Av(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(a,((s,o)=>{const h=Vc(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function x0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof li||a instanceof yn||a instanceof we||a instanceof Dc||a instanceof oi)}function nm(a,e,i){if(!x0(i)||!Ev(i)){const s=wd(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function pd(a,e,i){if((e=Hn(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return im(a,e);throw cc("Field path arguments must be of type string or ",a,!1,void 0,i)}const ew=new RegExp("[~\\*/\\[\\]]");function im(a,e,i){if(e.search(ew)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Cc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function cc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new lt(Z.INVALID_ARGUMENT,g+a+v)}function U0(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(L0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nw extends hc{data(){return super.data()}}function L0(a,e){return typeof e=="string"?im(a,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return xr(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Pt(l0(s),9688,{name:e});const o=new ao(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class rw extends P0{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}class Ss{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wr extends hc{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(L0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",wr._jsonSchema={type:ve("string",wr._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Zu extends wr{data(e={}){return super.data(e)}}class Rs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ss(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Ss(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ss(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ss(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:aw(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:ve("string",Rs._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class rm extends P0{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function sw(a,e,i){a=ba(a,we);const s=ba(a.firestore,ho),o=z0(a.converter,e,i);return ow(s,[M0(N0(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ln.none())])}function lw(a,...e){a=Hn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,g;if(a instanceof we)d=ba(a.firestore,ho),g=Nd(a._key.path),h={next:v=>{e[s]&&e[s](uw(d,a,v))},error:e[s+1],complete:e[s+2]};else{const v=ba(a,Rc);d=ba(v.firestore,ho),g=v._query;const _=new rm(d);h={next:A=>{e[s]&&e[s](new Rs(d,_,v,A))},error:e[s+1],complete:e[s+2]},iw(a._query)}return(function(_,A,D,M){const Q=new k2(M),tt=new E2(A,Q,D);return _.asyncQueue.enqueueAndForget((async()=>p2(await U_(_),tt))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>y2(await U_(_),tt)))}})(Wd(d),g,o,h)}function ow(a,e){return(function(s,o){const h=new Sr;return s.asyncQueue.enqueueAndForget((async()=>V2(await G2(s),o,h))),h.promise})(Wd(a),e)}function uw(a,e,i){const s=i.docs.get(e._key),o=new rm(a);return new wr(a,o,e._key,s,new Ss(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={maxAttempts:5};function Yl(a,e){if((a=Hn(a)).firestore!==e)throw new lt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=N0(e)}get(e){const i=Yl(e,this._firestore),s=new rw(this._firestore);return this._transaction.lookup([i._key]).then((o=>{if(!o||o.length!==1)return dt(24041);const h=o[0];if(h.isFoundDocument())return new hc(this._firestore,s,h.key,h,i.converter);if(h.isNoDocument())return new hc(this._firestore,s,i._key,null,i.converter);throw dt(18433,{doc:h})}))}set(e,i,s){const o=Yl(e,this._firestore),h=z0(o.converter,i,s),d=M0(this._dataReader,"Transaction.set",o._key,h,o.converter!==null,s);return this._transaction.set(o._key,d),this}update(e,i,s,...o){const h=Yl(e,this._firestore);let d;return d=typeof(i=Hn(i))=="string"||i instanceof Cc?tw(this._dataReader,"Transaction.update",h._key,i,s,o):W2(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,d),this}delete(e){const i=Yl(e,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends hw{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Yl(e,this._firestore),s=new rm(this._firestore);return super.get(e).then((o=>new wr(this._firestore,s,i._key,o._document,new Ss(!1,!1),i.converter)))}}function dw(a,e,i){a=ba(a,ho);const s={...cw,...i};return(function(h){if(h.maxAttempts<1)throw new lt(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(h,d,g){const v=new Sr;return h.asyncQueue.enqueueAndForget((async()=>{const _=await F2(h);new j2(h.asyncQueue,_,g,d,v).ju()})),v.promise})(Wd(a),(o=>e(new fw(a,o))),s)}function H_(){return new em("serverTimestamp")}(function(e,i=!0){(function(o){Os=o})(MA),Rr(new Mi("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new ho(new YA(s.getProvider("auth-internal")),new ZA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ai(Yy,Ky,e),ai(Yy,Ky,"esm2020")})();const k0="@firebase/installations",am="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=1e4,j0=`w:${am}`,q0="FIS_v2",mw="https://firebaseinstallations.googleapis.com/v1",gw=3600*1e3,pw="installations",yw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new mc(pw,yw,_w);function H0(a){return a instanceof Or&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0({projectId:a}){return`${mw}/projects/${a}/installations`}function F0(a){return{token:a.token,requestStatus:2,expiresIn:Ew(a.expiresIn),creationTime:Date.now()}}async function Q0(a,e){const s=(await e.json()).error;return Ra.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Y0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function vw(a,{refreshToken:e}){const i=Y0(a);return i.append("Authorization",Tw(e)),i}async function K0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function Ew(a){return Number(a.replace("s","000"))}function Tw(a){return`${q0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=G0(a),o=Y0(a),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:q0,appId:a.appId,sdkVersion:j0},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await K0(()=>fetch(s,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:F0(_.authToken)}}else throw await Q0("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=/^[cdef][\w-]{21}$/,yd="";function ww(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=Rw(a);return Sw.test(i)?i:yd}catch{return yd}}function Rw(a){return bw(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function $0(a,e){const i=Nc(a);J0(i,e),Cw(i,e)}function J0(a,e){const i=Z0.get(a);if(i)for(const s of i)s(e)}function Cw(a,e){const i=Dw();i&&i.postMessage({key:a,fid:e}),Iw()}let Aa=null;function Dw(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=a=>{J0(a.data.key,a.data.fid)}),Aa}function Iw(){Z0.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-installations-database",Nw=1,Ca="firebase-installations-store";let Yf=null;function sm(){return Yf||(Yf=lv(Vw,Nw,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Ca)}}})),Yf}async function fc(a,e){const i=Nc(a),o=(await sm()).transaction(Ca,"readwrite"),h=o.objectStore(Ca),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&$0(a,e.fid),e}async function W0(a){const e=Nc(a),s=(await sm()).transaction(Ca,"readwrite");await s.objectStore(Ca).delete(e),await s.done}async function Mc(a,e){const i=Nc(a),o=(await sm()).transaction(Ca,"readwrite"),h=o.objectStore(Ca),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&$0(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(a){let e;const i=await Mc(a.appConfig,s=>{const o=Mw(s),h=Ow(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===yd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Mw(a){const e=a||{fid:ww(),registrationStatus:0};return tE(e)}function Ow(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ra.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=xw(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Uw(a)}:{installationEntry:e}}async function xw(a,e){try{const i=await Aw(a,e);return fc(a.appConfig,i)}catch(i){throw H0(i)&&i.customData.serverCode===409?await W0(a.appConfig):await fc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Uw(a){let e=await G_(a.appConfig);for(;e.registrationStatus===1;)await X0(100),e=await G_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await lm(a);return s||i}return e}function G_(a){return Mc(a,e=>{if(!e)throw Ra.create("installation-not-found");return tE(e)})}function tE(a){return Lw(a)?{fid:a.fid,registrationStatus:0}:a}function Lw(a){return a.registrationStatus===1&&a.registrationTime+B0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw({appConfig:a,heartbeatServiceProvider:e},i){const s=zw(a,i),o=vw(a,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:j0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await K0(()=>fetch(s,g));if(v.ok){const _=await v.json();return F0(_)}else throw await Q0("Generate Auth Token",v)}function zw(a,{fid:e}){return`${G0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(a,e=!1){let i;const s=await Mc(a.appConfig,h=>{if(!eE(h))throw Ra.create("not-registered");const d=h.authToken;if(!e&&jw(d))return h;if(d.requestStatus===1)return i=kw(a,e),h;{if(!navigator.onLine)throw Ra.create("app-offline");const g=Hw(h);return i=Bw(a,g),g}});return i?await i:s.authToken}async function kw(a,e){let i=await F_(a.appConfig);for(;i.authToken.requestStatus===1;)await X0(100),i=await F_(a.appConfig);const s=i.authToken;return s.requestStatus===0?om(a,e):s}function F_(a){return Mc(a,e=>{if(!eE(e))throw Ra.create("not-registered");const i=e.authToken;return Gw(i)?{...e,authToken:{requestStatus:0}}:e})}async function Bw(a,e){try{const i=await Pw(a,e),s={...e,authToken:i};return await fc(a.appConfig,s),i}catch(i){if(H0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await W0(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await fc(a.appConfig,s)}throw i}}function eE(a){return a!==void 0&&a.registrationStatus===2}function jw(a){return a.requestStatus===2&&!qw(a)}function qw(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+gw}function Hw(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function Gw(a){return a.requestStatus===1&&a.requestTime+B0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(a){const e=a,{installationEntry:i,registrationPromise:s}=await lm(e);return s?s.catch(console.error):om(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(a,e=!1){const i=a;return await Yw(i),(await om(i,e)).token}async function Yw(a){const{registrationPromise:e}=await lm(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(a){if(!a||!a.options)throw Kf("App Configuration");if(!a.name)throw Kf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Kf(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Kf(a){return Ra.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="installations",Xw="installations-internal",Zw=a=>{const e=a.getProvider("app").getImmediate(),i=Kw(e),s=mo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$w=a=>{const e=a.getProvider("app").getImmediate(),i=mo(e,nE).getImmediate();return{getId:()=>Fw(i),getToken:o=>Qw(i,o)}};function Jw(){Rr(new Mi(nE,Zw,"PUBLIC")),Rr(new Mi(Xw,$w,"PRIVATE"))}Jw();ai(k0,am);ai(k0,am,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="analytics",Ww="firebase_id",tR="origin",eR=60*1e3,nR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",um="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new mc("analytics","Analytics",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(a){if(!a.startsWith(um)){const e=En.create("invalid-gtag-resource",{gtagURL:a});return on.warn(e.message),""}return a}function iE(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function aR(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function sR(a,e){const i=aR("firebase-js-sdk-policy",{createScriptURL:rR}),s=document.createElement("script"),o=`${um}?l=${a}&id=${e}`;s.src=i?i?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function lR(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function oR(a,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const v=(await iE(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){on.error(g)}a("config",o,h)}async function uR(a,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await iE(i);for(const v of d){const _=g.find(D=>D.measurementId===v),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",s,o||{})}catch(h){on.error(h)}}function cR(a,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,v]=d;await uR(a,e,i,g,v)}else if(h==="config"){const[g,v]=d;await oR(a,e,i,s,g,v)}else if(h==="consent"){const[g,v]=d;a("consent",g,v)}else if(h==="get"){const[g,v,_]=d;a("get",g,v,_)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){on.error(g)}}return o}function hR(a,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=cR(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function fR(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(um)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=30,mR=1e3;class gR{constructor(e={},i=mR){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rE=new gR;function pR(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function yR(a){const{appId:e,apiKey:i}=a,s={method:"GET",headers:pR(i)},o=nR.replace("{app-id}",e),h=await fetch(o,s);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function _R(a,e=rE,i){const{appId:s,apiKey:o,measurementId:h}=a.options;if(!s)throw En.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw En.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new TR;return setTimeout(async()=>{g.abort()},eR),aE({appId:s,apiKey:o,measurementId:h},d,g,e)}async function aE(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=rE){const{appId:h,measurementId:d}=a;try{await vR(s,e)}catch(g){if(d)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await yR(a);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!ER(v)){if(o.deleteThrottleMetadata(h),d)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?Py(i,o.intervalMillis,dR):Py(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),on.debug(`Calling attemptFetch again in ${_} millis`),aE(a,A,s,o)}}function vR(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),s(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ER(a){if(!(a instanceof Or)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class TR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AR(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const h=await e,d={...s,send_to:h};a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(){if(iv())try{await rv()}catch(a){return on.warn(En.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return on.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SR(a,e,i,s,o,h,d){const g=_R(a);g.then(M=>{i[M.measurementId]=M.appId,a.options.measurementId&&M.measurementId!==a.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>on.error(M)),e.push(g);const v=bR().then(M=>{if(M)return s.getId()}),[_,A]=await Promise.all([g,v]);fR(h)||sR(h,_.measurementId),o("js",new Date);const D=d?.config??{};return D[tR]="firebase",D.update=!0,A!=null&&(D[Ww]=A),o("config",_.measurementId,D),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},Q_=[];const Y_={};let Xf="dataLayer",RR="gtag",K_,sE,X_=!1;function CR(){const a=[];if(S1()&&a.push("This is a browser extension environment."),R1()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=En.create("invalid-analytics-context",{errorInfo:e});on.warn(i.message)}}function DR(a,e,i){CR();const s=a.options.appId;if(!s)throw En.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(to[s]!=null)throw En.create("already-exists",{id:s});if(!X_){lR(Xf);const{wrappedGtag:h,gtagCore:d}=hR(to,Q_,Y_,Xf,RR);sE=h,K_=d,X_=!0}return to[s]=SR(a,Q_,Y_,e,K_,Xf,i),new wR(a)}function IR(a=uv()){a=Hn(a);const e=mo(a,dc);return e.isInitialized()?e.getImmediate():VR(a)}function VR(a,e={}){const i=mo(a,dc);if(i.isInitialized()){const o=i.getImmediate();if(eo(e,i.getOptions()))return o;throw En.create("already-initialized")}return i.initialize({options:e})}function NR(a,e,i,s){a=Hn(a),AR(sE,to[a.app.options.appId],e,i,s).catch(o=>on.error(o))}const Z_="@firebase/analytics",$_="0.10.18";function MR(){Rr(new Mi(dc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return DR(s,o,i)},"PUBLIC")),Rr(new Mi("analytics-internal",a,"PRIVATE")),ai(Z_,$_),ai(Z_,$_,"esm2020");function a(e){try{const i=e.getProvider(dc).getImmediate();return{logEvent:(s,o,h)=>NR(i,s,o,h)}}catch(i){throw En.create("interop-component-reg-failed",{reason:i})}}}MR();const OR={apiKey:"AIzaSyASowKpD20sEZPA33VG5Mxy0KuJeFIziT4",authDomain:"ruleta-colores.firebaseapp.com",projectId:"ruleta-colores",storageBucket:"ruleta-colores.firebasestorage.app",messagingSenderId:"1088398378468",appId:"1:1088398378468:web:ffe2a14beab711aed573f1",measurementId:"G-NV2GD0KQKC"},lE=ov(OR),J_=K2(lE);IR(lE);const xR=()=>{const[a,e]=Me.useState(["Rojo","Azul","Verde","Amarillo","Naranja","Blanco/Morado","Negro","Rosa"]),[i,s]=Me.useState(""),[o,h]=Me.useState({}),[d,g]=Me.useState(!1),[v,_]=Me.useState(""),[A,D]=Me.useState([]),[M,Q]=Me.useState(0),[tt,rt]=Me.useState(""),W=Me.useRef(null),St=0,Tt=new URLSearchParams(window.location.search),gt=Tt.get("mode")==="public",wt=!gt,ft=Tt.get("room")||"default",It=Y2(J_,"rooms",ft);Me.useEffect(()=>{const G=localStorage.getItem("wheelPlayerName")||"";rt(G)},[]),Me.useEffect(()=>{localStorage.setItem("wheelPlayerName",tt||"")},[tt]),Me.useEffect(()=>{const G=async()=>{wt&&await sw(It,{colors:a,customColors:o,history:[],updatedAt:H_()},{merge:!0})},J=lw(It,ut=>{if(ut.exists()){const w=ut.data();e(w.colors||[]),h(w.customColors||{}),D(w.history||[])}else G()});return()=>J()},[ft,wt]);const I=G=>dw(J_,async J=>{const ut=await J.get(It),w=ut.exists()?ut.data():{colors:[],history:[],customColors:{}},F=G({colors:w.colors||[],history:w.history||[],customColors:w.customColors||{}});J.set(It,{...F,updatedAt:H_()},{merge:!0})}),b=async()=>{if(!wt)return;const G=i.trim();G&&(await I(({colors:J,history:ut,customColors:w})=>J.includes(G)?{colors:J,history:ut,customColors:w}:{colors:[...J,G],history:ut,customColors:w}),s(""))},C=async G=>{wt&&await I(({colors:J,history:ut,customColors:w})=>{const F=J.filter(nt=>nt!==G),it={...w};return delete it[G],{colors:F,history:ut,customColors:it}})},O=async(G,J)=>{wt&&await I(({colors:ut,history:w,customColors:F})=>({colors:ut,history:w,customColors:{...F,[G]:J}}))},V=()=>{const G=(tt||"").trim();if(!G){alert("Por favor, escribe tu nombre antes de girar.");return}if(a.length===0||d)return;g(!0),_("");const J=360/a.length,ut=(M%360+360)%360,w=Math.floor(Math.random()*a.length),F=w*J+J/2,it=5+Math.random()*5,nt=(St-F-ut+360)%360,ot=M+it*360+nt;Q(ot),setTimeout(async()=>{const bt=a[w];await I(({colors:ht,history:se,customColors:zt})=>{if(!ht.includes(bt))return{colors:ht,history:se,customColors:zt};const Ke=ht.length===1?ht:ht.filter(Li=>Li!==bt),Lr=[...se||[],{color:bt,ts:Date.now(),by:G}];return{colors:Ke,history:Lr,customColors:zt}}),_(bt),g(!1)},3e3)},U=()=>{if(a.length===1){const J=a[0],ut={Rojo:"#dc2626",Azul:"#2563eb",Verde:"#16a34a",Amarillo:"#eab308",Naranja:"#ea580c",Morado:"#9333ea","Blanco/Morado":"#9333ea",Rosa:"#ec4899",Violeta:"#7c3aed",Cyan:"#0891b2",Negro:"#1f2937",Blanco:"#FFFFFF",Gris:"#6b7280",Celeste:"#0ea5e9",Turquesa:"#14b8a6",Lima:"#84cc16",Dorado:"#f59e0b",Plateado:"#9ca3af",Marrón:"#92400e",Café:"#78350f",Beige:"#d6d3d1",Coral:"#f97316",Magenta:"#d946ef",Índigo:"#4f46e5",Lavanda:"#a78bfa","Rojo Oscuro":"#991b1b","Azul Claro":"#60a5fa","Verde Claro":"#4ade80","Amarillo Claro":"#fde047","Rosa Claro":"#f9a8d4","Morado Claro":"#c084fc","Verde Oscuro":"#15803d","Azul Oscuro":"#1e40af","Naranja Claro":"#fb923c",Esmeralda:"#10b981",Rubí:"#be123c",Zafiro:"#1e40af",Ámbar:"#f59e0b",Jade:"#059669",Carmesí:"#dc2626"},w=o[J]||ut[J]||"hsl(0, 70%, 50%)";return $.jsxs("g",{children:[$.jsx("circle",{cx:"150",cy:"150",r:"140",fill:w,stroke:"#fff",strokeWidth:"3"}),$.jsx("text",{x:"150",y:"150",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"18",fontWeight:"bold",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:J})]},J)}const G=360/Math.max(a.length,1);return a.map((J,ut)=>{const w=ut*G,F=(ut+1)*G,it=G>180?1:0,nt=150+140*Math.cos((w-90)*Math.PI/180),ot=150+140*Math.sin((w-90)*Math.PI/180),bt=150+140*Math.cos((F-90)*Math.PI/180),ht=150+140*Math.sin((F-90)*Math.PI/180),se=["M 150 150",`L ${nt} ${ot}`,`A 140 140 0 ${it} 1 ${bt} ${ht}`,"Z"].join(" "),zt={Rojo:"#dc2626",Azul:"#2563eb",Verde:"#16a34a",Amarillo:"#eab308",Naranja:"#ea580c",Morado:"#9333ea","Blanco/Morado":"#9333ea",Rosa:"#ec4899",Violeta:"#7c3aed",Cyan:"#0891b2",Negro:"#1f2937",Blanco:"#FFFFFF",Gris:"#6b7280",Celeste:"#0ea5e9",Turquesa:"#14b8a6",Lima:"#84cc16",Dorado:"#f59e0b",Plateado:"#9ca3af",Marrón:"#92400e",Café:"#78350f",Beige:"#d6d3d1",Coral:"#f97316",Magenta:"#d946ef",Índigo:"#4f46e5",Lavanda:"#a78bfa","Rojo Oscuro":"#991b1b","Azul Claro":"#60a5fa","Verde Claro":"#4ade80","Amarillo Claro":"#fde047","Rosa Claro":"#f9a8d4","Morado Claro":"#c084fc","Verde Oscuro":"#15803d","Azul Oscuro":"#1e40af","Naranja Claro":"#fb923c",Esmeralda:"#10b981",Rubí:"#be123c",Zafiro:"#1e40af",Ámbar:"#f59e0b",Jade:"#059669",Carmesí:"#dc2626"},Ke=o[J]||zt[J]||`hsl(${ut*360/Math.max(a.length,1)}, 70%, 50%)`;return $.jsxs("g",{children:[$.jsx("path",{d:se,fill:Ke,stroke:"#fff",strokeWidth:"3"}),$.jsx("text",{x:150+80*Math.cos((w+G/2-90)*Math.PI/180),y:150+80*Math.sin((w+G/2-90)*Math.PI/180),textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"11",fontWeight:"bold",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:J})]},J)})},R=async()=>{wt&&(await I(({colors:G,history:J,customColors:ut})=>({colors:[...new Set([...G,...J.map(F=>F.color)])],history:[],customColors:ut})),_(""),Q(0))},ee=()=>{const J=`${window.location.href.split("?")[0]}?room=${ft}&mode=public`;navigator.clipboard.writeText(J).catch(()=>{}),alert("¡Link público copiado! "+J)},Xt=()=>{const J=`${window.location.href.split("?")[0]}?room=${ft}`;navigator.clipboard.writeText(J).catch(()=>{}),alert("¡Link admin copiado! "+J)},q=a.length>0&&!d&&(tt||"").trim().length>0;return $.jsx("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[$.jsxs("div",{className:"text-center mb-6",children:[$.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["🎯 Ruleta de Colores",gt&&$.jsx("span",{className:"text-lg text-blue-600 font-normal",children:" - Modo Invitado"}),wt&&$.jsx("span",{className:"text-lg text-green-600 font-normal",children:" - Modo Administrador"})]}),$.jsx("p",{className:"text-gray-600",children:gt?"¡Gira la ruleta y diviértete! Solo puedes girar, no modificar colores.":"Agrega colores, gira la ruleta y comparte con tus amigos"}),$.jsxs("p",{className:"text-xs text-gray-500",children:["Sala: ",$.jsx("code",{children:ft})]})]}),$.jsxs("div",{className:"mb-4 max-w-md mx-auto",children:[$.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tu nombre (requerido para girar)"}),$.jsx("input",{type:"text",value:tt,onChange:G=>rt(G.target.value),placeholder:"Escribe tu nombre...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),wt&&$.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[$.jsxs("button",{onClick:ee,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:[$.jsx(Oy,{size:16})," Compartir Link Público"]}),$.jsxs("button",{onClick:Xt,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:[$.jsx(Oy,{size:16})," Compartir Link Admin"]}),$.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:[$.jsx(WT,{size:16})," Reiniciar Juego"]})]}),$.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"relative inline-block mb-4",children:a.length>0?$.jsxs($.Fragment,{children:[$.jsx("svg",{width:"300",height:"300",className:"drop-shadow-lg",children:$.jsx("g",{ref:W,style:{transform:`rotate(${M}deg)`,transformOrigin:"150px 150px",transition:d?"transform 3s cubic-bezier(0.23, 1, 0.32, 1)":"none"},children:U()})}),$.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 z-10",children:$.jsxs("div",{className:"relative",children:[$.jsx("div",{className:"absolute top-1 left-0 w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-black opacity-30"}),$.jsx("div",{className:"w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-red-600 relative z-10"}),$.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-red-600 rounded-full border-2 border-white"})]})})]}):$.jsx("div",{className:"w-72 h-72 bg-gray-200 rounded-full flex items-center justify-center",children:$.jsx("p",{className:"text-gray-500 text-center",children:wt?`Agrega colores
para comenzar`:`No hay colores
disponibles`})})}),$.jsx("button",{onClick:V,disabled:!q,className:`w-32 h-32 rounded-full text-white font-bold text-lg shadow-lg transform transition-all ${q?a.length===1?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 hover:scale-105 active:scale-95":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105 active:scale-95":"bg-gray-400 cursor-not-allowed"}`,title:q?"Girar la ruleta":"Escribe tu nombre para poder girar",children:d?$.jsx(e1,{className:"animate-spin mx-auto",size:24}):a.length===1?$.jsxs("div",{className:"text-center",children:[$.jsx("div",{children:"🏆"}),$.jsx("div",{className:"text-xs",children:"FINAL"})]}):"GIRAR"}),v&&$.jsxs("div",{className:`mt-4 p-4 border rounded-lg ${a.length===1?"bg-gradient-to-r from-yellow-100 to-orange-100 border-yellow-300":"bg-green-100 border-green-300"}`,children:[$.jsx("h3",{className:`text-lg font-bold ${a.length===1?"text-yellow-800":"text-green-800"}`,children:a.length===1?"🏆 ¡COLOR GANADOR FINAL!":"¡Resultado!"}),$.jsx("p",{className:`text-2xl font-bold ${a.length===1?"text-yellow-900":"text-green-900"}`,children:v}),$.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Sacado por: ",$.jsx("span",{className:"font-semibold",children:(tt||"").trim()})]})]})]}),$.jsxs("div",{children:[wt&&$.jsxs("div",{className:"mb-6",children:[$.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Agregar Color"}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("input",{type:"text",value:i,onChange:G=>s(G.target.value),onKeyDown:G=>G.key==="Enter"&&b(),placeholder:"Escribe un color...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),$.jsx("button",{onClick:b,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:$.jsx($T,{size:20})})]})]}),wt&&$.jsxs("div",{className:"mb-6",children:[$.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores Disponibles (",a.length,")"]}),$.jsx("div",{className:"max-h-48 overflow-y-auto",children:a.length>0?$.jsx("div",{className:"space-y-2",children:a.map((G,J)=>$.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded",children:[$.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[$.jsx("span",{className:"flex-1",children:G}),$.jsx("input",{type:"color",value:o[G]||"#3b82f6",onChange:ut=>O(G,ut.target.value),className:"w-8 h-8 rounded border-2 border-gray-300 cursor-pointer",title:`Cambiar color de ${G}`})]}),$.jsx("button",{onClick:()=>C(G),className:"text-red-500 hover:text-red-700 ml-2",children:$.jsx(r1,{size:16})})]},J))}):$.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),gt&&$.jsxs("div",{className:"mb-6",children:[$.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores en la Ruleta (",a.length,")"]}),$.jsx("div",{className:"max-h-48 overflow-y-auto",children:a.length>0?a.map((G,J)=>$.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded",children:[$.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:o[G]||"#3b82f6"}}),$.jsx("span",{children:G})]},J)):$.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),$.jsxs("div",{children:[$.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Historial (",A.length,")"]}),$.jsx("div",{className:"max-h-48 overflow-y-auto",children:A.length>0?A.slice().reverse().map((G,J)=>$.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded text-sm",children:[$.jsx("span",{className:"font-medium",children:G.color}),$.jsx("span",{className:"text-gray-500 ml-2",children:new Date(G.ts).toLocaleTimeString()}),G.by&&$.jsxs("span",{className:"text-gray-600 ml-2",children:["por ",$.jsx("strong",{children:G.by})]})]},J)):$.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aún no hay selecciones"})})]})]})]}),$.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[$.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:wt?"🔧 Instrucciones para Administrador:":"🎮 Instrucciones para Invitado:"}),wt?$.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[$.jsxs("li",{children:["1. Abre con ",$.jsx("code",{children:"?room=tuSala"})," (ej. fiesta1)."]}),$.jsx("li",{children:"2. Agrega/edita colores y comparte el link público."}),$.jsx("li",{children:"3. Todos verán la misma ruleta en tiempo real."})]}):$.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[$.jsxs("li",{children:["1. Escribe tu nombre y pulsa ",$.jsx("strong",{children:"GIRAR"}),"."]}),$.jsx("li",{children:"2. El color elegido se quita para todos automáticamente."})]})]})]})})};function UR(){return $.jsx(xR,{})}GT.createRoot(document.getElementById("root")).render($.jsx(Me.StrictMode,{children:$.jsx(UR,{})}));
