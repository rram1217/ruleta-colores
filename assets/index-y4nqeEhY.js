(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var xf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function LT(){if(Sy)return Gl;Sy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var by;function PT(){return by||(by=1,xf.exports=LT()),xf.exports}var J=PT(),Uf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function zT(){if(wy)return wt;wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,st={};function W(D,X,H){this.props=D,this.context=X,this.refs=st,this.updater=H||F}W.prototype.isReactComponent={},W.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function bt(){}bt.prototype=W.prototype;function St(D,X,H){this.props=D,this.context=X,this.refs=st,this.updater=H||F}var yt=St.prototype=new bt;yt.constructor=St,et(yt,W.prototype),yt.isPureReactComponent=!0;var jt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function I(D,X,H,Z,tt,ot){return H=ot.ref,{$$typeof:r,type:D,key:X,ref:H!==void 0?H:null,props:ot}}function S(D,X){return I(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(H){return X[H]})}var V=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):X.toString(36)}function R(){}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function qt(D,X,H,Z,tt){var ot=typeof D;(ot==="undefined"||ot==="boolean")&&(D=null);var at=!1;if(D===null)at=!0;else switch(ot){case"bigint":case"string":case"number":at=!0;break;case"object":switch(D.$$typeof){case r:case e:at=!0;break;case A:return at=D._init,qt(at(D._payload),X,H,Z,tt)}}if(at)return tt=tt(D),at=Z===""?"."+U(D,0):Z,jt(tt)?(H="",at!=null&&(H=at.replace(V,"$&/")+"/"),qt(tt,X,H,"",function(Ze){return Ze})):tt!=null&&(w(tt)&&(tt=S(tt,H+(tt.key==null||D&&D.key===tt.key?"":(""+tt.key).replace(V,"$&/")+"/")+at)),X.push(tt)),1;at=0;var zt=Z===""?".":Z+":";if(jt(D))for(var Ot=0;Ot<D.length;Ot++)Z=D[Ot],ot=zt+U(Z,Ot),at+=qt(Z,X,H,ot,tt);else if(Ot=M(D),typeof Ot=="function")for(D=Ot.call(D),Ot=0;!(Z=D.next()).done;)Z=Z.value,ot=zt+U(Z,Ot++),at+=qt(Z,X,H,ot,tt);else if(ot==="object"){if(typeof D.then=="function")return qt(ie(D),X,H,Z,tt);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return at}function q(D,X,H){if(D==null)return D;var Z=[],tt=0;return qt(D,Z,"","",function(ot){return X.call(H,ot,tt++)}),Z}function it(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(H){(D._status===0||D._status===-1)&&(D._status=1,D._result=H)},function(H){(D._status===0||D._status===-1)&&(D._status=2,D._result=H)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Mt(){}return wt.Children={map:q,forEach:function(D,X,H){q(D,function(){X.apply(this,arguments)},H)},count:function(D){var X=0;return q(D,function(){X++}),X},toArray:function(D){return q(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=W,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=St,wt.StrictMode=a,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return mt.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,X,H){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=et({},D.props),tt=D.key,ot=void 0;if(X!=null)for(at in X.ref!==void 0&&(ot=void 0),X.key!==void 0&&(tt=""+X.key),X)!Et.call(X,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&X.ref===void 0||(Z[at]=X[at]);var at=arguments.length-2;if(at===1)Z.children=H;else if(1<at){for(var zt=Array(at),Ot=0;Ot<at;Ot++)zt[Ot]=arguments[Ot+2];Z.children=zt}return I(D.type,tt,void 0,void 0,ot,Z)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},wt.createElement=function(D,X,H){var Z,tt={},ot=null;if(X!=null)for(Z in X.key!==void 0&&(ot=""+X.key),X)Et.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(tt[Z]=X[Z]);var at=arguments.length-2;if(at===1)tt.children=H;else if(1<at){for(var zt=Array(at),Ot=0;Ot<at;Ot++)zt[Ot]=arguments[Ot+2];tt.children=zt}if(D&&D.defaultProps)for(Z in at=D.defaultProps,at)tt[Z]===void 0&&(tt[Z]=at[Z]);return I(D,ot,void 0,void 0,null,tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=w,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:it}},wt.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},wt.startTransition=function(D){var X=mt.T,H={};mt.T=H;try{var Z=D(),tt=mt.S;tt!==null&&tt(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Mt,ht)}catch(ot){ht(ot)}finally{mt.T=X}},wt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},wt.use=function(D){return mt.H.use(D)},wt.useActionState=function(D,X,H){return mt.H.useActionState(D,X,H)},wt.useCallback=function(D,X){return mt.H.useCallback(D,X)},wt.useContext=function(D){return mt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,X){return mt.H.useDeferredValue(D,X)},wt.useEffect=function(D,X,H){var Z=mt.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,X)},wt.useId=function(){return mt.H.useId()},wt.useImperativeHandle=function(D,X,H){return mt.H.useImperativeHandle(D,X,H)},wt.useInsertionEffect=function(D,X){return mt.H.useInsertionEffect(D,X)},wt.useLayoutEffect=function(D,X){return mt.H.useLayoutEffect(D,X)},wt.useMemo=function(D,X){return mt.H.useMemo(D,X)},wt.useOptimistic=function(D,X){return mt.H.useOptimistic(D,X)},wt.useReducer=function(D,X,H){return mt.H.useReducer(D,X,H)},wt.useRef=function(D){return mt.H.useRef(D)},wt.useState=function(D){return mt.H.useState(D)},wt.useSyncExternalStore=function(D,X,H){return mt.H.useSyncExternalStore(D,X,H)},wt.useTransition=function(){return mt.H.useTransition()},wt.version="19.1.1",wt}var Ry;function vd(){return Ry||(Ry=1,Uf.exports=zT()),Uf.exports}var Re=vd(),Lf={exports:{}},Fl={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function kT(){return Cy||(Cy=1,(function(r){function e(q,it){var ht=q.length;q.push(it);t:for(;0<ht;){var Mt=ht-1>>>1,D=q[Mt];if(0<o(D,it))q[Mt]=it,q[ht]=D,ht=Mt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var it=q[0],ht=q.pop();if(ht!==it){q[0]=ht;t:for(var Mt=0,D=q.length,X=D>>>1;Mt<X;){var H=2*(Mt+1)-1,Z=q[H],tt=H+1,ot=q[tt];if(0>o(Z,ht))tt<D&&0>o(ot,Z)?(q[Mt]=ot,q[tt]=ht,Mt=tt):(q[Mt]=Z,q[H]=ht,Mt=H);else if(tt<D&&0>o(ot,ht))q[Mt]=ot,q[tt]=ht,Mt=tt;else break t}}return it}function o(q,it){var ht=q.sortIndex-it.sortIndex;return ht!==0?ht:q.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,M=3,F=!1,et=!1,st=!1,W=!1,bt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function jt(q){for(var it=i(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=q)a(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function mt(q){if(st=!1,jt(q),!et)if(i(v)!==null)et=!0,Et||(Et=!0,U());else{var it=i(_);it!==null&&qt(mt,it.startTime-q)}}var Et=!1,I=-1,S=5,w=-1;function O(){return W?!0:!(r.unstable_now()-w<S)}function V(){if(W=!1,Et){var q=r.unstable_now();w=q;var it=!0;try{t:{et=!1,st&&(st=!1,St(I),I=-1),F=!0;var ht=M;try{e:{for(jt(q),C=i(v);C!==null&&!(C.expirationTime>q&&O());){var Mt=C.callback;if(typeof Mt=="function"){C.callback=null,M=C.priorityLevel;var D=Mt(C.expirationTime<=q);if(q=r.unstable_now(),typeof D=="function"){C.callback=D,jt(q),it=!0;break e}C===i(v)&&a(v),jt(q)}else a(v);C=i(v)}if(C!==null)it=!0;else{var X=i(_);X!==null&&qt(mt,X.startTime-q),it=!1}}break t}finally{C=null,M=ht,F=!1}it=void 0}}finally{it?U():Et=!1}}}var U;if(typeof yt=="function")U=function(){yt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=V,U=function(){ie.postMessage(null)}}else U=function(){bt(V,0)};function qt(q,it){I=bt(function(){q(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ht=M;M=it;try{return q()}finally{M=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(q,it){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ht=M;M=q;try{return it()}finally{M=ht}},r.unstable_scheduleCallback=function(q,it,ht){var Mt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Mt+ht:Mt):ht=Mt,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,q={id:A++,callback:it,priorityLevel:q,startTime:ht,expirationTime:D,sortIndex:-1},ht>Mt?(q.sortIndex=ht,e(_,q),i(v)===null&&q===i(_)&&(st?(St(I),I=-1):st=!0,qt(mt,ht-Mt))):(q.sortIndex=D,e(v,q),et||F||(et=!0,Et||(Et=!0,U()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var it=M;return function(){var ht=M;M=it;try{return q.apply(this,arguments)}finally{M=ht}}}})(zf)),zf}var Dy;function BT(){return Dy||(Dy=1,Pf.exports=kT()),Pf.exports}var kf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function jT(){if(Iy)return Ye;Iy=1;var r=vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:F}):A==="script"&&a.d.X(v,{crossOrigin:C,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var Vy;function qT(){if(Vy)return kf.exports;Vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kf.exports=jT(),kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function HT(){if(Ny)return Fl;Ny=1;var r=BT(),e=vd(),i=qT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),St=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case W:return"Profiler";case st:return"StrictMode";case mt:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case yt:return(t.displayName||"Context")+".Provider";case St:return(t._context.displayName||"Context")+".Consumer";case jt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var qt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Mt=[],D=-1;function X(t){return{current:t}}function H(t){0>D||(t.current=Mt[D],Mt[D]=null,D--)}function Z(t,n){D++,Mt[D]=t.current,t.current=n}var tt=X(null),ot=X(null),at=X(null),zt=X(null);function Ot(t,n){switch(Z(at,n),Z(ot,t),Z(tt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$p(n),t=Jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(tt),Z(tt,t)}function Ze(){H(tt),H(ot),H(at)}function yi(t){t.memoizedState!==null&&Z(zt,t);var n=tt.current,s=Jp(n,t.type);n!==s&&(Z(ot,t),Z(tt,s))}function Sn(t){ot.current===t&&(H(tt),H(ot)),zt.current===t&&(H(zt),kl._currentValue=ht)}var $e=Object.prototype.hasOwnProperty,bn=r.unstable_scheduleCallback,Le=r.unstable_cancelCallback,Xn=r.unstable_shouldYield,wn=r.unstable_requestPaint,pe=r.unstable_now,xr=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,_e=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Uc=r.unstable_LowPriority,Ba=r.unstable_IdlePriority,Lc=r.log,qs=r.unstable_setDisableYieldValue,Hi=null,Ge=null;function Rn(t){if(typeof Lc=="function"&&qs(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Hi,t)}catch{}}var Je=Math.clz32?Math.clz32:bo,Pc=Math.log,So=Math.LN2;function bo(t){return t>>>=0,t===0?32:31-(Pc(t)/So|0)|0}var Zn=256,Gi=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=zn(l):(y&=E,y!==0?c=zn(y):s||(s=E&~t,s!==0&&(c=zn(s))))):(E=l&~f,E!==0?c=zn(E):y!==0?c=zn(y):s||(s=l&~t,s!==0&&(c=zn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Fi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ur(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var t=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),t}function Qi(){var t=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),t}function Lr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var G=31-Je(s),Y=1<<G;E[G]=0,b[G]=-1;var k=z[G];if(k!==null)for(z[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}s&=~Y}l!==0&&Yi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Yi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ki(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Je(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:yy(t.type))}function zc(t,n){var s=it.p;try{return it.p=t,n()}finally{it.p=s}}var $n=Math.random().toString(36).slice(2),ce="__reactFiber$"+$n,Pe="__reactProps$"+$n,Ei="__reactContainer$"+$n,Hs="__reactEvents$"+$n,Gs="__reactListeners$"+$n,kc="__reactHandles$"+$n,kn="__reactResources$"+$n,Xi="__reactMarker$"+$n;function Pr(t){delete t[ce],delete t[Pe],delete t[Hs],delete t[Gs],delete t[kc]}function Jn(t){var n=t[ce];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ei]||s[ce]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ny(t);t!==null;){if(s=t[ce])return s;t=ny(t)}return n}t=s,s=t.parentNode}return null}function Wn(t){if(t=t[ce]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function $i(t){var n=t[kn];return n||(n=t[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Xi]=!0}var Ro=new Set,Fs={};function ti(t,n){ei(t,n),ei(t+"Capture",n)}function ei(t,n){for(Fs[t]=n,t=0;t<n.length;t++)Ro.add(n[t])}var Qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ni={},zr={};function Bc(t){return $e.call(zr,t)?!0:$e.call(ni,t)?!1:Qs.test(t)?zr[t]=!0:(ni[t]=!0,!1)}function Ys(t,n,s){if(Bc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ks(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Dn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Xs,kr;function Ti(t){if(Xs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xs=n&&n[1]||"",kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+t+kr}var Br=!1;function jr(t,n){if(!t||Br)return"";Br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var k=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){k=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){k=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Br=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ti(s):""}function jc(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return jr(t.type,!1);case 11:return jr(t.type.render,!1);case 1:return jr(t.type,!0);case 31:return Ti("Activity");default:return""}}function Bn(t){try{var n="";do n+=jc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function se(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zs(t){var n=Ji(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Wi(t){t._valueTracker||(t._valueTracker=Zs(t))}function Qt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $s=/[\n"\\]/g;function Ve(t){return t.replace($s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ga(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+se(n)):t.value!==""+se(n)&&(t.value=""+se(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qa(t,y,se(n)):s!=null?Qa(t,y,se(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+se(E):t.removeAttribute("name")}function Fa(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+se(s):"",n=n!=null?""+se(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qa(t,n,s){n==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ts(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+se(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Co(t,n,s){if(n!=null&&(n=""+se(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+se(s):""}function Do(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(qt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=se(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function In(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Si.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ka(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Ya(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ya(t,f,n[f])}function qr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return Vo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xa=null;function Za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var es=null,We=null;function No(t){var n=Wn(t);if(n&&(t=n.stateNode)){var s=t[Pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Pe]||null;if(!c)throw Error(a(90));Ga(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Qt(l)}break t;case"textarea":Co(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ts(t,!!s.multiple,n,!1)}}}var Js=!1;function Ws(t,n,s){if(Js)return t(n,s);Js=!0;try{var l=t(n);return l}finally{if(Js=!1,(es!==null||We!==null)&&(Eu(),es&&(n=es,t=We,We=es=null,No(n),t)))for(n=0;n<t.length;n++)No(t[n])}}function ns(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(tn)try{var is={};Object.defineProperty(is,"passive",{get:function(){bi=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{bi=!1}var Vn=null,$t=null,Hr=null;function Mo(){if(Hr)return Hr;var t,n=$t,s=n.length,l,c="value"in Vn?Vn.value:Vn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return Hr=c.slice(t,1<l?1-l:void 0)}function tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function $a(){return!1}function Se(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:$a,this.isPropagationStopped=$a,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),n}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=Se(Fe),ir=A({},Fe,{view:0,detail:0}),sr=Se(ir),Gr,rr,ii,ar=A({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(Gr=t.screenX-ii.screenX,rr=t.screenY-ii.screenY):rr=Gr=0,ii=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:rr}}),lr=Se(ar),qc=A({},ar,{dataTransfer:0}),Oo=Se(qc),or=A({},ir,{relatedTarget:0}),Fr=Se(or),xo=A({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=Se(xo),Wa=A({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uo=Se(Wa),Qr=A({},Fe,{data:0}),tl=Se(Qr),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function Yr(){return zo}var ko=A({},ir,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kr=Se(ko),en=A({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Se(en),Bo=A({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),ss=Se(Bo),u=A({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Se(u),p=A({},ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Se(p),P=A({},Fe,{newState:0,oldState:0}),j=Se(P),nt=[9,13,27,32],At=tn&&"CompositionEvent"in window,Wt=null;tn&&"documentMode"in document&&(Wt=document.documentMode);var Ht=tn&&"TextEvent"in window&&!Wt,fe=tn&&(!At||Wt&&8<Wt&&11>=Wt),hn=" ",si=!1;function qn(t,n){switch(t){case"keyup":return nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function nl(t,n){switch(t){case"compositionend":return Hn(n);case"keypress":return n.which!==32?null:(si=!0,hn);case"textInput":return t=n.data,t===hn&&si?null:t;default:return null}}function uE(t,n){if(Gn)return t==="compositionend"||!At&&qn(t,n)?(t=Mo(),Hr=$t=Vn=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cE[t.type]:n==="textarea"}function fm(t,n,s,l){es?We?We.push(l):We=[l]:es=l,n=Ru(n,"onChange"),0<n.length&&(s=new nr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var il=null,sl=null;function hE(t){Qp(t,0)}function jo(t){var n=Zi(t);if(Qt(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(tn){var Hc;if(tn){var Gc="oninput"in document;if(!Gc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Gc=typeof gm.oninput=="function"}Hc=Gc}else Hc=!1;mm=Hc&&(!document.documentMode||9<document.documentMode)}function pm(){il&&(il.detachEvent("onpropertychange",ym),sl=il=null)}function ym(t){if(t.propertyName==="value"&&jo(sl)){var n=[];fm(n,sl,t,Za(t)),Ws(hE,n)}}function fE(t,n,s){t==="focusin"?(pm(),il=n,sl=s,il.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function dE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(sl)}function mE(t,n){if(t==="click")return jo(n)}function gE(t,n){if(t==="input"||t==="change")return jo(n)}function pE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:pE;function rl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!$e.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var s=_m(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_m(s)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ai(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ai(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var yE=tn&&"documentMode"in document&&11>=document.documentMode,Xr=null,Qc=null,al=null,Yc=!1;function Am(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yc||Xr==null||Xr!==Ai(l)||(l=Xr,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=Ru(Qc,"onSelect"),0<l.length&&(n=new nr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Xr)))}function ur(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Zr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Kc={},Sm={};tn&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function cr(t){if(Kc[t])return Kc[t];if(!Zr[t])return t;var n=Zr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sm)return Kc[t]=n[s];return t}var bm=cr("animationend"),wm=cr("animationiteration"),Rm=cr("animationstart"),_E=cr("transitionrun"),vE=cr("transitionstart"),EE=cr("transitioncancel"),Cm=cr("transitionend"),Dm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Fn(t,n){Dm.set(t,n),ti(n,[t])}var Im=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var s=Im.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Bn(n)},Im.set(t,n),n)}return{value:t,source:n,stack:Bn(n)}}var Mn=[],$r=0,Zc=0;function qo(){for(var t=$r,n=Zc=$r=0;n<t;){var s=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var c=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Vm(s,c,f)}}function Ho(t,n,s,l){Mn[$r++]=t,Mn[$r++]=n,Mn[$r++]=s,Mn[$r++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,s,l){return Ho(t,n,s,l),Go(t)}function Jr(t,n){return Ho(t,null,null,n),Go(t)}function Vm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Je(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Go(t){if(50<Nl)throw Nl=0,sf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wr={};function TE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,s,l){return new TE(t,n,s,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var s=t.alternate;return s===null?(s=dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Jc(t)&&(y=1);else if(typeof t=="string")y=ST(t,s,tt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=dn(31,s,n,c),t.elementType=w,t.lanes=f,t;case et:return hr(s.children,c,f,n);case st:y=8,c|=24;break;case W:return t=dn(12,s,n,c|2),t.elementType=W,t.lanes=f,t;case mt:return t=dn(13,s,n,c),t.elementType=mt,t.lanes=f,t;case Et:return t=dn(19,s,n,c),t.elementType=Et,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case yt:y=10;break t;case St:y=9;break t;case jt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=dn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function hr(t,n,s,l){return t=dn(7,t,l,n),t.lanes=s,t}function Wc(t,n,s){return t=dn(6,t,null,n),t.lanes=s,t}function th(t,n,s){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ta=[],ea=0,Qo=null,Yo=0,On=[],xn=0,fr=null,Ci=1,Di="";function dr(t,n){ta[ea++]=Yo,ta[ea++]=Qo,Qo=t,Yo=n}function Mm(t,n,s){On[xn++]=Ci,On[xn++]=Di,On[xn++]=fr,fr=t;var l=Ci;t=Di;var c=32-Je(l)-1;l&=~(1<<c),s+=1;var f=32-Je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ci=1<<32-Je(n)+c|s<<c|l,Di=f+t}else Ci=1<<f|s<<c|l,Di=t}function eh(t){t.return!==null&&(dr(t,1),Mm(t,1,0))}function nh(t){for(;t===Qo;)Qo=ta[--ea],ta[ea]=null,Yo=ta[--ea],ta[ea]=null;for(;t===fr;)fr=On[--xn],On[xn]=null,Di=On[--xn],On[xn]=null,Ci=On[--xn],On[xn]=null}var nn=null,le=null,Bt=!1,mr=null,ri=!1,ih=Error(a(519));function gr(t){var n=Error(a(418,""));throw ul(Nn(n,t)),ih}function Om(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ce]=t,n[Pe]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<Ol.length;s++)It(Ol[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Fa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wi(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Do(n,l.value,l.defaultValue,l.children),Wi(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zp(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Cu),n=!0):n=!1,n||gr(t)}function xm(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:nn=nn.return}}function ll(t){if(t!==nn)return!1;if(!Bt)return xm(t),Bt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ef(t.type,t.memoizedProps)),s=!s),s&&le&&gr(t),xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){le=Yn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,Es(t.type)?(t=bf,bf=null,le=t):le=n):le=nn?Yn(t.stateNode.nextSibling):null;return!0}function ol(){le=nn=null,Bt=!1}function Um(){var t=mr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),mr=null),t}function ul(t){mr===null?mr=[t]:mr.push(t)}var sh=X(null),pr=null,Ii=null;function rs(t,n,s){Z(sh,n._currentValue),n._currentValue=s}function Vi(t){t._currentValue=sh.current,H(sh)}function rh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ah(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),rh(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),rh(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cl(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;fn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===zt.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&ah(n,t,s,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){pr=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return Lm(pr,t)}function Xo(t,n){return pr===null&&yr(t),Lm(t,n)}function Lm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(t===null)throw Error(a(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return s}var AE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},SE=r.unstable_scheduleCallback,bE=r.unstable_NormalPriority,be={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new AE,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&SE(bE,function(){t.controller.abort()})}var fl=null,oh=0,na=0,ia=null;function wE(t,n){if(fl===null){var s=fl=[];oh=0,na=hf(),ia={status:"pending",value:void 0,then:function(l){s.push(l)}}}return oh++,n.then(Pm,Pm),n}function Pm(){if(--oh===0&&fl!==null){ia!==null&&(ia.status="fulfilled");var t=fl;fl=null,na=0,ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var zm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&wE(t,n),zm!==null&&zm(t,n)};var _r=X(null);function uh(){var t=_r.current;return t!==null?t:Jt.pooledCache}function Zo(t,n){n===null?Z(_r,_r.current):Z(_r,n.pool)}function km(){var t=uh();return t===null?null:{parent:be._currentValue,pool:t}}var dl=Error(a(460)),Bm=Error(a(474)),$o=Error(a(542)),ch={then:function(){}};function jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jo(){}function qm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Jo,Jo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(Jo,Jo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw ml=n,dl}}var ml=null;function Hm(){if(ml===null)throw Error(a(459));var t=ml;return ml=null,t}function Gm(t){if(t===dl||t===$o)throw Error(a(483))}var as=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),Vm(t,null,s),n}return Ho(t,l,n,s),Go(t)}function gl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ki(t,s)}}function dh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mh=!1;function pl(){if(mh){var t=ia;if(t!==null)throw t}}function yl(t,n,s,l){mh=!1;var c=t.updateQueue;as=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?f=z:y.next=z,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=z=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(l&k)===k){k!==0&&k===na&&(mh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,gt=E;k=n;var Xt=s;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){Y=vt.call(Xt,Y,k);break t}Y=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,k=typeof vt=="function"?vt.call(Xt,Y,k):vt,k==null)break t;Y=A({},Y,k);break t;case 2:as=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,b=Y):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ps|=y,t.lanes=y,t.memoizedState=Y}}function Fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fm(s[t],n)}var sa=X(null),Wo=X(0);function Ym(t,n){t=Pi,Z(Wo,t),Z(sa,n),Pi=t|n.baseLanes}function gh(){Z(Wo,Pi),Z(sa,sa.current)}function ph(){Pi=Wo.current,H(sa),H(Wo)}var us=0,Rt=null,Yt=null,ve=null,tu=!1,ra=!1,vr=!1,eu=0,_l=0,aa=null,CE=0;function de(){throw Error(a(321))}function yh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fn(t[s],n[s]))return!1;return!0}function _h(t,n,s,l,c,f){return us=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Vg:Ng,vr=!1,f=s(l,c),vr=!1,ra&&(f=Xm(n,s,l,c)),Km(t),f}function Km(t){q.H=lu;var n=Yt!==null&&Yt.next!==null;if(us=0,ve=Yt=Rt=null,tu=!1,_l=0,aa=null,n)throw Error(a(300));t===null||Ne||(t=t.dependencies,t!==null&&Ko(t)&&(Ne=!0))}function Xm(t,n,s,l){Rt=t;var c=0;do{if(ra&&(aa=null),_l=0,ra=!1,25<=c)throw Error(a(301));if(c+=1,ve=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=xE,f=n(s,l)}while(ra);return f}function DE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function vh(){var t=eu!==0;return eu=0,t}function Eh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Th(t){if(tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tu=!1}us=0,ve=Yt=Rt=null,ra=!1,_l=eu=0,aa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Rt.memoizedState=ve=t:ve=ve.next=t,ve}function Ee(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ve===null?Rt.memoizedState:ve.next;if(n!==null)ve=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ve===null?Rt.memoizedState=ve=t:ve=ve.next=t}return ve}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,aa===null&&(aa=[]),t=qm(aa,t,n),n=Rt,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Vg:Ng),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===yt)return Qe(t)}throw Error(a(438,String(t)))}function Sh(t){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ah(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Ni(t,n){return typeof n=="function"?n(t):n}function iu(t){var n=Ee();return bh(n,Yt,t)}function bh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(us&Y)===Y){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===na&&(G=!0);else if((us&k)===k){z=z.next,k===na&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Rt.lanes|=k,ps|=k;Y=z.action,vr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else k={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,Rt.lanes|=Y,ps|=Y;z=z.next}while(z!==null&&z!==n);if(b===null?y=f:b.next=E,!fn(f,t.memoizedState)&&(Ne=!0,G&&(s=ia,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);fn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Zm(t,n,s){var l=Rt,c=Ee(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!fn((Yt||c).memoizedState,s);y&&(c.memoizedState=s,Ne=!0),c=c.queue;var E=Wm.bind(null,l,c,t);if(El(2048,8,E,[t]),c.getSnapshot!==n||y||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,la(9,su(),Jm.bind(null,l,c,s,n),null),Jt===null)throw Error(a(349));f||(us&124)!==0||$m(l,n,s)}return s}function $m(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Ah(),Rt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Jm(t,n,s,l){n.value=s,n.getSnapshot=l,tg(n)&&eg(t)}function Wm(t,n,s){return s(function(){tg(n)&&eg(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fn(t,s)}catch{return!0}}function eg(t){var n=Jr(t,2);n!==null&&_n(n,t,2)}function Rh(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),vr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function ng(t,n,s,l){return t.baseState=s,bh(t,Yt,typeof l=="function"?l:Ni)}function IE(t,n,s,l,c){if(au(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ig(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ig(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=s(c,l),b=q.S;b!==null&&b(y,E),sg(t,n,E)}catch(z){Ch(t,n,z)}finally{q.T=f}}else try{f=s(c,l),sg(t,n,f)}catch(z){Ch(t,n,z)}}function sg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){rg(t,n,l)},function(l){return Ch(t,n,l)}):rg(t,n,s)}function rg(t,n,s){n.status="fulfilled",n.value=s,ag(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ig(t,s)))}function Ch(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(Bt){var s=Jt.formState;if(s!==null){t:{var l=Rt;if(Bt){if(le){e:{for(var c=le,f=ri;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Yn(c.nextSibling),l=c.data==="F!";break t}}gr(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=l,s=Cg.bind(null,Rt,l),l.dispatch=s,l=Rh(!1),f=Mh.bind(null,Rt,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=IE.bind(null,Rt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function ug(t){var n=Ee();return cg(n,Yt,t)}function cg(t,n,s){if(n=bh(t,n,lg)[0],t=iu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(y){throw y===dl?$o:y}else l=n;n=Ee();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,la(9,su(),VE.bind(null,c,s),null)),[l,f,t]}function VE(t,n){t.action=n}function hg(t){var n=Ee(),s=Yt;if(s!==null)return cg(n,s,t);Ee(),n=n.memoizedState,s=Ee();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function la(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ah(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function su(){return{destroy:void 0,resource:void 0}}function fg(){return Ee().memoizedState}function ru(t,n,s,l){var c=rn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=la(1|n,su(),s,l)}function El(t,n,s,l){var c=Ee();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&yh(l,Yt.memoizedState.deps)?c.memoizedState=la(n,f,s,l):(Rt.flags|=t,c.memoizedState=la(1|n,f,s,l))}function dg(t,n){ru(8390656,8,t,n)}function mg(t,n){El(2048,8,t,n)}function gg(t,n){return El(4,2,t,n)}function pg(t,n){return El(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,s){s=s!=null?s.concat([t]):null,El(4,4,yg.bind(null,n,t),s)}function Dh(){}function vg(t,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Eg(t,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),vr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,n],l}function Ih(t,n,s){return s===void 0||(us&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Sp(),Rt.lanes|=t,ps|=t,s)}function Tg(t,n,s,l){return fn(s,n)?s:sa.current!==null?(t=Ih(t,s,l),fn(t,n)||(Ne=!0),t):(us&42)===0?(Ne=!0,t.memoizedState=s):(t=Sp(),Rt.lanes|=t,ps|=t,n)}function Ag(t,n,s,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Mh(t,!1,n,s);try{var b=c(),z=q.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=RE(b,l);Tl(t,n,G,yn(t))}else Tl(t,n,l,yn(t))}catch(Y){Tl(t,n,{then:function(){},status:"rejected",reason:Y},yn())}finally{it.p=f,q.T=y}}function NE(){}function Vh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Sg(t).queue;Ag(t,c,n,ht,s===null?NE:function(){return bg(t),s(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Sg(t).next.queue;Tl(t,n,{},yn())}function Nh(){return Qe(kl)}function wg(){return Ee().memoizedState}function Rg(){return Ee().memoizedState}function ME(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();t=ls(s);var l=os(n,t,s);l!==null&&(_n(l,n,s),gl(l,n,s)),n={cache:lh()},t.payload=n;return}n=n.return}}function OE(t,n,s){var l=yn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},au(t)?Dg(n,s):(s=$c(t,n,s,l),s!==null&&(_n(s,t,l),Ig(s,n,l)))}function Cg(t,n,s){var l=yn();Tl(t,n,s,l)}function Tl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(au(t))Dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,y))return Ho(t,n,c,0),Jt===null&&qo(),!1}catch{}finally{}if(s=$c(t,n,c,l),s!==null)return _n(s,t,l),Ig(s,n,l),!0}return!1}function Mh(t,n,s,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(a(479))}else n=$c(t,s,l,2),n!==null&&_n(n,t,2)}function au(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Dg(t,n){ra=tu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ig(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ki(t,s)}}var lu={readContext:Qe,use:nu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Vg={readContext:Qe,use:nu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Qe,useEffect:dg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ru(4194308,4,yg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(vr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var c=s(n);if(vr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=OE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rh(t);var n=t.queue,s=Cg.bind(null,Rt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Dh,useDeferredValue:function(t,n){var s=rn();return Ih(s,t,n)},useTransition:function(){var t=Rh(!1);return t=Ag.bind(null,Rt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Rt,c=rn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(xt&124)!==0||$m(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,dg(Wm.bind(null,l,f,t),[t]),l.flags|=2048,la(9,su(),Jm.bind(null,l,f,s,n),null),s},useId:function(){var t=rn(),n=Jt.identifierPrefix;if(Bt){var s=Di,l=Ci;s=(l&~(1<<32-Je(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=eu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=CE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:og,useActionState:og,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mh.bind(null,Rt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return rn().memoizedState=ME.bind(null,Rt)}},Ng={readContext:Qe,use:nu,useCallback:vg,useContext:Qe,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:iu,useRef:fg,useState:function(){return iu(Ni)},useDebugValue:Dh,useDeferredValue:function(t,n){var s=Ee();return Tg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=iu(Ni)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Zm,useId:wg,useHostTransitionStatus:Nh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var s=Ee();return ng(s,Yt,t,n)},useMemoCache:Sh,useCacheRefresh:Rg},xE={readContext:Qe,use:nu,useCallback:vg,useContext:Qe,useEffect:mg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:pg,useMemo:Eg,useReducer:wh,useRef:fg,useState:function(){return wh(Ni)},useDebugValue:Dh,useDeferredValue:function(t,n){var s=Ee();return Yt===null?Ih(s,t,n):Tg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=wh(Ni)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Zm,useId:wg,useHostTransitionStatus:Nh,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var s=Ee();return Yt!==null?ng(s,Yt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Rg},oa=null,Al=0;function ou(t){var n=Al;return Al+=1,oa===null&&(oa=[]),qm(oa,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mg(t){var n=t._init;return n(t._payload)}function Og(t){function n(x,N){if(t){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function s(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=Ri(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Q){return N===null||N.tag!==6?(N=Wc(L,x.mode,Q),N.return=x,N):(N=c(N,L),N.return=x,N)}function b(x,N,L,Q){var lt=L.type;return lt===et?G(x,N,L.props.children,Q,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Mg(lt)===N.type)?(N=c(N,L.props),Sl(N,L),N.return=x,N):(N=Fo(L.type,L.key,L.props,null,x.mode,Q),Sl(N,L),N.return=x,N)}function z(x,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=th(L,x.mode,Q),N.return=x,N):(N=c(N,L.children||[]),N.return=x,N)}function G(x,N,L,Q,lt){return N===null||N.tag!==7?(N=hr(L,x.mode,Q,lt),N.return=x,N):(N=c(N,L),N.return=x,N)}function Y(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wc(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return L=Fo(N.type,N.key,N.props,null,x.mode,L),Sl(L,N),L.return=x,L;case F:return N=th(N,x.mode,L),N.return=x,N;case S:var Q=N._init;return N=Q(N._payload),Y(x,N,L)}if(qt(N)||U(N))return N=hr(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Y(x,ou(N),L);if(N.$$typeof===yt)return Y(x,Xo(x,N),L);uu(x,N)}return null}function k(x,N,L,Q){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===lt?b(x,N,L,Q):null;case F:return L.key===lt?z(x,N,L,Q):null;case S:return lt=L._init,L=lt(L._payload),k(x,N,L,Q)}if(qt(L)||U(L))return lt!==null?null:G(x,N,L,Q,null);if(typeof L.then=="function")return k(x,N,ou(L),Q);if(L.$$typeof===yt)return k(x,N,Xo(x,L),Q);uu(x,L)}return null}function B(x,N,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(N,x,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return x=x.get(Q.key===null?L:Q.key)||null,b(N,x,Q,lt);case F:return x=x.get(Q.key===null?L:Q.key)||null,z(N,x,Q,lt);case S:var Ct=Q._init;return Q=Ct(Q._payload),B(x,N,L,Q,lt)}if(qt(Q)||U(Q))return x=x.get(L)||null,G(N,x,Q,lt,null);if(typeof Q.then=="function")return B(x,N,L,ou(Q),lt);if(Q.$$typeof===yt)return B(x,N,L,Xo(N,Q),lt);uu(N,Q)}return null}function vt(x,N,L,Q){for(var lt=null,Ct=null,ct=N,pt=N=0,Oe=null;ct!==null&&pt<L.length;pt++){ct.index>pt?(Oe=ct,ct=null):Oe=ct.sibling;var kt=k(x,ct,L[pt],Q);if(kt===null){ct===null&&(ct=Oe);break}t&&ct&&kt.alternate===null&&n(x,ct),N=f(kt,N,pt),Ct===null?lt=kt:Ct.sibling=kt,Ct=kt,ct=Oe}if(pt===L.length)return s(x,ct),Bt&&dr(x,pt),lt;if(ct===null){for(;pt<L.length;pt++)ct=Y(x,L[pt],Q),ct!==null&&(N=f(ct,N,pt),Ct===null?lt=ct:Ct.sibling=ct,Ct=ct);return Bt&&dr(x,pt),lt}for(ct=l(ct);pt<L.length;pt++)Oe=B(ct,x,pt,L[pt],Q),Oe!==null&&(t&&Oe.alternate!==null&&ct.delete(Oe.key===null?pt:Oe.key),N=f(Oe,N,pt),Ct===null?lt=Oe:Ct.sibling=Oe,Ct=Oe);return t&&ct.forEach(function(ws){return n(x,ws)}),Bt&&dr(x,pt),lt}function gt(x,N,L,Q){if(L==null)throw Error(a(151));for(var lt=null,Ct=null,ct=N,pt=N=0,Oe=null,kt=L.next();ct!==null&&!kt.done;pt++,kt=L.next()){ct.index>pt?(Oe=ct,ct=null):Oe=ct.sibling;var ws=k(x,ct,kt.value,Q);if(ws===null){ct===null&&(ct=Oe);break}t&&ct&&ws.alternate===null&&n(x,ct),N=f(ws,N,pt),Ct===null?lt=ws:Ct.sibling=ws,Ct=ws,ct=Oe}if(kt.done)return s(x,ct),Bt&&dr(x,pt),lt;if(ct===null){for(;!kt.done;pt++,kt=L.next())kt=Y(x,kt.value,Q),kt!==null&&(N=f(kt,N,pt),Ct===null?lt=kt:Ct.sibling=kt,Ct=kt);return Bt&&dr(x,pt),lt}for(ct=l(ct);!kt.done;pt++,kt=L.next())kt=B(ct,x,pt,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?pt:kt.key),N=f(kt,N,pt),Ct===null?lt=kt:Ct.sibling=kt,Ct=kt);return t&&ct.forEach(function(UT){return n(x,UT)}),Bt&&dr(x,pt),lt}function Xt(x,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===et){if(N.tag===7){s(x,N.sibling),Q=c(N,L.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Mg(lt)===N.type){s(x,N.sibling),Q=c(N,L.props),Sl(Q,L),Q.return=x,x=Q;break t}s(x,N);break}else n(x,N);N=N.sibling}L.type===et?(Q=hr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Fo(L.type,L.key,L.props,null,x.mode,Q),Sl(Q,L),Q.return=x,x=Q)}return y(x);case F:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(x,N.sibling),Q=c(N,L.children||[]),Q.return=x,x=Q;break t}else{s(x,N);break}else n(x,N);N=N.sibling}Q=th(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return lt=L._init,L=lt(L._payload),Xt(x,N,L,Q)}if(qt(L))return vt(x,N,L,Q);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),gt(x,N,L,Q)}if(typeof L.then=="function")return Xt(x,N,ou(L),Q);if(L.$$typeof===yt)return Xt(x,N,Xo(x,L),Q);uu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(x,N.sibling),Q=c(N,L),Q.return=x,x=Q):(s(x,N),Q=Wc(L,x.mode,Q),Q.return=x,x=Q),y(x)):s(x,N)}return function(x,N,L,Q){try{Al=0;var lt=Xt(x,N,L,Q);return oa=null,lt}catch(ct){if(ct===dl||ct===$o)throw ct;var Ct=dn(29,ct,null,x.mode);return Ct.lanes=Q,Ct.return=x,Ct}finally{}}}var ua=Og(!0),xg=Og(!1),Un=X(null),ai=null;function cs(t){var n=t.alternate;Z(we,we.current&1),Z(Un,t),ai===null&&(n===null||sa.current!==null||n.memoizedState!==null)&&(ai=t)}function Ug(t){if(t.tag===22){if(Z(we,we.current),Z(Un,t),ai===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ai=t)}}else hs()}function hs(){Z(we,we.current),Z(Un,Un.current)}function Mi(t){H(Un),ai===t&&(ai=null),H(we)}var we=X(0);function cu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Sf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Oh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var xh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=yn(),c=ls(l);c.payload=n,s!=null&&(c.callback=s),n=os(t,c,l),n!==null&&(_n(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=yn(),c=ls(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=os(t,c,l),n!==null&&(_n(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=yn(),l=ls(s);l.tag=2,n!=null&&(l.callback=n),n=os(t,l,s),n!==null&&(_n(n,t,s),gl(n,t,s))}};function Lg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!rl(s,l)||!rl(c,f):!0}function Pg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&xh.enqueueReplaceState(n,n.state,null)}function Er(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zg(t){hu(t)}function kg(t){console.error(t)}function Bg(t){hu(t)}function fu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,s){return s=ls(s),s.tag=3,s.payload={element:null},s.callback=function(){fu(t,n)},s}function qg(t){return t=ls(t),t.tag=3,t}function Hg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){jg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){jg(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function UE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&cl(n,s,c,!0),s=Un.current,s!==null){switch(s.tag){case 13:return ai===null?af():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return s.flags|=65536,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),of(t,l,c)),!1}throw Error(a(435,s.tag))}return of(t,l,c),af(),!1}if(Bt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(a(422),{cause:l}),ul(Nn(t,s)))):(l!==ih&&(n=Error(a(423),{cause:l}),ul(Nn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,s),c=Uh(t.stateNode,l,c),dh(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),Vl===null?Vl=[f]:Vl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Uh(s.stateNode,l,t),dh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=qg(c),Hg(c,t,s,l),dh(s,c),!1}s=s.return}while(s!==null);return!1}var Gg=Error(a(461)),Ne=!1;function ze(t,n,s,l){n.child=t===null?xg(n,null,s,l):ua(n,t.child,s,l)}function Fg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return yr(n),l=_h(t,n,s,y,f,c),E=vh(),t!==null&&!Ne?(Eh(t,n,c),Oi(t,n,c)):(Bt&&E&&eh(n),n.flags|=1,ze(t,n,l,c),n.child)}function Qg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,l,c)):(t=Fo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:rl,s(y,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ri(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(rl(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Lh(t,n,s,l,c)}function Kg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,f!==null?f.cachePool:null),f!==null?Ym(n,f):gh(),Ug(n);else return n.lanes=n.childLanes=536870912,Xg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Zo(n,f.cachePool),Ym(n,f),hs(),n.memoizedState=null):(t!==null&&Zo(n,null),gh(),hs());return ze(t,n,c,s),n.child}function Xg(t,n,s,l){var c=uh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Zo(n,null),gh(),Ug(n),t!==null&&cl(t,n,l,!0),null}function du(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Lh(t,n,s,l,c){return yr(n),s=_h(t,n,s,l,void 0,c),l=vh(),t!==null&&!Ne?(Eh(t,n,c),Oi(t,n,c)):(Bt&&l&&eh(n),n.flags|=1,ze(t,n,s,c),n.child)}function Zg(t,n,s,l,c,f){return yr(n),n.updateQueue=null,s=Xm(n,l,s,c),Km(t),l=vh(),t!==null&&!Ne?(Eh(t,n,f),Oi(t,n,f)):(Bt&&l&&eh(n),n.flags|=1,ze(t,n,s,f),n.child)}function $g(t,n,s,l,c){if(yr(n),n.stateNode===null){var f=Wr,y=s.contextType;typeof y=="object"&&y!==null&&(f=Qe(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Qe(y):Wr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Oh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&xh.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Er(s,E);f.props=b;var z=f.context,G=s.contextType;y=Wr,typeof G=="object"&&G!==null&&(y=Qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Pg(n,f,l,y),as=!1;var k=n.memoizedState;f.state=k,yl(n,l,f,c),pl(),z=n.memoizedState,E||k!==z||as?(typeof Y=="function"&&(Oh(n,s,Y,l),z=n.memoizedState),(b=as||Lg(n,s,b,l,k,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),y=n.memoizedProps,G=Er(s,y),f.props=G,Y=n.pendingProps,k=f.context,z=s.contextType,b=Wr,typeof z=="object"&&z!==null&&(b=Qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||k!==b)&&Pg(n,f,l,b),as=!1,k=n.memoizedState,f.state=k,yl(n,l,f,c),pl();var B=n.memoizedState;y!==Y||k!==B||as||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof E=="function"&&(Oh(n,s,E,l),B=n.memoizedState),(G=as||Lg(n,s,G,l,k,B,b)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ua(n,t.child,null,c),n.child=ua(n,null,s,c)):ze(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Jg(t,n,s,l){return ol(),n.flags|=256,ze(t,n,s,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(t){return{baseLanes:t,cachePool:km()}}function kh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Ln),t}function Wg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?cs(n):hs(),Bt){var E=le,b;if(b=E){t:{for(b=E,E=ri;b.nodeType!==8;){if(!E){E=null;break t}if(b=Yn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:fr!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},b=dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,nn=n,le=null,b=!0):b=!1}b||gr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Sf(E)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return E=l.children,l=l.fallback,c?(hs(),c=n.mode,E=mu({mode:"hidden",children:E},c),l=hr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=zh(s),c.childLanes=kh(t,y,s),n.memoizedState=Ph,l):(cs(n),Bh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(cs(n),n.flags&=-257,n=jh(t,n,s)):n.memoizedState!==null?(hs(),n.child=t.child,n.flags|=128,n=null):(hs(),c=l.fallback,E=n.mode,l=mu({mode:"visible",children:l.children},E),c=hr(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ua(n,t.child,null,s),l=n.child,l.memoizedState=zh(s),l.childLanes=kh(t,y,s),n.memoizedState=Ph,n=c);else if(cs(n),Sf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,ul({value:l,source:null,stack:null}),n=jh(t,n,s)}else if(Ne||cl(t,n,s,!1),y=(s&t.childLanes)!==0,Ne||y){if(y=Jt,y!==null&&(l=s&-s,l=(l&42)!==0?1:qa(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Jr(t,l),_n(y,t,l),Gg;E.data==="$?"||af(),n=jh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,le=Yn(E.nextSibling),nn=n,Bt=!0,mr=null,ri=!1,t!==null&&(On[xn++]=Ci,On[xn++]=Di,On[xn++]=fr,Ci=t.id,Di=t.overflow,fr=n),n=Bh(n,l.children),n.flags|=4096);return n}return c?(hs(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=Ri(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=Ri(z,c):(c=hr(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=zh(s):(b=E.cachePool,b!==null?(z=be._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=km(),E={baseLanes:E.baseLanes|s,cachePool:b}),c.memoizedState=E,c.childLanes=kh(t,y,s),n.memoizedState=Ph,l):(cs(n),s=t.child,t=s.sibling,s=Ri(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Bh(t,n){return n=mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mu(t,n){return t=dn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jh(t,n,s){return ua(n,t.child,null,s),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,s)}function qh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function ep(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,s),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tp(t,s,n);else if(t.tag===19)tp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(we,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&cu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),qh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&cu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}qh(n,!0,s,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(cl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ri(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ri(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function LE(t,n,s){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),rs(n,be,t.memoizedState.cache),ol();break;case 27:case 5:yi(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:rs(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(t,n,s):(cs(n),t=Oi(t,n,s),t!==null?t.sibling:null);cs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(cl(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return ep(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,Kg(t,n,s);case 24:rs(n,be,t.memoizedState.cache)}return Oi(t,n,s)}function np(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Hh(t,s)&&(n.flags&128)===0)return Ne=!1,LE(t,n,s);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Mm(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=Er(l,t),n.tag=1,n=$g(null,n,l,t,s)):(n.tag=0,n=Lh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===jt){n.tag=11,n=Fg(null,n,l,t,s);break t}else if(c===I){n.tag=14,n=Qg(null,n,l,t,s);break t}}throw n=ie(l)||l,Error(a(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Er(l,n.pendingProps),$g(t,n,l,c,s);case 3:t:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),yl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,rs(n,be,l),l!==f.cache&&ah(n,[be],s,!0),pl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(t,n,l,s);break t}else if(l!==c){c=Nn(Error(a(424)),n),ul(c),n=Jg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Yn(t.firstChild),nn=n,Bt=!0,mr=null,ri=!0,s=xg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ol(),l===c){n=Oi(t,n,s);break t}ze(t,n,l,s)}n=n.child}return n;case 26:return du(t,n),t===null?(s=ay(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,t=n.pendingProps,l=Du(at.current).createElement(s),l[ce]=n,l[Pe]=t,Be(l,s,t),he(l),n.stateNode=l):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return yi(n),t===null&&Bt&&(l=n.stateNode=iy(n.type,n.pendingProps,at.current),nn=n,ri=!0,c=le,Es(n.type)?(bf=c,le=Yn(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,s),du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=cT(l,n.type,n.pendingProps,ri),l!==null?(n.stateNode=l,nn=n,le=Yn(l.firstChild),ri=!1,c=!0):c=!1),c||gr(n)),yi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:y!==null&&Ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,DE,null,null,s),kl._currentValue=c),du(t,n),ze(t,n,l,s),n.child;case 6:return t===null&&Bt&&((t=s=le)&&(s=hT(s,n.pendingProps,ri),s!==null?(n.stateNode=s,nn=n,le=null,t=!0):t=!1),t||gr(n)),null;case 13:return Wg(t,n,s);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ua(n,null,l,s):ze(t,n,l,s),n.child;case 11:return Fg(t,n,n.type,n.pendingProps,s);case 7:return ze(t,n,n.pendingProps,s),n.child;case 8:return ze(t,n,n.pendingProps.children,s),n.child;case 12:return ze(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,rs(n,n.type,l.value),ze(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,yr(n),c=Qe(c),l=l(c),n.flags|=1,ze(t,n,l,s),n.child;case 14:return Qg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return ep(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=mu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ri(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Kg(t,n,s);case 24:return yr(n),l=Qe(be),t===null?(c=uh(),c===null&&(c=Jt,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},hh(n),rs(n,be,c)):((t.lanes&s)!==0&&(fh(t,n),yl(n,null,null,s),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rs(n,be,l)):(l=f.cache,rs(n,be,l),l!==c.cache&&ah(n,[be],s,!0))),ze(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function xi(t){t.flags|=4}function ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hy(n)){if(n=Un.current,n!==null&&((xt&4194048)===xt?ai!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==ai))throw ml=ch,Bm;t.flags|=8192}}function gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Qi():536870912,t.lanes|=n,da|=n)}function bl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function PE(t,n,s){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(be),Ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ll(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),re(n),null;case 26:return s=n.memoizedState,t===null?(xi(n),s!==null?(re(n),ip(n,s)):(re(n),n.flags&=-16777217)):s?s!==t.memoizedState?(xi(n),re(n),ip(n,s)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&xi(n),re(n),n.flags&=-16777217),null;case 27:Sn(n),s=at.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}t=tt.current,ll(n)?Om(n):(t=iy(c,l,s),n.stateNode=t,xi(n))}return re(n),null;case 5:if(Sn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(t=tt.current,ll(n))Om(n);else{switch(c=Du(at.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[ce]=n,t[Pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&xi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=at.current,ll(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=nn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zp(t.nodeValue,s)),t||gr(n)}else t=Du(t).createTextNode(l),t[ce]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ll(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ce]=n}else ol(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),gu(n,n.updateQueue),re(n),null;case 4:return Ze(),t===null&&gf(n.stateNode.containerInfo),re(n),null;case 10:return Vi(n.type),re(n),null;case 19:if(H(we),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)bl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=cu(t),f!==null){for(n.flags|=128,bl(c,!1),t=f.updateQueue,n.updateQueue=t,gu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Nm(s,t),s=s.sibling;return Z(we,we.current&1|2),n.child}t=t.sibling}c.tail!==null&&pe()>_u&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304)}else{if(!l)if(t=cu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,gu(n,t),bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*pe()-c.renderingStartTime>_u&&s!==536870912&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pe(),n.sibling=null,t=we.current,Z(we,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Mi(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&gu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&H(_r),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Vi(be),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zE(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(be),Ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Sn(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ol()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return H(we),null;case 4:return Ze(),null;case 10:return Vi(n.type),null;case 22:case 23:return Mi(n),ph(),t!==null&&H(_r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(be),null;case 25:return null;default:return null}}function sp(t,n){switch(nh(n),n.tag){case 3:Vi(be),Ze();break;case 26:case 27:case 5:Sn(n);break;case 4:Ze();break;case 13:Mi(n);break;case 19:H(we);break;case 10:Vi(n.type);break;case 22:case 23:Mi(n),ph(),t!==null&&H(_r);break;case 24:Vi(be)}}function wl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){Zt(n,n.return,E)}}function fs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=s,z=E;try{z()}catch(G){Zt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function rp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qm(n,s)}catch(l){Zt(t,t.return,l)}}}function ap(t,n,s){s.props=Er(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Rl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Zt(t,n,c)}}function li(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Zt(t,n,c)}else s.current=null}function lp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Zt(t,t.return,c)}}function Gh(t,n,s){try{var l=t.stateNode;rT(l,t.type,s,n),l[Pe]=n}catch(c){Zt(t,t.return,c)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Es(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Es(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Cu));else if(l!==4&&(l===27&&Es(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,s),t=t.sibling;t!==null;)Qh(t,n,s),t=t.sibling}function pu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Es(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(pu(t,n,s),t=t.sibling;t!==null;)pu(t,n,s),t=t.sibling}function up(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,s),n[ce]=t,n[Pe]=s}catch(f){Zt(t,t.return,f)}}var Ui=!1,me=!1,Yh=!1,cp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function kE(t,n){if(t=t.containerInfo,_f=xu,t=Tm(t),Fc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,b=-1,z=0,G=0,Y=t,k=null;e:for(;;){for(var B;Y!==s||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(B=Y.firstChild)!==null;)k=Y,Y=B;for(;;){if(Y===t)break e;if(k===s&&++z===c&&(E=y),k===f&&++G===l&&(b=y),(B=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=B}s=E===-1||b===-1?null:{start:E,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(vf={focusedElem:t,selectionRange:s},xu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var vt=Er(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Zt(s,s.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Af(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function hp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s),l&4&&wl(5,s);break;case 1:if(ds(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(s,s.return,y)}else{var c=Er(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(s,s.return,y)}}l&64&&rp(s),l&512&&Rl(s,s.return);break;case 3:if(ds(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qm(t,n)}catch(y){Zt(s,s.return,y)}}break;case 27:n===null&&l&4&&up(s);case 26:case 5:ds(t,s),n===null&&l&4&&lp(s),l&512&&Rl(s,s.return);break;case 12:ds(t,s);break;case 13:ds(t,s),l&4&&mp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=KE.bind(null,s),fT(t,s))));break;case 22:if(l=s.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||me,c=Ui;var f=me;Ui=l,(me=n)&&!f?ms(t,s,(s.subtreeFlags&8772)!==0):ds(t,s),Ui=c,me=f}break;case 30:break;default:ds(t,s)}}function fp(t){var n=t.alternate;n!==null&&(t.alternate=null,fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,an=!1;function Li(t,n,s){for(s=s.child;s!==null;)dp(t,n,s),s=s.sibling}function dp(t,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Hi,s)}catch{}switch(s.tag){case 26:me||li(s,n),Li(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||li(s,n);var l=ne,c=an;Es(s.type)&&(ne=s.stateNode,an=!1),Li(t,n,s),Ul(s.stateNode),ne=l,an=c;break;case 5:me||li(s,n);case 6:if(l=ne,c=an,ne=null,Li(t,n,s),ne=l,an=c,ne!==null)if(an)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(f){Zt(s,n,f)}else try{ne.removeChild(s.stateNode)}catch(f){Zt(s,n,f)}break;case 18:ne!==null&&(an?(t=ne,ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Hl(t)):ey(ne,s.stateNode));break;case 4:l=ne,c=an,ne=s.stateNode.containerInfo,an=!0,Li(t,n,s),ne=l,an=c;break;case 0:case 11:case 14:case 15:me||fs(2,s,n),me||fs(4,s,n),Li(t,n,s);break;case 1:me||(li(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ap(s,n,l)),Li(t,n,s);break;case 21:Li(t,n,s);break;case 22:me=(l=me)||s.memoizedState!==null,Li(t,n,s),me=l;break;default:Li(t,n,s)}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(s){Zt(n,n.return,s)}}function BE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cp),n;default:throw Error(a(435,t.tag))}}function Kh(t,n){var s=BE(t);n.forEach(function(l){var c=XE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function mn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Es(E.type)){ne=E.stateNode,an=!1;break t}break;case 5:ne=E.stateNode,an=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ne===null)throw Error(a(160));dp(f,y,c),ne=null,an=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var Qn=null;function gp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),l&4&&(fs(3,t,t.return),wl(3,t),fs(5,t,t.return));break;case 1:mn(n,t),gn(t),l&512&&(me||s===null||li(s,s.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Qn;if(mn(n,t),gn(t),l&512&&(me||s===null||li(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Xi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,s),f[ce]=t,he(f),l=f;break t;case"link":var y=uy("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,s),c.head.appendChild(f);break;case"meta":if(y=uy("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else cy(c,t.type,t.stateNode);else t.stateNode=oy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?cy(c,t.type,t.stateNode):oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,s.memoizedProps)}break;case 27:mn(n,t),gn(t),l&512&&(me||s===null||li(s,s.return)),s!==null&&l&4&&Gh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,t),gn(t),l&512&&(me||s===null||li(s,s.return)),t.flags&32){c=t.stateNode;try{In(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(mn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Nu=null,c=Qn,Qn=Iu(n.containerInfo),mn(n,t),Qn=c,gn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(B){Zt(t,t.return,B)}Yh&&(Yh=!1,pp(t));break;case 4:l=Qn,Qn=Iu(t.stateNode.containerInfo),mn(n,t),gn(t),Qn=l;break;case 12:mn(n,t),gn(t);break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tf=pe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,z=Ui,G=me;if(Ui=z||c,me=G||b,mn(n,t),me=G,Ui=z,gn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||b||Ui||me||Tr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(b,b.return,B)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Zt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kh(t,s))));break;case 19:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(op(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Fh(t);pu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(In(y,""),s.flags&=-33);var E=Fh(t);pu(t,E,y);break;case 3:case 4:var b=s.stateNode.containerInfo,z=Fh(t);Qh(t,z,b);break;default:throw Error(a(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hp(t,n.alternate,n),n=n.sibling}function Tr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fs(4,n,n.return),Tr(n);break;case 1:li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ap(n,n.return,s),Tr(n);break;case 27:Ul(n.stateNode);case 26:case 5:li(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}t=t.sibling}}function ms(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ms(c,f,s),wl(4,f);break;case 1:if(ms(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Fm(b[c],E)}catch(z){Zt(l,l.return,z)}}s&&y&64&&rp(f),Rl(f,f.return);break;case 27:up(f);case 26:case 5:ms(c,f,s),s&&l===null&&y&4&&lp(f),Rl(f,f.return);break;case 12:ms(c,f,s);break;case 13:ms(c,f,s),s&&y&4&&mp(c,f);break;case 22:f.memoizedState===null&&ms(c,f,s),Rl(f,f.return);break;case 30:break;default:ms(c,f,s)}n=n.sibling}}function Xh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hl(s))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function oi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,s,l),n=n.sibling}function yp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,s,l),c&2048&&wl(9,n);break;case 1:oi(t,n,s,l);break;case 3:oi(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){oi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Zt(n,n.return,b)}}else oi(t,n,s,l);break;case 13:oi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,s,l):Cl(t,n):f._visibility&2?oi(t,n,s,l):(f._visibility|=2,ca(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(y,n);break;case 24:oi(t,n,s,l),c&2048&&Zh(n.alternate,n);break;default:oi(t,n,s,l)}}function ca(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=s,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:ca(f,y,E,b,c),wl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ca(f,y,E,b,c):Cl(f,y):(G._visibility|=2,ca(f,y,E,b,c)),c&&z&2048&&Xh(y.alternate,y);break;case 24:ca(f,y,E,b,c),c&&z&2048&&Zh(y.alternate,y);break;default:ca(f,y,E,b,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(s,l),c&2048&&Xh(l.alternate,l);break;case 24:Cl(s,l),c&2048&&Zh(l.alternate,l);break;default:Cl(s,l)}n=n.sibling}}var Dl=8192;function ha(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 26:ha(t),t.flags&Dl&&t.memoizedState!==null&&wT(Qn,t.memoizedState,t.memoizedProps);break;case 5:ha(t);break;case 3:case 4:var n=Qn;Qn=Iu(t.stateNode.containerInfo),ha(t),Qn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,ha(t),Dl=n):ha(t));break;default:ha(t)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,Tp(l,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&fs(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):Il(t);break;default:Il(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,Tp(l,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fs(8,n,n.return),yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function Tp(t,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Me=l;else t:for(s=t;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(fp(l),l===s){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}var jE={getCacheForType:function(t){var n=Qe(be),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},qE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,xt=0,Ft=0,pn=null,gs=!1,fa=!1,$h=!1,Pi=0,oe=0,ps=0,Ar=0,Jh=0,Ln=0,da=0,Vl=null,ln=null,Wh=!1,tf=0,_u=1/0,vu=null,ys=null,ke=0,_s=null,ma=null,ga=0,ef=0,nf=null,Ap=null,Nl=0,sf=null;function yn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var t=na;return t!==0?t:hf()}return vi()}function Sp(){Ln===0&&(Ln=(xt&536870912)===0||Bt?ja():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Ln}function _n(t,n,s){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(pa(t,0),vs(t,xt,Ln,!1)),ue(t,s),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(Ar|=s),oe===4&&vs(t,xt,Ln,!1)),ui(t))}function bp(t,n,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Fi(t,n),c=l?FE(t,n):lf(t,n,!0),f=l;do{if(c===0){fa&&!l&&vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!HE(s)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Vl;var b=E.current.memoizedState.isDehydrated;if(b&&(pa(E,y).flags|=256),y=lf(E,y,!1),y!==2){if($h&&!b){E.errorRecoveryDisabledLanes|=f,Ar|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){pa(t,0),vs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,Ln,!gs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=tf+300-pe(),10<c)){if(vs(l,n,Ln,!gs),Cn(l,0,!0)!==0)break t;l.timeoutHandle=Wp(wp.bind(null,l,s,ln,vu,Wh,n,Ln,Ar,da,gs,f,2,-0,0),c);break t}wp(l,s,ln,vu,Wh,n,Ln,Ar,da,gs,f,0,-0,0)}}break}while(!0);ui(t)}function wp(t,n,s,l,c,f,y,E,b,z,G,Y,k,B){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:bT},_p(n),Y=RT(),Y!==null)){t.cancelPendingCommit=Y(Mp.bind(null,t,n,f,s,l,c,y,E,b,G,1,k,B)),vs(t,f,y,!z);return}Mp(t,n,f,s,l,c,y,E,b)}function HE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(t,n,s,l){n&=~Jh,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Je(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Yi(t,s,n)}function Eu(){return(Gt&6)===0?(Ml(0),!1):!0}function rf(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,Ii=pr=null,Th(t),oa=null,Al=0,t=Dt;for(;t!==null;)sp(t.alternate,t),t=t.return;Dt=null}}function pa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,lT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),rf(),Jt=t,Dt=s=Ri(t.current,null),xt=n,Ft=0,pn=null,gs=!1,fa=Fi(t,n),$h=!1,da=Ln=Jh=Ar=ps=oe=0,ln=Vl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Je(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,qo(),s}function Rp(t,n){Rt=null,q.H=lu,n===dl||n===$o?(n=Hm(),Ft=3):n===Bm?(n=Hm(),Ft=4):Ft=n===Gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Dt===null&&(oe=1,fu(t,Nn(n,t.current)))}function Cp(){var t=q.H;return q.H=lu,t===null?lu:t}function Dp(){var t=q.A;return q.A=jE,t}function af(){oe=4,gs||(xt&4194048)!==xt&&Un.current!==null||(fa=!0),(ps&134217727)===0&&(Ar&134217727)===0||Jt===null||vs(Jt,xt,Ln,!1)}function lf(t,n,s){var l=Gt;Gt|=2;var c=Cp(),f=Dp();(Jt!==t||xt!==n)&&(vu=null,pa(t,n)),n=!1;var y=oe;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,b=pn;switch(Ft){case 8:rf(),y=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var z=Ft;if(Ft=0,pn=null,ya(t,E,b,z),s&&fa){y=0;break t}break;default:z=Ft,Ft=0,pn=null,ya(t,E,b,z)}}GE(),y=oe;break}catch(G){Rp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ii=pr=null,Gt=l,q.H=c,q.A=f,Dt===null&&(Jt=null,xt=0,qo()),y}function GE(){for(;Dt!==null;)Ip(Dt)}function FE(t,n){var s=Gt;Gt|=2;var l=Cp(),c=Dp();Jt!==t||xt!==n?(vu=null,_u=pe()+500,pa(t,n)):fa=Fi(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,ya(t,n,f,1);break;case 2:case 9:if(jm(f)){Ft=0,pn=null,Vp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),ui(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:jm(f)?(Ft=0,pn=null,Vp(n)):(Ft=0,pn=null,ya(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||hy(y)){Ft=0,pn=null;var b=E.sibling;if(b!==null)Dt=b;else{var z=E.return;z!==null?(Dt=z,Tu(z)):Dt=null}break e}}Ft=0,pn=null,ya(t,n,f,5);break;case 6:Ft=0,pn=null,ya(t,n,f,6);break;case 8:rf(),oe=6;break t;default:throw Error(a(462))}}QE();break}catch(G){Rp(t,G)}while(!0);return Ii=pr=null,q.H=l,q.A=c,Gt=s,Dt!==null?0:(Jt=null,xt=0,qo(),oe)}function QE(){for(;Dt!==null&&!Xn();)Ip(Dt)}function Ip(t){var n=np(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Tu(t):Dt=n}function Vp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Th(n);default:sp(s,n),n=Dt=Nm(n,Pi),n=np(s,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Tu(t):Dt=n}function ya(t,n,s,l){Ii=pr=null,Th(n),oa=null,Al=0;var c=n.return;try{if(UE(t,c,n,s,xt)){oe=1,fu(t,Nn(s,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,fu(t,Nn(s,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:fa||(xt&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Np(n,t)):Tu(n)}function Tu(t){var n=t;do{if((n.flags&32768)!==0){Np(n,gs);return}t=n.return;var s=PE(n.alternate,n,Pi);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function Np(t,n){do{var s=zE(t.alternate,t);if(s!==null){s.flags&=32767,Dt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=s}while(t!==null);oe=6,Dt=null}function Mp(t,n,s,l,c,f,y,E,b){t.cancelPendingCommit=null;do Au();while(ke!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zc,wo(t,s,f,y,E,b),t===Jt&&(Dt=Jt=null,xt=0),ma=n,_s=t,ga=s,ef=f,nf=c,Ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(_i,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=it.p,it.p=2,y=Gt,Gt|=4;try{kE(t,n,s)}finally{Gt=y,it.p=c,q.T=l}}ke=1,Op(),xp(),Up()}}function Op(){if(ke===1){ke=0;var t=_s,n=ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=it.p;it.p=2;var c=Gt;Gt|=4;try{gp(n,t);var f=vf,y=Tm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Em(E.ownerDocument.documentElement,E)){if(b!==null&&Fc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var B=k.getSelection(),vt=E.textContent.length,gt=Math.min(b.start,vt),Xt=b.end===void 0?gt:Math.min(b.end,vt);!B.extend&&gt>Xt&&(y=Xt,Xt=gt,gt=y);var x=vm(E,gt),N=vm(E,Xt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),gt>Xt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}xu=!!_f,vf=_f=null}finally{Gt=c,it.p=l,q.T=s}}t.current=n,ke=2}}function xp(){if(ke===2){ke=0;var t=_s,n=ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=it.p;it.p=2;var c=Gt;Gt|=4;try{hp(t,n.alternate,n)}finally{Gt=c,it.p=l,q.T=s}}ke=3}}function Up(){if(ke===4||ke===3){ke=0,wn();var t=_s,n=ma,s=ga,l=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,ma=_s=null,Lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),Ha(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Hi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=it.p,it.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,it.p=c}}(ga&3)!==0&&Au(),ui(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===sf?Nl++:(Nl=0,sf=t):Nl=0,Ml(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Au(t){return Op(),xp(),Up(),Pp()}function Pp(){if(ke!==5)return!1;var t=_s,n=ef;ef=0;var s=Ha(ga),l=q.T,c=it.p;try{it.p=32>s?32:s,q.T=null,s=nf,nf=null;var f=_s,y=ga;if(ke=0,ma=_s=null,ga=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Ep(f.current),yp(f,f.current,y,s),Gt=E,Ml(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Hi,f)}catch{}return!0}finally{it.p=c,q.T=l,Lp(t,n)}}function zp(t,n,s){n=Nn(s,n),n=Uh(t.stateNode,n,2),t=os(t,n,2),t!==null&&(ue(t,2),ui(t))}function Zt(t,n,s){if(t.tag===3)zp(t,t,s);else for(;n!==null;){if(n.tag===3){zp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=Nn(s,t),s=qg(2),l=os(n,s,2),l!==null&&(Hg(s,l,n,t),ue(l,2),ui(l));break}}n=n.return}}function of(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new qE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||($h=!0,c.add(s),t=YE.bind(null,t,n,s),n.then(t,t))}function YE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Jt===t&&(xt&s)===s&&(oe===4||oe===3&&(xt&62914560)===xt&&300>pe()-tf?(Gt&2)===0&&pa(t,0):Jh|=s,da===xt&&(da=0)),ui(t)}function kp(t,n){n===0&&(n=Qi()),t=Jr(t,n),t!==null&&(ue(t,n),ui(t))}function KE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),kp(t,s)}function XE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),kp(t,s)}function ZE(t,n){return bn(t,n)}var Su=null,_a=null,uf=!1,bu=!1,cf=!1,Sr=0;function ui(t){t!==_a&&t.next===null&&(_a===null?Su=_a=t:_a=_a.next=t),bu=!0,uf||(uf=!0,JE())}function Ml(t,n){if(!cf&&bu){cf=!0;do for(var s=!1,l=Su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hp(l,f))}else f=xt,f=Cn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fi(l,f)||(s=!0,Hp(l,f));l=l.next}while(s);cf=!1}}function $E(){Bp()}function Bp(){bu=uf=!1;var t=0;Sr!==0&&(aT()&&(t=Sr),Sr=0);for(var n=pe(),s=null,l=Su;l!==null;){var c=l.next,f=jp(l,n);f===0?(l.next=null,s===null?Su=c:s.next=c,c===null&&(_a=s)):(s=l,(t!==0||(f&3)!==0)&&(bu=!0)),l=c}Ml(t)}function jp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Je(f),E=1<<y,b=c[y];b===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Ur(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,s=xt,s=Cn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Le(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Le(l),Ha(s)){case 2:case 8:s=_e;break;case 32:s=_i;break;case 268435456:s=Ba;break;default:s=_i}return l=qp.bind(null,t),s=bn(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Le(l),t.callbackPriority=2,t.callbackNode=null,2}function qp(t,n){if(ke!==0&&ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Au()&&t.callbackNode!==s)return null;var l=xt;return l=Cn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(bp(t,l,n),jp(t,pe()),t.callbackNode!=null&&t.callbackNode===s?qp.bind(null,t):null)}function Hp(t,n){if(Au())return null;bp(t,n,!0)}function JE(){oT(function(){(Gt&6)!==0?bn(ye,$E):Bp()})}function hf(){return Sr===0&&(Sr=ja()),Sr}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Fp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function WE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Gp((c[Pe]||null).action),y=l.submitter;y&&(n=(n=y[Pe]||null)?Gp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new nr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sr!==0){var b=y?Fp(c,y):new FormData(c);Vh(s,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Fp(c,y):new FormData(c),Vh(s,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],tT=df.toLowerCase(),eT=df[0].toUpperCase()+df.slice(1);Fn(tT,"on"+eT)}Fn(bm,"onAnimationEnd"),Fn(wm,"onAnimationIteration"),Fn(Rm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(_E,"onTransitionRun"),Fn(vE,"onTransitionStart"),Fn(EE,"onTransitionCancel"),Fn(Cm,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Qp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){hu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){hu(G)}c.currentTarget=null,f=b}}}}function It(t,n){var s=n[Hs];s===void 0&&(s=n[Hs]=new Set);var l=t+"__bubble";s.has(l)||(Yp(n,t,2,!1),s.add(l))}function mf(t,n,s){var l=0;n&&(l|=4),Yp(s,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[wu]){t[wu]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(nT.has(s)||mf(s,!1,t),mf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,mf("selectionchange",!1,n))}}function Yp(t,n,s,l){switch(yy(n)){case 2:var c=IT;break;case 8:c=VT;break;default:c=If}s=c.bind(null,n,s,t),c=void 0,!bi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function pf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Jn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ws(function(){var z=f,G=Za(s),Y=[];t:{var k=Dm.get(t);if(k!==void 0){var B=nr,vt=t;switch(t){case"keypress":if(tr(s)===0)break t;case"keydown":case"keyup":B=Kr;break;case"focusin":vt="focus",B=Fr;break;case"focusout":vt="blur",B=Fr;break;case"beforeblur":case"afterblur":B=Fr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ss;break;case bm:case wm:case Rm:B=Ja;break;case Cm:B=m;break;case"scroll":case"scrollend":B=sr;break;case"wheel":B=T;break;case"copy":case"cut":case"paste":B=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=el;break;case"toggle":case"beforetoggle":B=j}var gt=(n&4)!==0,Xt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?k!==null?k+"Capture":null:k;gt=[];for(var N=z,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=ns(N,x),Q!=null&&gt.push(xl(N,Q,L))),Xt)break;N=N.return}0<gt.length&&(k=new B(k,vt,null,s,G),Y.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&s!==Xa&&(vt=s.relatedTarget||s.fromElement)&&(Jn(vt)||vt[Ei]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(vt=s.relatedTarget||s.toElement,B=z,vt=vt?Jn(vt):null,vt!==null&&(Xt=h(vt),gt=vt.tag,vt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(B=null,vt=z),B!==vt)){if(gt=lr,Q="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=el,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Xt=B==null?k:Zi(B),L=vt==null?k:Zi(vt),k=new gt(Q,N+"leave",B,s,G),k.target=Xt,k.relatedTarget=L,Q=null,Jn(G)===z&&(gt=new gt(x,N+"enter",vt,s,G),gt.target=L,gt.relatedTarget=Xt,Q=gt),Xt=Q,B&&vt)e:{for(gt=B,x=vt,N=0,L=gt;L;L=va(L))N++;for(L=0,Q=x;Q;Q=va(Q))L++;for(;0<N-L;)gt=va(gt),N--;for(;0<L-N;)x=va(x),L--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=va(gt),x=va(x)}gt=null}else gt=null;B!==null&&Kp(Y,k,B,gt,!1),vt!==null&&Xt!==null&&Kp(Y,Xt,vt,gt,!0)}}t:{if(k=z?Zi(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var lt=dm;else if(hm(k))if(mm)lt=gE;else{lt=dE;var Ct=fE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&qr(z.elementType)&&(lt=dm):lt=mE;if(lt&&(lt=lt(t,z))){fm(Y,lt,s,G);break t}Ct&&Ct(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Qa(k,"number",k.value)}switch(Ct=z?Zi(z):window,t){case"focusin":(hm(Ct)||Ct.contentEditable==="true")&&(Xr=Ct,Qc=z,al=null);break;case"focusout":al=Qc=Xr=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Am(Y,s,G);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Am(Y,s,G)}var ct;if(At)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Gn?qn(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(fe&&s.locale!=="ko"&&(Gn||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Gn&&(ct=Mo()):(Vn=G,$t="value"in Vn?Vn.value:Vn.textContent,Gn=!0)),Ct=Ru(z,pt),0<Ct.length&&(pt=new tl(pt,t,null,s,G),Y.push({event:pt,listeners:Ct}),ct?pt.data=ct:(ct=Hn(s),ct!==null&&(pt.data=ct)))),(ct=Ht?nl(t,s):uE(t,s))&&(pt=Ru(z,"onBeforeInput"),0<pt.length&&(Ct=new tl("onBeforeInput","beforeinput",null,s,G),Y.push({event:Ct,listeners:pt}),Ct.data=ct)),WE(Y,t,z,s,G)}Qp(Y,n)})}function xl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ru(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ns(t,s),c!=null&&l.unshift(xl(t,c,f)),c=ns(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=ns(s,f),z!=null&&y.unshift(xl(s,z,b))):c||(z=ns(s,f),z!=null&&y.push(xl(s,z,b)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var iT=/\r\n?/g,sT=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(iT,`
`).replace(sT,"")}function Zp(t,n){return n=Xp(n),Xp(t)===n}function Cu(){}function Kt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":Ks(t,"class",l);break;case"tabIndex":Ks(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(t,s,l);break;case"style":Ka(t,l,f);break;case"data":if(n!=="object"){Ks(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=jn(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=jn(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Cu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Ys(t,"popover",l);break;case"xlinkActuate":Dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ys(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Io.get(s)||s,Ys(t,s,l))}}function yf(t,n,s,l,c,f){switch(s){case"style":Ka(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ys(t,s,l)}}}function Be(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,s,null)}}c&&Kt(t,n,"srcSet",s.srcSet,s,null),l&&Kt(t,n,"src",s.src,s,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Kt(t,n,l,G,s,null)}}Fa(t,f,E,b,z,y,c,!1),Wi(t);return;case"select":It("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?ts(t,!!l,n,!1):s!=null&&ts(t,!!l,s,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,s,null)}Do(t,l,c,f),Wi(t);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,s,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)It(Ol[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,z,l,s,null)}return;default:if(qr(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&yf(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Kt(t,n,E,l,s,null))}function rT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,z=null,G=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,Y)}}for(var k in l){var B=l[k];if(Y=s[k],l.hasOwnProperty(k)&&(B!=null||Y!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&Kt(t,n,k,B,l,Y)}}Ga(t,y,E,b,z,G,f,c);return;case"select":B=y=E=k=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=s[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Kt(t,n,c,f,l,b)}n=E,s=y,l=B,k!=null?ts(t,!!s,k,!1):!!l!=!!s&&(n!=null?ts(t,!!s,n,!0):ts(t,!!s,s?[]:"",!1));return;case"textarea":B=k=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Co(t,k,B);return;case"option":for(var vt in s)if(k=s[vt],s.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Kt(t,n,vt,null,l,k)}for(b in l)if(k=l[b],B=s[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)k=s[gt],s.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,k);for(z in l)if(k=l[z],B=s[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Kt(t,n,z,k,l,B)}return;default:if(qr(n)){for(var Xt in s)k=s[Xt],s.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&yf(t,n,Xt,void 0,l,k);for(G in l)k=l[G],B=s[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||yf(t,n,G,k,l,B);return}}for(var x in s)k=s[x],s.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,k);for(Y in l)k=l[Y],B=s[Y],!l.hasOwnProperty(Y)||k===B||k==null&&B==null||Kt(t,n,Y,k,l,B)}var _f=null,vf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function $p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(uT)}:Wp;function uT(t){setTimeout(function(){throw t})}function Es(t){return t==="head"}function ey(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&Ul(y.documentElement),s&2&&Ul(y.body),s&4)for(s=y.head,Ul(s),y=s.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Xi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}if(c===0){t.removeChild(f),Hl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Hl(n)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Af(s),Pr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function cT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function hT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fT(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bf=null;function ny(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function iy(t,n,s){switch(n=Du(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pr(t)}var Pn=new Map,sy=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zi=it.d;it.d={f:dT,r:mT,D:gT,C:pT,L:yT,m:_T,X:ET,S:vT,M:TT};function dT(){var t=zi.f(),n=Eu();return t||n}function mT(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):zi.r(t)}var Ea=typeof document>"u"?null:document;function ry(t,n,s){var l=Ea;if(l&&typeof n=="string"&&n){var c=Ve(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),sy.has(c)||(sy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function gT(t){zi.D(t),ry("dns-prefetch",t,null)}function pT(t,n){zi.C(t,n),ry("preconnect",t,n)}function yT(t,n,s){zi.L(t,n,s);var l=Ea;if(l&&t&&n){var c='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ve(s.imageSizes)+'"]')):c+='[href="'+Ve(t)+'"]';var f=c;switch(n){case"style":f=Ta(t);break;case"script":f=Aa(t)}Pn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Pn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),Be(n,"link",t),he(n),l.head.appendChild(n)))}}function _T(t,n){zi.m(t,n);var s=Ea;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ve(l)+'"][href="'+Ve(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Aa(t)}if(!Pn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Pn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Pl(f)))return}l=s.createElement("link"),Be(l,"link",t),he(l),s.head.appendChild(l)}}}function vT(t,n,s){zi.S(t,n,s);var l=Ea;if(l&&t){var c=$i(l).hoistableStyles,f=Ta(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Ll(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Pn.get(f))&&wf(t,s);var b=y=l.createElement("link");he(b),Be(b,"link",t),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function ET(t,n){zi.X(t,n);var s=Ea;if(s&&t){var l=$i(s).hoistableScripts,c=Aa(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=A({src:t,async:!0},n),(n=Pn.get(c))&&Rf(t,n),f=s.createElement("script"),he(f),Be(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function TT(t,n){zi.M(t,n);var s=Ea;if(s&&t){var l=$i(s).hoistableScripts,c=Aa(t),f=l.get(c);f||(f=s.querySelector(Pl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Pn.get(c))&&Rf(t,n),f=s.createElement("script"),he(f),Be(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ay(t,n,s,l){var c=(c=at.current)?Iu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ta(s.href),s=$i(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ta(s.href);var f=$i(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ll(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),f||AT(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Aa(s),s=$i(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ta(t){return'href="'+Ve(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function ly(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function AT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",s),he(n),t.head.appendChild(n))}function Aa(t){return'[src="'+Ve(t)+'"]'}function Pl(t){return"script[async]"+t}function oy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ve(s.href)+'"]');if(l)return n.instance=l,he(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Be(l,"style",c),Vu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ta(s.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=ly(s),(c=Pn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",l),n.state.loading|=4,Vu(f,s.precedence,t),n.instance=f;case"script":return f=Aa(s.src),(c=t.querySelector(Pl(f)))?(n.instance=c,he(c),c):(l=s,(c=Pn.get(f))&&(l=A({},s),Rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,s.precedence,t));return n.instance}function Vu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nu=null;function uy(t,n,s){if(Nu===null){var l=new Map,c=Nu=new Map;c.set(s,l)}else c=Nu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Xi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function cy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ST(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function bT(){}function wT(t,n,s){if(zl===null)throw Error(a(475));var l=zl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ta(s.href),f=t.querySelector(Ll(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,s=ly(s),(c=Pn.get(c))&&wf(s,c),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(zl===null)throw Error(a(475));var t=zl;return t.stylesheets&&t.count===0&&Cf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,n.forEach(CT,t),Ou=null,Mu.call(t))}function CT(t,n){if(!(n.state.loading&4)){var s=Ou.get(t);if(s)var l=s.get(null);else{s=new Map,Ou.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function DT(t,n,s,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fy(t,n,s,l,c,f,y,E,b,z,G,Y){return t=new DT(t,n,s,y,E,b,z,Y),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},hh(f),t}function dy(t){return t?(t=Wr,t):Wr}function my(t,n,s,l,c,f){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=ls(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=os(t,l,n),s!==null&&(_n(s,t,n),gl(s,t,n))}function gy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Df(t,n){gy(t,n),(t=t.alternate)&&gy(t,n)}function py(t){if(t.tag===13){var n=Jr(t,67108864);n!==null&&_n(n,t,67108864),Df(t,67108864)}}var xu=!0;function IT(t,n,s,l){var c=q.T;q.T=null;var f=it.p;try{it.p=2,If(t,n,s,l)}finally{it.p=f,q.T=c}}function VT(t,n,s,l){var c=q.T;q.T=null;var f=it.p;try{it.p=8,If(t,n,s,l)}finally{it.p=f,q.T=c}}function If(t,n,s,l){if(xu){var c=Vf(l);if(c===null)pf(t,n,l,Uu,s),_y(t,l);else if(MT(c,t,n,s,l))l.stopPropagation();else if(_y(t,l),n&4&&-1<NT.indexOf(t)){for(;c!==null;){var f=Wn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=zn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Je(y);E.entanglements[1]|=b,y&=~b}ui(f),(Gt&6)===0&&(_u=pe()+500,Ml(0))}}break;case 13:E=Jr(f,2),E!==null&&_n(E,f,2),Eu(),Df(f,2)}if(f=Vf(l),f===null&&pf(t,n,l,Uu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,s)}}function Vf(t){return t=Za(t),Nf(t)}var Uu=null;function Nf(t){if(Uu=null,t=Jn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case ye:return 2;case _e:return 8;case _i:case Uc:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Mf=!1,Ts=null,As=null,Ss=null,Bl=new Map,jl=new Map,bs=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(t,n){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function ql(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Wn(n),n!==null&&py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function MT(t,n,s,l,c){switch(n){case"focusin":return Ts=ql(Ts,t,n,s,l,c),!0;case"dragenter":return As=ql(As,t,n,s,l,c),!0;case"mouseover":return Ss=ql(Ss,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,ql(Bl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,ql(jl.get(f)||null,t,n,s,l,c)),!0}return!1}function vy(t){var n=Jn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,zc(t.priority,function(){if(s.tag===13){var l=yn();l=qa(l);var c=Jr(s,l);c!==null&&_n(c,s,l),Df(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Vf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Xa=l,s.target.dispatchEvent(l),Xa=null}else return n=Wn(s),n!==null&&py(n),t.blockedOn=s,!1;n.shift()}return!0}function Ey(t,n,s){Lu(t)&&s.delete(n)}function OT(){Mf=!1,Ts!==null&&Lu(Ts)&&(Ts=null),As!==null&&Lu(As)&&(As=null),Ss!==null&&Lu(Ss)&&(Ss=null),Bl.forEach(Ey),jl.forEach(Ey)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OT)))}var zu=null;function Ty(t){zu!==t&&(zu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||s)===null)continue;break}var f=Wn(s);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Hl(t){function n(b){return Pu(b,t)}Ts!==null&&Pu(Ts,t),As!==null&&Pu(As,t),Ss!==null&&Pu(Ss,t),Bl.forEach(n),jl.forEach(n);for(var s=0;s<bs.length;s++){var l=bs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<bs.length&&(s=bs[0],s.blockedOn===null);)vy(s),s.blockedOn===null&&bs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[Pe]||null;if(typeof f=="function")y||Ty(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Pe]||null)E=y.formAction;else if(Nf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ty(s)}}}function Of(t){this._internalRoot=t}ku.prototype.render=Of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=yn();my(s,l,t,n,null,null)},ku.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;my(t.current,2,null,t,null,null),Eu(),n[Ei]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=vi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<bs.length&&n!==0&&n<bs[s].priority;s++);bs.splice(s,0,t),s===0&&vy(t)}};var Ay=e.version;if(Ay!=="19.1.1")throw Error(a(527,Ay,"19.1.1"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var xT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Hi=Bu.inject(xT),Ge=Bu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=zg,f=kg,y=Bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=fy(t,1,!1,null,null,s,l,c,f,y,E,null),t[Ei]=n.current,gf(t),new Of(n)},Fl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=zg,y=kg,E=Bg,b=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=fy(t,1,!0,n,s??null,l,c,f,y,E,b,z),n.context=dy(null),s=n.current,l=yn(),l=qa(l),c=ls(l),c.callback=null,os(s,c,l),s=l,n.current.lanes=s,ue(n,s),ui(n),t[Ei]=n.current,gf(t),new ku(n)},Fl.version="19.1.1",Fl}var My;function GT(){if(My)return Lf.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=HT(),Lf.exports}var FT=GT();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Oy=r=>{const e=YT(r);return e.charAt(0).toUpperCase()+e.slice(1)},tv=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),KT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Re.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...g},v)=>Re.createElement("svg",{ref:v,...XT,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:tv("lucide",o),...!h&&!KT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Re.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=(r,e)=>{const i=Re.forwardRef(({className:a,...o},h)=>Re.createElement(ZT,{ref:h,iconNode:e,className:tv(`lucide-${QT(Oy(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Oy(r),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JT=go("plus",$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],t1=go("refresh-cw",WT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],n1=go("rotate-cw",e1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xy=go("share-2",i1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r1=go("trash-2",s1),a1=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},l1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let M=(g&15)<<2|_>>6,F=_&63;v||(F=64,d||(M=64)),a.push(i[A],i[C],i[M],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ev(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):l1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||C==null)throw new o1;const M=h<<2|g>>4;if(a.push(M),_!==64){const F=g<<4&240|_>>2;if(a.push(F),C!==64){const et=_<<6&192|C;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class o1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(r){const e=ev(r);return nv.encodeByteArray(e,!0)},Wu=function(r){return u1(r).replace(/\./g,"")},c1=function(r){try{return nv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof Uy>"u")return;const r=Uy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},m1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&c1(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return a1()||f1()||d1()||m1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g1=r=>Ed()?.emulatorHosts?.[r],p1=r=>{const e=g1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},iv=()=>Ed()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}const Zl={};function E1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function T1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ly=!1;function A1(r,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Zl[r]===e||Zl[r]||Ly)return;Zl[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=E1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Ly=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function C(){const M=T1(a),F=i("text"),et=document.getElementById(F)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),bt=i("preprendIcon"),St=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),A(W,st);const jt=_();v(St,bt),yt.append(St,et,W,jt),document.body.appendChild(yt)}h?(et.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){const r=Ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function R1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sv(){try{return typeof indexedDB=="object"}catch{return!1}}function rv(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function C1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class ks extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=D1,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?I1(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ks(o,g,a)}}function I1(r,e){return r.replace(V1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const V1=/\{\$([^}]+)}/g;function io(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Py(h)&&Py(d)){if(!io(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1e3,M1=2,O1=14400*1e3,x1=.5;function zy(r,e=N1,i=M1){const a=e*Math.pow(i,r),o=Math.round(x1*a*(Math.random()-.5)*2);return Math.min(O1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class ki{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new y1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(r){return r===br?void 0:r}function P1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new U1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const k1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},B1=Lt.INFO,j1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},q1=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=j1[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const H1=(r,e)=>e.some(i=>r instanceof i);let ky,By;function G1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F1(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const av=new WeakMap,$f=new WeakMap,lv=new WeakMap,Bf=new WeakMap,Sd=new WeakMap;function Q1(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Cs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&av.set(i,r)}).catch(()=>{}),Sd.set(e,r),e}function Y1(r){if($f.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});$f.set(r,e)}let Jf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $f.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function K1(r){Jf=r(Jf)}function X1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(jf(this),e,...i);return lv.set(a,e.sort?e.sort():[e]),Cs(a)}:F1().includes(r)?function(...e){return r.apply(jf(this),e),Cs(av.get(this))}:function(...e){return Cs(r.apply(jf(this),e))}}function Z1(r){return typeof r=="function"?X1(r):(r instanceof IDBTransaction&&Y1(r),H1(r,G1())?new Proxy(r,Jf):r)}function Cs(r){if(r instanceof IDBRequest)return Q1(r);if(Bf.has(r))return Bf.get(r);const e=Z1(r);return e!==r&&(Bf.set(r,e),Sd.set(e,r)),e}const jf=r=>Sd.get(r);function ov(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Cs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Cs(d.result),v.oldVersion,v.newVersion,Cs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const $1=["get","getKey","getAll","getAllKeys","count"],J1=["put","add","delete","clear"],qf=new Map;function jy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=J1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||$1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return qf.set(e,h),h}K1(r=>({...r,get:(e,i,a)=>jy(e,i)||r.get(e,i,a),has:(e,i)=>!!jy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function tA(r){return r.getComponent()?.type==="VERSION"}const Wf="@firebase/app",qy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Ad("@firebase/app"),eA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",sA="@firebase/app-check-compat",rA="@firebase/app-check",aA="@firebase/auth",lA="@firebase/auth-compat",oA="@firebase/database",uA="@firebase/data-connect",cA="@firebase/database-compat",hA="@firebase/functions",fA="@firebase/functions-compat",dA="@firebase/installations",mA="@firebase/installations-compat",gA="@firebase/messaging",pA="@firebase/messaging-compat",yA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",AA="@firebase/storage-compat",SA="@firebase/firestore",bA="@firebase/ai",wA="@firebase/firestore-compat",RA="firebase",CA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",DA={[Wf]:"fire-core",[eA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[rA]:"fire-app-check",[sA]:"fire-app-check-compat",[aA]:"fire-auth",[lA]:"fire-auth-compat",[oA]:"fire-rtdb",[uA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[hA]:"fire-fn",[fA]:"fire-fn-compat",[dA]:"fire-iid",[mA]:"fire-iid-compat",[gA]:"fire-fcm",[pA]:"fire-fcm-compat",[yA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[AA]:"fire-gcs-compat",[SA]:"fire-fst",[wA]:"fire-fst-compat",[bA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,IA=new Map,ed=new Map;function Hy(r,e){try{r.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ms(r){const e=r.name;if(ed.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,r);for(const i of tc.values())Hy(i,r);for(const i of IA.values())Hy(i,r);return!0}function po(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function VA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new pc("app","Firebase",NA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=CA;function uv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:td,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=iv()),!i)throw Ds.create("no-options");const h=tc.get(o);if(h){if(io(i,h.options)&&io(a,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new z1(o);for(const v of ed.values())d.addComponent(v);const g=new MA(i,a,d);return tc.set(o,g),g}function cv(r=td){const e=tc.get(r);if(!e&&r===td&&iv())return uv();if(!e)throw Ds.create("no-app",{appName:r});return e}function hi(r,e,i){let a=DA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}Ms(new ki(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebase-heartbeat-database",UA=1,so="firebase-heartbeat-store";let Hf=null;function hv(){return Hf||(Hf=ov(xA,UA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ds.create("idb-open",{originalErrorMessage:r.message})})),Hf}async function LA(r){try{const i=(await hv()).transaction(so),a=await i.objectStore(so).get(fv(r));return await i.done,a}catch(e){if(e instanceof ks)Bi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(i.message)}}}async function Gy(r,e){try{const a=(await hv()).transaction(so,"readwrite");await a.objectStore(so).put(e,fv(r)),await a.done}catch(i){if(i instanceof ks)Bi.warn(i.message);else{const a=Ds.create("idb-set",{originalErrorMessage:i?.message});Bi.warn(a.message)}}}function fv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=1024,zA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zA){const o=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fy(),{heartbeatsToSend:i,unsentEntries:a}=BA(this._heartbeatsCache.heartbeats),o=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Bi.warn(e),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function BA(r,e=PA){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Qy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Qy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sv()?rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Qy(r){return Wu(JSON.stringify({version:2,heartbeats:r})).length}function qA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r){Ms(new ki("platform-logger",e=>new W1(e),"PRIVATE")),Ms(new ki("heartbeat",e=>new kA(e),"PRIVATE")),hi(Wf,qy,r),hi(Wf,qy,"esm2020"),hi("fire-js","")}HA("");var GA="firebase",FA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(GA,FA,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,dv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.F=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(O,V,U){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return S.prototype[V].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)O[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;V<16;++V)O[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],V=I.g[2];let U=I.g[3],R;R=S+(U^w&(V^U))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+O[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+O[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+O[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+O[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+O[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+O[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(U^w&(V^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(V^S&(w^V))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(w^U&(S^w))+O[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=w+(S^V&(U^S))+O[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(V^U&(w^V))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+O[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+O[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+O[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+O[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+O[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+O[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(w^V))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^V&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(U^S))+O[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(V^U))+O[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(w^V^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+O[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+O[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+O[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+O[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+O[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+O[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^V)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^w)+O[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=w+(V^U^S)+O[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(V^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+O[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+O[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+O[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+O[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+O[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+O[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~V))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~w))+O[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=w+(U^(V|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const w=S-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<S;){if(V==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(O[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=I[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)I[S++]=this.g[w]>>>O&255;return I};function h(I,S){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function d(I,S){this.h=S;const w=[];let O=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;O&&U==S||(w[V]=U,O=!1)}this.g=w}var g={};function v(I){return-128<=I&&I<128?h(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return C;if(I<0)return W(_(-I));const S=[];let w=1;for(let O=0;I>=w;O++)S[O]=I/w|0,w*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=C;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+V),S);V<8?(V=_(Math.pow(S,V)),O=O.j(V).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var C=v(0),M=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-W(this).m();let I=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);I+=(O>=0?O:4294967296+O)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(st(this))return"-"+W(this).toString(I);const S=_(Math.pow(I,6));var w=this;let O="";for(;;){const V=jt(w,S).g;w=bt(w,V.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=V,et(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function st(I){return I.h==-1}r.l=function(I){return I=bt(this,I),st(I)?-1:et(I)?0:1};function W(I){const S=I.g.length,w=[];for(let O=0;O<S;O++)w[O]=~I.g[O];return new d(w,~I.h).add(M)}r.abs=function(){return st(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),w=[];let O=0;for(let V=0;V<=S;V++){let U=O+(this.i(V)&65535)+(I.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=R>>>16,U&=65535,R&=65535,w[V]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function bt(I,S){return I.add(W(S))}r.j=function(I){if(et(this)||et(I))return C;if(st(this))return st(I)?W(this).j(W(I)):W(W(this).j(I));if(st(I))return W(this.j(W(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const S=this.g.length+I.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const U=this.i(O)>>>16,R=this.i(O)&65535,ie=I.i(V)>>>16,qt=I.i(V)&65535;w[2*O+2*V]+=R*qt,St(w,2*O+2*V),w[2*O+2*V+1]+=U*qt,St(w,2*O+2*V+1),w[2*O+2*V+1]+=R*ie,St(w,2*O+2*V+1),w[2*O+2*V+2]+=U*ie,St(w,2*O+2*V+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function St(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function yt(I,S){this.g=I,this.h=S}function jt(I,S){if(et(S))throw Error("division by zero");if(et(I))return new yt(C,C);if(st(I))return S=jt(W(I),S),new yt(W(S.g),W(S.h));if(st(S))return S=jt(I,W(S)),new yt(W(S.g),S.h);if(I.g.length>30){if(st(I)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,O=S;O.l(I)<=0;)w=mt(w),O=mt(O);var V=Et(w,1),U=Et(O,1);for(O=Et(O,2),w=Et(w,2);!et(O);){var R=U.add(O);R.l(I)<=0&&(V=V.add(w),U=R),O=Et(O,1),w=Et(w,1)}return S=bt(I,V.j(S)),new yt(V,S)}for(V=C;I.l(S)>=0;){for(w=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),R=U.j(S);st(R)||R.l(I)>0;)w-=O,U=_(w),R=U.j(S);et(U)&&(U=M),V=V.add(U),I=bt(I,R)}return new yt(V,I)}r.B=function(I){return jt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&I.i(O);return new d(w,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|I.i(O);return new d(w,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^I.i(O);return new d(w,this.h^I.h)};function mt(I){const S=I.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(w,I.h)}function Et(I,S){const w=S>>5;S%=32;const O=I.g.length-w,V=[];for(let U=0;U<O;U++)V[U]=S>0?I.i(U+w)>>>S|I.i(U+w+1)<<32-S:I.i(U+w);return new d(V,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Is=d}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Ql,gv,Yu,nd,pv,yv,_v;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,P,j){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[P].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var p=typeof P;if(p=p!="object"?p:P?Array.isArray(P)?"array":p:"null",p=="array"||p=="object"&&typeof P.length=="number"){p=u.length||0;const j=P.length||0;u.length=p+j;for(let nt=0;nt<j;nt++)u[p+nt]=P[nt]}else u.push(P)}}class st{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function bt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,p){const T=yt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new st(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Et=!1,I=new St,S=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(w)}};function w(){for(var u;u=bt();){try{u.h.call(u.g)}catch(p){W(p)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(ie,V),ie.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var qt="closure_listenable_"+(Math.random()*1e6|0),q=0;function it(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++q,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function D(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function X(u){const m={};for(const p in u)m[p]=u[p];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let j=0;j<H.length;j++)p=H[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function tt(u){this.src=u,this.g={},this.h=0}tt.prototype.add=function(u,m,p,T,P){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const nt=at(u,m,T,P);return nt>-1?(m=u[nt],p||(m.fa=!1)):(m=new it(m,this.src,j,!!T,P),m.fa=p,u.push(m)),m};function ot(u,m){const p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(T,P,1),j&&(ht(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function at(u,m,p,T){for(let P=0;P<u.length;++P){const j=u[P];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return P}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ot={};function Ze(u,m,p,T,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Ze(u,m[j],p,T,P);return null}return p=xr(p),u&&u[qt]?u.J(m,p,g(T)?!!T.capture:!1,P):yi(u,m,p,!1,T,P)}function yi(u,m,p,T,P,j){if(!m)throw Error("Invalid event type");const nt=g(P)?!!P.capture:!!P;let At=wn(u);if(At||(u[zt]=At=new tt(u)),p=At.add(m,p,T,nt,j),p.proxy)return p;if(T=Sn(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Le(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sn(){function u(p){return m.call(u.src,u.listener,p)}const m=Xn;return u}function $e(u,m,p,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)$e(u,m[j],p,T,P);else T=g(T)?!!T.capture:!!T,p=xr(p),u&&u[qt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],p=at(m,p,T,P),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=wn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=at(m,p,T,P)),(p=u>-1?m[u]:null)&&bn(p))}function bn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[qt])ot(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Le(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wn(m))?(ot(p,u),p.h==0&&(p.src=null,m[zt]=null)):ht(u)}}}function Le(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Xn(u,m){if(u.da)u=!0;else{m=new ie(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&bn(u),u=p.call(T,m)}return u}function wn(u){return u=u[zt],u instanceof tt?u:null}var pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function xr(u){return typeof u=="function"?u:(u[pe]||(u[pe]=function(m){return u.handleEvent(m)}),u[pe])}function ye(){O.call(this),this.i=new tt(this),this.M=this,this.G=null}C(ye,O),ye.prototype[qt]=!0,ye.prototype.removeEventListener=function(u,m,p,T){$e(this,u,m,p,T)};function _e(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(T,u),Z(m,P)}P=!0;let j,nt;if(p)for(nt=p.length-1;nt>=0;nt--)j=m.g=p[nt],P=_i(j,T,!0,m)&&P;if(j=m.g=u,P=_i(j,T,!0,m)&&P,P=_i(j,T,!1,m)&&P,p)for(nt=0;nt<p.length;nt++)j=m.g=p[nt],P=_i(j,T,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ye.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function _i(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const nt=m[j];if(nt&&!nt.da&&nt.capture==p){const At=nt.listener,Wt=nt.ha||nt.src;nt.fa&&ot(u.i,nt),P=At.call(Wt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Uc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ba(u){u.g=Uc(()=>{u.g=null,u.i&&(u.i=!1,Ba(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ba(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(u){O.call(this),this.h=u,this.g={}}C(qs,O);var Hi=[];function Ge(u){Mt(u.g,function(m,p){this.g.hasOwnProperty(p)&&bn(m)},u),u.g={}}qs.prototype.N=function(){qs.Z.N.call(this),Ge(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=d.JSON.stringify,Je=d.JSON.parse,Pc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function So(){}function bo(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gi(){V.call(this,"d")}C(Gi,V);function zn(){V.call(this,"c")}C(zn,V);var Cn={},Fi=null;function Ur(){return Fi=Fi||new ye}Cn.Ia="serverreachability";function ja(u){V.call(this,Cn.Ia,u)}C(ja,V);function Qi(u){const m=Ur();_e(m,new ja(m))}Cn.STAT_EVENT="statevent";function Lr(u,m){V.call(this,Cn.STAT_EVENT,u),this.stat=m}C(Lr,V);function ue(u){const m=Ur();_e(m,new Lr(m,u))}Cn.Ja="timingevent";function wo(u,m){V.call(this,Cn.Ja,u),this.size=m}C(wo,V);function Yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ki(){this.g=!0}Ki.prototype.ua=function(){this.g=!1};function qa(u,m,p,T,P,j){u.info(function(){if(u.g)if(j){var nt="",At=j.split("&");for(let Ht=0;Ht<At.length;Ht++){var Wt=At[Ht].split("=");if(Wt.length>1){const fe=Wt[0];Wt=Wt[1];const hn=fe.split("_");nt=hn.length>=2&&hn[1]=="type"?nt+(fe+"="+Wt+"&"):nt+(fe+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+nt})}function Ha(u,m,p,T,P,j,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+j+" "+nt})}function vi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$n(u,p)+(T?" "+T:"")})}function zc(u,m){u.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function $n(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var p=j[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return Rn(j)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ei;function Hs(){}C(Hs,So),Hs.prototype.g=function(){return new XMLHttpRequest},Ei=new Hs;function Gs(u){return encodeURIComponent(String(u))}function kc(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function kn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var Pr={},Jn={};function Wn(u,m,p){u.M=1,u.A=Ai(se(m)),u.u=p,u.R=!0,Zi(u,null)}function Zi(u,m){u.F=Date.now(),Fs(u),u.B=se(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Io(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Xi,u.g=Yr(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Lc(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hi[0]=P.toString()),P=Hi);for(let j=0;j<P.length;j++){const nt=Ze(p,P[j],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?X(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Qi(),qa(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fe(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Fe(this.g),Wt=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||At!=4||Wt==7||(Wt==8||Ht<=0?Qi(3):Qi(2)),ei(this);var m=this.g.ca();this.X=m;var p=$i(this);if(this.o=m==200,Ha(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var j=T;break e}}j=null}if(u=j)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zr(this,u);else{this.o=!1,this.m=3,ue(12),ni(this),Qs(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<p.length;)if(fe=Ro(this,p),fe==Jn){At==4&&(this.m=4,ue(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Pr){this.m=4,ue(15),vi(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,fe,null),zr(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,p,"[Invalid Chunked Response]"),ni(this),Qs(this);else if(p.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Wa(nt),nt.P=!0,ue(11))}}else vi(this.i,this.l,p,null),zr(this,p);At==4&&ni(this),this.o&&!this.K&&(At==4?tl(this.j,this):(this.o=!1,Fs(this)))}else ir(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),ni(this),Qs(this)}}}catch{}finally{}};function $i(u){if(!he(u))return u.g.la();const m=nr(u.g);if(m==="")return"";let p="";const T=m.length,P=Fe(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ni(u),Qs(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,p+=u.h.i.decode(m[j],{stream:!(P&&j==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Jn:(p=Number(m.substring(p,T)),isNaN(p)?Pr:(T+=1,T+p>m.length?Jn:(m=m.slice(T,T+p),u.C=T+p,m)))}kn.prototype.cancel=function(){this.K=!0,ni(this)};function Fs(u){u.T=Date.now()+u.H,ti(u,u.H)}function ti(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Yi(_(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zc(this.i,this.B),this.M!=2&&(Qi(),ue(17)),ni(this),this.m=2,Qs(this)):ti(this,this.T-u)};function Qs(u){u.j.I==0||u.K||tl(u.j,u)}function ni(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ge(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function zr(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||Xs(p.h,u))){if(!u.L&&Xs(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Qr(p),ii(p);else break t;Ja(p),ue(18)}}else p.xa=P[1],0<p.xa-p.K&&P[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Yi(_(p.Va,p),6e3));Dn(p.h)<=1&&p.ta&&(p.ta=void 0)}else wi(p,11)}else if((u.L||p.g==u)&&Qr(p),!R(m))for(P=p.Ba.g.parse(m),m=0;m<P.length;m++){let Ht=P[m];const fe=Ht[0];if(!(fe<=p.K))if(p.K=fe,Ht=Ht[1],p.I==2)if(Ht[0]=="c"){p.M=Ht[1],p.ba=Ht[2];const hn=Ht[3];hn!=null&&(p.ka=hn,p.j.info("VER="+p.ka));const si=Ht[4];si!=null&&(p.za=si,p.j.info("SVER="+p.za));const qn=Ht[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Hn=u.g;if(Hn){const Gn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var j=T.h;j.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(kr(j,j.h),j.h=null))}if(T.G){const nl=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.wa=nl,Qt(T.J,T.G,nl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var nt=u;if(T.na=zo(T,T.L?T.ba:null,T.W),nt.L){Ti(T.h,nt);var At=nt,Wt=T.O;Wt&&(At.H=Wt),At.D&&(ei(At),Fs(At)),T.g=nt}else xo(T);p.i.length>0&&lr(p)}else Ht[0]!="stop"&&Ht[0]!="close"||wi(p,7);else p.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?wi(p,7):rr(p):Ht[0]!="noop"&&p.l&&p.l.qa(Ht),p.A=0)}}Qi(4)}catch{}}var Bc=class{constructor(u,m){this.g=u,this.map=m}};function Ys(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Dn(u){return u.h?1:u.g?u.g.size:0}function Xs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function kr(u,m){u.g?u.g.add(m):u.h=m}function Ti(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ys.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Br(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return F(u.i)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let P,j=null;T>=0?(P=u[p].substring(0,T),j=u[p].substring(T+1)):P=u[p],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Bn?(this.l=u.l,Ji(this,u.j),this.o=u.o,this.g=u.g,Zs(this,u.u),this.h=u.h,Wi(this,Vo(u.i)),this.m=u.m):u&&(m=String(u).match(jr))?(this.l=!1,Ji(this,m[1]||"",!0),this.o=$s(m[2]||""),this.g=$s(m[3]||"",!0),Zs(this,m[4]),this.h=$s(m[5]||"",!0),Wi(this,m[6]||"",!0),this.m=$s(m[7]||"")):(this.l=!1,this.i=new In(null,this.l))}Bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ve(m,Fa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ve(m,Fa,!0),"@"),u.push(Gs(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ve(p,p.charAt(0)=="/"?ts:Qa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ve(p,Do)),u.join("")},Bn.prototype.resolve=function(u){const m=se(this);let p=!!u.j;p?Ji(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Zs(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let nt=0;nt<P.length;){const At=P[nt++];At=="."?T&&nt==P.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&nt==P.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=P}return p?m.h=T:p=u.i.toString()!=="",p?Wi(m,Vo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function se(u){return new Bn(u)}function Ji(u,m,p){u.j=p?$s(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Wi(u,m,p){m instanceof In?(u.i=m,Xa(u.i,u.l)):(p||(m=Ve(m,Co)),u.i=new In(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function Ai(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function $s(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ve(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ga),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ga(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fa=/[#\/\?@]/g,Qa=/[#\?:]/g,ts=/[#\?]/g,Co=/[#\?@]/g,Do=/#/g;function In(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Si(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=In.prototype,r.add=function(u,m){Si(this),this.i=null,u=jn(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ya(u,m){Si(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ka(u,m){return Si(u),m=jn(u,m),u.g.has(m)}r.forEach=function(u,m){Si(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)};function qr(u,m){Si(u);let p=[];if(typeof m=="string")Ka(u,m)&&(p=p.concat(u.g.get(jn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return Si(this),this.i=null,u=jn(this,u),Ka(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=qr(this,u),u.length>0?String(u[0]):m):m};function Io(u,m,p){Ya(u,m),p.length>0&&(u.i=null,u.g.set(jn(u,m),F(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const P=Gs(p);p=qr(this,p);for(let j=0;j<p.length;j++){let nt=P;p[j]!==""&&(nt+="="+Gs(p[j])),u.push(nt)}}return this.i=u.join("&")};function Vo(u){const m=new In;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xa(u,m){m&&!u.j&&(Si(u),u.i=null,u.g.forEach(function(p,T){const P=T.toLowerCase();T!=P&&(Ya(this,T),Io(this,P,p))},u)),u.j=m}function Za(u,m){const p=new Ki;if(d.Image){const T=new Image;T.onload=A(We,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(We,p,"TestLoadImage: error",!1,m,T),T.onabort=A(We,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(We,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function es(u,m){const p=new Ki,T=new AbortController,P=setTimeout(()=>{T.abort(),We(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?We(p,"TestPingServer: ok",!0,m):We(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),We(p,"TestPingServer: error",!1,m)})}function We(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function No(){this.g=new Pc}function Js(u){this.i=u.Sb||null,this.h=u.ab||!1}C(Js,So),Js.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Ws,ye),r=Ws.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,bi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ns(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ns(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?tn(this):bi(this),this.readyState==3&&ns(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,tn(this))},r.Na=function(u){this.g&&(this.response=u,tn(this))},r.ga=function(){this.g&&tn(this)};function tn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,bi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function is(u){let m="";return Mt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Vn(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=is(p),typeof u=="string"?p!=null&&Gs(p):Qt(u,m,p))}function $t(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C($t,ye);var Hr=/^https?$/i,Mo=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ei.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){tr(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of p)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){tr(this,j)}};function tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,er(u),Se(u)}function er(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),Se(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Se(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},r.Xa=function(){$a(this)};function $a(u){if(u.h&&typeof h<"u"){if(u.v&&Fe(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),Fe(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=j===0){let nt=String(u.D).match(jr)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Hr.test(nt?nt.toLowerCase():"")}p=T}if(p)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var P=Fe(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",er(u)}}finally{Se(u)}}}}function Se(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||_e(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fe(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Je(m)}};function nr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(u){const m={};u=(u.g&&Fe(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=kc(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[P]||[];m[P]=j,j.push(p)}D(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Gr(u){this.za=0,this.i=[],this.j=new Ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,u),this.Za=sr("retryDelaySeedMs",1e4,u),this.Ta=sr("forwardChannelMaxRetries",2,u),this.va=sr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ys(u&&u.concurrentRequestLimit),this.Ba=new No,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){ue(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=zo(this,null,this.W),lr(this)};function rr(u){if(ar(u),u.I==3){var m=u.V++,p=se(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),or(u,p),m=new kn(u,u.j,m),m.M=2,m.A=Ai(se(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Yr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Fs(m)}Po(u)}function ii(u){u.g&&(Wa(u),u.g.cancel(),u.g=null)}function ar(u){ii(u),u.v&&(d.clearTimeout(u.v),u.v=null),Qr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function lr(u){if(!Ks(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||S(),Et||(mt(),Et=!0),I.add(m,u),u.D=0}}function qc(u,m){return Dn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Yi(_(u.Ea,u,m),Lo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new kn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=X(j),Z(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Fr(this,P,m),p=se(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),or(this,p),j&&(this.R?m="headers="+Gs(is(j))+"&"+m:this.u&&Vn(p,this.u,j)),kr(this.h,P),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),P.U=!0,Wn(P,p,null)):Wn(P,p,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Ks(this.h)||Oo(this))};function Oo(u,m){var p;m?p=m.l:p=u.V++;const T=se(u.J);Qt(T,"SID",u.M),Qt(T,"RID",p),Qt(T,"AID",u.K),or(u,T),u.u&&u.o&&Vn(T,u.u,u.o),p=new kn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Fr(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),kr(u.h,p),Wn(p,T,m)}function or(u,m){u.H&&Mt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Mt({},function(p,T){Qt(m,T,p)})}function Fr(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const Wt=["count="+p];At==-1?p>0?(At=P[0].g,Wt.push("ofs="+At)):At=0:Wt.push("ofs="+At);let Ht=!0;for(let fe=0;fe<p;fe++){var j=P[fe].g;const hn=P[fe].map;if(j-=At,j<0)At=Math.max(0,P[fe].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var nt=hn instanceof Map?hn:Object.entries(hn);for(const[si,qn]of nt){let Hn=qn;g(qn)&&(Hn=Rn(qn)),Wt.push(j+si+"="+encodeURIComponent(Hn))}}catch(si){throw Wt.push(j+"type="+encodeURIComponent("_badmap")),si}}catch{T&&T(hn)}}if(Ht){nt=Wt.join("&");break t}}nt=void 0}return u=u.i.splice(0,p),m.G=u,nt}function xo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||S(),Et||(mt(),Et=!0),I.add(m,u),u.A=0}}function Ja(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Yi(_(u.Da,u),Lo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Uo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Yi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),ii(this),Uo(this))};function Wa(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Uo(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=se(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&Vn(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ai(se(m)),p.u=null,p.R=!0,Zi(p,u)}r.Va=function(){this.C!=null&&(this.C=null,ii(this),Ja(this),ue(19))};function Qr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tl(u,m){var p=null;if(u.g==m){Qr(u),Wa(u),u.g=null;var T=2}else if(Xs(u.h,m))p=m.G,Ti(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Ur(),_e(T,new wo(T,p)),lr(u)}else xo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&qc(u,m)||T==2&&Ja(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),P){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Lo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const P=!T;T=new Bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ji(T,"https"),Ai(T),P?Za(T.toString(),p):es(T.toString(),p)}else ue(2);u.I=0,u.l&&u.l.pa(m),Po(u),ar(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Po(u){if(u.I=0,u.ja=[],u.l){const m=Br(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,p){var T=p instanceof Bn?se(p):new Bn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Zs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new Bn(null);T&&Ji(j,T),m&&(j.g=m),P&&Zs(j,P),p&&(j.h=p),T=j}return p=u.G,m=u.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",u.ka),or(u,T),T}function Yr(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Js({ab:p})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}r=ko.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Kr(){}Kr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new Gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ss(this)}C(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){rr(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Rn(u),u=p);m.i.push(new Bc(m.Ya++,u)),m.I==3&&lr(m)},en.prototype.N=function(){this.g.l=null,delete this.j,rr(this.g),delete this.g,en.Z.N.call(this)};function el(u){Gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(el,Gi);function Bo(){zn.call(this),this.status=1}C(Bo,zn);function ss(u){this.g=u}C(ss,ko),ss.prototype.ra=function(){_e(this.g,"a")},ss.prototype.qa=function(u){_e(this.g,new el(u))},ss.prototype.pa=function(u){_e(this.g,new Bo)},ss.prototype.oa=function(){_e(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_v=function(){return new Kr},yv=function(){return Ur()},pv=Cn,nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Yu=ce,Pe.COMPLETE="complete",gv=Pe,bo.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Ql=bo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,mv=$t}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Ky="@firebase/firestore",Xy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Ad("@firebase/firestore");function Sa(){return Dr.logLevel}function rt(r,...e){if(Dr.logLevel<=Lt.DEBUG){const i=e.map(bd);Dr.debug(`Firestore (${La}): ${r}`,...i)}}function ji(r,...e){if(Dr.logLevel<=Lt.ERROR){const i=e.map(bd);Dr.error(`Firestore (${La}): ${r}`,...i)}}function Va(r,...e){if(Dr.logLevel<=Lt.WARN){const i=e.map(bd);Dr.warn(`Firestore (${La}): ${r}`,...i)}}function bd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,vv(r,a,i)}function vv(r,e,i){let a=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ji(a),new Error(a)}function Pt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||vv(e,o,a)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Pt(typeof a.accessToken=="string",31837,{l:a}),new Ev(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class XA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new XA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $A{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Zy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=JA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Vt(r,e){return r<e?-1:r>e?1:0}function id(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Gf(o)===Gf(h)?Vt(o,h):Gf(o)?1:-1}return Vt(r.length,e.length)}const WA=55296,tS=57343;function Gf(r){const e=r.charCodeAt(0);return e>=WA&&e<=tS}function Na(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class ci{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ft(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ci.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=ci.isNumericId(e),o=ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ci.extractNumericId(e).compare(ci.extractNumericId(i)):id(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class te extends ci{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ci{construct(e,i,a){return new qe(e,i,a)}static isValidIdentifier(e){return eS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new qe([$y])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(te.fromString(e))}static fromName(e){return new dt(te.fromString(e).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,e,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iS(r,e,i,a){if(e===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Jy(r){if(!dt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Tv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ft(12329,{type:typeof r})}function Cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e){const i={typeString:r};return e&&(i.value=e),i}function yo(r,e){if(!Tv(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-62135596800,t_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*t_);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wy)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ae("string",ee._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function sS(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new Os(o,dt.empty(),e)}function rS(r){return new Os(r.readTime,r.key,ro)}class Os{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Os(_t.min(),dt.empty(),ro)}static max(){return new Os(_t.max(),dt.empty(),ro)}}function aS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==lS)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,a)=>{i(e)}))}static reject(e){return new K(((i,a)=>{a(e)}))}static waitFor(e){return new K(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const a of e)i=i.next((o=>o?K.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new K(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function uS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function _o(r){return r==null}function ec(r){return r===0&&1/r==-1/0}function cS(r){return typeof r=="number"&&Number.isInteger(r)&&!ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="";function hS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=e_(e)),e=fS(r.get(i),e);return e_(e)}function fS(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Av:i+="";break;default:i+=h}}return i}function e_(r){return r+Av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Bs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Sv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new je(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new En([])}unionWith(e){let i=new Ie(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new En(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new bv("Invalid base64 string: "+h):h}})(e);return new He(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const dS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=dS.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Us(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="server_timestamp",Rv="__type__",Cv="__previous_value__",Dv="__local_write_time__";function Dd(r){return(r?.mapValue?.fields||{})[Rv]?.stringValue===wv}function _c(r){const e=r.mapValue.fields[Cv];return Dd(e)?_c(e):e}function ao(r){const e=xs(r.mapValue.fields[Dv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,a,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const nc="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__type__",gS="__max__",Hu={mapValue:{}},Vv="__vector__",ic="value";function Ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dd(r)?4:yS(r)?9007199254740991:pS(r)?10:11:ft(28295,{value:r})}function gi(r,e){if(r===e)return!0;const i=Ls(r);if(i!==Ls(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=xs(o.timestampValue),g=xs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Us(o.bytesValue).isEqual(Us(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Na(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(n_(d)!==n_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!gi(d[v],g[v])))return!1;return!0})(r,e);default:return ft(52216,{left:r})}}function oo(r,e){return(r.values||[]).find((i=>gi(i,e)))!==void 0}function Ma(r,e){if(r===e)return 0;const i=Ls(r),a=Ls(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return s_(r.timestampValue,e.timestampValue);case 4:return s_(ao(r),ao(e));case 5:return id(r.stringValue,e.stringValue);case 6:return(function(h,d){const g=Us(h),v=Us(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Vt(g[_],v[_]);if(A!==0)return A}return Vt(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Vt(ge(h.latitude),ge(d.latitude));return g!==0?g:Vt(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return r_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ic]?.arrayValue,A=v[ic]?.arrayValue,C=Vt(_?.values?.length||0,A?.values?.length||0);return C!==0?C:r_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Hu.mapValue&&d===Hu.mapValue)return 0;if(h===Hu.mapValue)return 1;if(d===Hu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const M=id(v[C],A[C]);if(M!==0)return M;const F=Ma(g[v[C]],_[A[C]]);if(F!==0)return F}return Vt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function s_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=xs(r),a=xs(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function r_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ma(i[o],a[o]);if(h)return h}return Vt(i.length,a.length)}function Oa(r){return sd(r)}function sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=xs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Us(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=sd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"})(r.mapValue):ft(61005,{value:r})}function Ku(r){switch(Ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(r);return e?16+Ku(e):16;case 5:return 2*r.stringValue.length;case 6:return Us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Ku(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Bs(a.fields,((h,d)=>{o+=h.length+Ku(d)})),o})(r.mapValue);default:throw ft(13486,{value:r})}}function rd(r){return!!r&&"integerValue"in r}function Id(r){return!!r&&"arrayValue"in r}function a_(r){return!!r&&"nullValue"in r}function l_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xu(r){return!!r&&"mapValue"in r}function pS(r){return(r?.mapValue?.fields||{})[Iv]?.stringValue===Vv}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Bs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=$l(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(r.arrayValue.values[i]);return e}return{...r}}function yS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=qe.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=$l(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Bs(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new sn($l(this.value))}}function Nv(r){const e=[];return Bs(r.fields,((i,a)=>{const o=new qe([i]);if(Xu(a)){const h=Nv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ue(e,0,_t.min(),_t.min(),_t.min(),sn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ue(e,1,i,_t.min(),a,o,0)}static newNoDocument(e,i){return new Ue(e,2,i,_t.min(),_t.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ue(e,3,i,_t.min(),_t.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function o_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Ma(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!gi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function _S(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{}class Ce extends Mv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new ES(e,i,a):i==="array-contains"?new SS(e,a):i==="in"?new bS(e,a):i==="not-in"?new wS(e,a):i==="array-contains-any"?new RS(e,a):new Ce(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new TS(e,a):new AS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ma(i,this.value)):i!==null&&Ls(this.value)===Ls(i)&&this.matchesComparison(Ma(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new pi(e,i)}matches(e){return Ov(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(r){return r.op==="and"}function xv(r){return vS(r)&&Ov(r)}function vS(r){for(const e of r.filters)if(e instanceof pi)return!1;return!0}function ad(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Oa(r.value);if(xv(r))return r.filters.map((e=>ad(e))).join(",");{const e=r.filters.map((i=>ad(i))).join(",");return`${r.op}(${e})`}}function Uv(r,e){return r instanceof Ce?(function(a,o){return o instanceof Ce&&a.op===o.op&&a.field.isEqual(o.field)&&gi(a.value,o.value)})(r,e):r instanceof pi?(function(a,o){return o instanceof pi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&Uv(d,o.filters[g])),!0):!1})(r,e):void ft(19439)}function Lv(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Oa(i.value)}`})(r):r instanceof pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"})(r):"Filter"}class ES extends Ce{constructor(e,i,a){super(e,i,a),this.key=dt.fromName(a.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class TS extends Ce{constructor(e,i){super(e,"in",i),this.keys=Pv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AS extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=Pv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Pv(r,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class SS extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&oo(i.arrayValue,this.value)}}class bS extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class wS extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class RS extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>oo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function c_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new CS(r,e,i,a,o,h,d)}function Vd(r){const e=Tt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ad(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),_o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Oa(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Oa(a))).join(",")),e.Te=i}return e.Te}function Nd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_S(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Uv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function ld(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DS(r,e,i,a,o,h,d,g){return new vc(r,e,i,a,o,h,d,g)}function Md(r){return new vc(r)}function h_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IS(r){return r.collectionGroup!==null}function Jl(r){const e=Tt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rc(h,a))})),i.has(qe.keyField().canonicalString())||e.Ie.push(new rc(qe.keyField(),a))}return e.Ie}function fi(r){const e=Tt(r);return e.Ee||(e.Ee=VS(e,Jl(r))),e.Ee}function VS(r,e){if(r.limitType==="F")return c_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new rc(o.field,h)}));const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return c_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function od(r,e,i){return new vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ec(r,e){return Nd(fi(r),fi(e))&&r.limitType===e.limitType}function zv(r){return`${Vd(fi(r))}|lt:${r.limitType}`}function ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Lv(o))).join(", ")}]`),_o(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Oa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Oa(o))).join(",")),`Target(${a})`})(fi(r))}; limitType=${r.limitType})`}function Tc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):dt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of Jl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,Jl(a),o)||a.endAt&&!(function(d,g,v){const _=o_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,Jl(a),o))})(r,e)}function NS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kv(r){return(e,i)=>{let a=!1;for(const o of Jl(r)){const h=MS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function MS(r,e,i){const a=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ma(v,_):ft(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new ae(dt.comparator);function qi(){return OS}const Bv=new ae(dt.comparator);function Yl(...r){let e=Bv;for(const i of r)e=e.insert(i.key,i);return e}function jv(r){let e=Bv;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function wr(){return Wl()}function qv(){return Wl()}function Wl(){return new Mr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xS=new ae(dt.comparator),US=new Ie(dt.comparator);function Nt(...r){let e=US;for(const i of r)e=e.add(i);return e}const LS=new Ie(Vt);function PS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Hv(r){return{integerValue:""+r}}function zS(r,e){return cS(e)?Hv(e):Od(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function kS(r,e,i){return r instanceof uo?(function(o,h){const d={fields:{[Rv]:{stringValue:wv},[Dv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Dd(h)&&(h=_c(h)),h&&(d.fields[Cv]=h),{mapValue:d}})(i,e):r instanceof co?Fv(r,e):r instanceof ho?Qv(r,e):(function(o,h){const d=Gv(o,h),g=f_(d)+f_(o.Ae);return rd(d)&&rd(o.Ae)?Hv(g):Od(o.serializer,g)})(r,e)}function BS(r,e,i){return r instanceof co?Fv(r,e):r instanceof ho?Qv(r,e):i}function Gv(r,e){return r instanceof ac?(function(a){return rd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class uo extends Ac{}class co extends Ac{constructor(e){super(),this.elements=e}}function Fv(r,e){const i=Yv(e);for(const a of r.elements)i.some((o=>gi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class ho extends Ac{constructor(e){super(),this.elements=e}}function Qv(r,e){let i=Yv(e);for(const a of r.elements)i=i.filter((o=>!gi(o,a)));return{arrayValue:{values:i}}}class ac extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(r){return ge(r.integerValue||r.doubleValue)}function Yv(r){return Id(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.field=e,this.transform=i}}function qS(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof co&&o instanceof co||a instanceof ho&&o instanceof ho?Na(a.elements,o.elements,gi):a instanceof ac&&o instanceof ac?gi(a.Ae,o.Ae):a instanceof uo&&o instanceof uo})(r.transform,e.transform)}class HS{constructor(e,i){this.version=e,this.transformResults=i}}class un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sc{}function Kv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xd(r.key,un.none()):new vo(r.key,r.data,un.none());{const i=r.data,a=sn.empty();let o=new Ie(qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new js(r.key,a,new En(o.toArray()),un.none())}}function GS(r,e,i){r instanceof vo?(function(o,h,d){const g=o.value.clone(),v=m_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof js?(function(o,h,d){if(!Zu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=m_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Xv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function to(r,e,i,a){return r instanceof vo?(function(h,d,g,v){if(!Zu(h.precondition,d))return g;const _=h.value.clone(),A=g_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof js?(function(h,d,g,v){if(!Zu(h.precondition,d))return g;const _=g_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Xv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,e,i,a):(function(h,d,g){return Zu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function FS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Gv(a.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(a.field,h))}return i||null}function d_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Na(a,o,((h,d)=>qS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vo extends Sc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends Sc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Xv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function m_(r,e,i){const a=new Map;Pt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,BS(d,g,i[o]))}return a}function g_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,kS(h,d,e))}return a}class xd extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&GS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=to(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=qv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Kv(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,((i,a)=>d_(i,a)))&&Na(this.baseMutations,e.baseMutations,((i,a)=>d_(i,a)))}}class Ud{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Pt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return xS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Ud(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Ut;function $v(r){switch(r){case $.OK:return ft(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ft(15467,{code:r})}}function Jv(r){if(r===void 0)return ji("GRPC error has no .code"),$.UNKNOWN;switch(r){case Te.OK:return $.OK;case Te.CANCELLED:return $.CANCELLED;case Te.UNKNOWN:return $.UNKNOWN;case Te.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Te.INTERNAL:return $.INTERNAL;case Te.UNAVAILABLE:return $.UNAVAILABLE;case Te.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Te.NOT_FOUND:return $.NOT_FOUND;case Te.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Te.ABORTED:return $.ABORTED;case Te.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Te.DATA_LOSS:return $.DATA_LOSS;default:return ft(39323,{code:r})}}(Ut=Te||(Te={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Is([4294967295,4294967295],0);function p_(r){const e=XS().encode(r),i=new dv;return i.update(e),new Uint8Array(i.digest())}function y_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Is([i,a],0),new Is([o,h],0)]}class Ld{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Is.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Is.fromNumber(a)));return o.compare(ZS)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p_(e),[a,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=p_(e),[a,o]=y_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bc(_t.min(),o,new ae(Vt),qi(),Nt())}}class Eo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Eo(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Wv{constructor(e,i){this.targetId=e,this.Ce=i}}class t0{constructor(e,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class __{constructor(){this.ve=0,this.Fe=v_(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),a=Nt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ft(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=v_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $S{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=Gu(),this.He=Gu(),this.Ye=new ae(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ld(h))if(a===0){const d=new dt(h.path);this.et(i,d,Ue.newNoDocument(d,_t.min()))}else Pt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Us(a).toUint8Array()}catch(v){if(v instanceof bv)return Va("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ld(d,o,h)}catch(v){return Va(v instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ld(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ue.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Nt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new bc(e,i,this.Ye,this.je,a);return this.je=qi(),this.Je=Gu(),this.He=Gu(),this.Ye=new ae(Vt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new __,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new __),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gu(){return new ae(dt.comparator)}function v_(){return new ae(dt.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},WS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tb={and:"AND",or:"OR"};class eb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ud(r,e){return r.useProto3Json||_o(e)?e:{value:e}}function lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nb(r,e){return lc(r,e.toTimestamp())}function Tn(r){return Pt(!!r,49232),_t.fromTimestamp((function(i){const a=xs(i);return new ee(a.seconds,a.nanos)})(r))}function Pd(r,e){return cd(r,e).canonicalString()}function cd(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function n0(r){const e=te.fromString(r);return Pt(o0(e),10190,{key:e.toString()}),e}function oc(r,e){return Pd(r.databaseId,e.path)}function eo(r,e){const i=n0(e);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(s0(i))}function i0(r,e){return Pd(r.databaseId,e)}function ib(r){const e=n0(r);return e.length===4?te.emptyPath():s0(e)}function hd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function E_(r,e,i){return{name:oc(r,e),fields:i.value.mapValue.fields}}function sb(r,e){return"found"in e?(function(a,o){Pt(!!o.found,43571),o.found.name,o.found.updateTime;const h=eo(a,o.found.name),d=Tn(o.found.updateTime),g=o.found.createTime?Tn(o.found.createTime):_t.min(),v=new sn({mapValue:{fields:o.found.fields}});return Ue.newFoundDocument(h,d,g,v)})(r,e):"missing"in e?(function(a,o){Pt(!!o.missing,3894),Pt(!!o.readTime,22933);const h=eo(a,o.missing),d=Tn(o.readTime);return Ue.newNoDocument(h,d)})(r,e):ft(7234,{result:e})}function rb(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:Jv(_.code);return new ut(A,_.message||"")})(d);i=new t0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=eo(r,a.document.name),h=Tn(a.document.updateTime),d=a.document.createTime?Tn(a.document.createTime):_t.min(),g=new sn({mapValue:{fields:a.document.fields}}),v=Ue.newFoundDocument(o,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new $u(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=eo(r,a.document),h=a.readTime?Tn(a.readTime):_t.min(),d=Ue.newNoDocument(o,h),g=a.removedTargetIds||[];i=new $u([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=eo(r,a.document),h=a.removedTargetIds||[];i=new $u([],h,o,null)}else{if(!("filter"in e))return ft(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new KS(o,h),g=a.targetId;i=new Wv(g,d)}}return i}function r0(r,e){let i;if(e instanceof vo)i={update:E_(r,e.key,e.value)};else if(e instanceof xd)i={delete:oc(r,e.key)};else if(e instanceof js)i={update:E_(r,e.key,e.data),updateMask:mb(e.fieldMask)};else{if(!(e instanceof Zv))return ft(16599,{Vt:e.type});i={verify:oc(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof uo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:nb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(r,e.precondition)),i}function ab(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Tn(o.updateTime):Tn(h);return d.isEqual(_t.min())&&(d=Tn(h)),new HS(d,o.transformResults||[])})(i,e)))):[]}function lb(r,e){return{documents:[i0(r,e.path)]}}function ob(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=i0(r,o);const h=(function(_){if(_.length!==0)return l0(pi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:wa(M.field),direction:hb(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ud(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ub(r){let e=ib(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Pt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(C){const M=a0(C);return M instanceof pi&&xv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((M=>(function(et){return new rc(Ra(et.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(C){let M;return M=typeof C=="object"?C.value:C,_o(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(C){const M=!!C.before,F=C.values||[];return new sc(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const M=!C.before,F=C.values||[];return new sc(F,M)})(i.endAt)),DS(e,o,d,h,g,"F",v,_)}function cb(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function a0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ra(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ra(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ra(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Ra(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return pi.create(i.compositeFilter.filters.map((a=>a0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(r):ft(30097,{filter:r})}function hb(r){return JS[r]}function fb(r){return WS[r]}function db(r){return tb[r]}function wa(r){return{fieldPath:r.canonicalString()}}function Ra(r){return qe.fromServerFormat(r.fieldPath)}function l0(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(l_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(i.field),op:fb(i.op),value:i.value}}})(r):r instanceof pi?(function(i){const a=i.getFilters().map((o=>l0(o)));return a.length===1?a[0]:{compositeFilter:{op:db(i.op),filters:a}}})(r):ft(54877,{filter:r})}function mb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function o0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i,a,o,h=_t.min(),d=_t.min(),g=He.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.yt=e}}function pb(r){const e=ub({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.Cn=new _b}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Os.min())}updateCollectionGroup(e,i,a){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class _b{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ie(te.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(u0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xa(0)}static cr(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",vb=1048576;function S_([r,e],[i,a]){const o=Vt(r,i);return o===0?Vt(e,a):o}class Eb{constructor(e){this.Ir=e,this.buffer=new Ie(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();S_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Tb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){za(i)?rt(A_,"Ignoring IndexedDB error during garbage collection: ",i):await Pa(i)}await this.Vr(3e5)}))}}class Ab{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(yc.ce);const a=new Eb(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(T_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(a=C,g=Date.now(),this.removeTargets(e,a,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((C=>(_=Date.now(),Sa()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C}))))}}function Sb(r,e){return new Ab(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.changes=new Mr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&to(a.mutation,o,En.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Nt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Nt()){const o=wr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Yl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=wr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Nt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=qi();const d=Wl(),g=(function(){return Wl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof js)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),to(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,En.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new wb(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Wl();let o=new ae(((d,g)=>d-g)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||En.empty();A=g.applyToLocalView(_,A),a.set(v,A);const C=(o.get(g.batchId)||Nt()).add(v);o=o.insert(g.batchId,C)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=qv();A.forEach((M=>{if(!h.has(M)){const F=Kv(i.get(M),a.get(M));F!==null&&C.set(M,F),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):IS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):K.resolve(wr());let g=ro,v=h;return d.next((_=>K.forEach(_,((A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Nt()))).next((A=>({batchId:g,changes:jv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((a=>{let o=Yl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,h).next((g=>K.forEach(g,(v=>{const _=(function(C,M){return new vc(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((C,M)=>{d=d.insert(C,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ue.newInvalidDocument(A)))}));let g=Yl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&to(A.mutation,_,En.empty(),ee.now()),Tc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Tn(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:pb(o.bundledQuery),readTime:Tn(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.overlays=new ae(dt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const a=wr();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(e,i,a){const o=wr(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=wr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=wr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return K.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new YS(i,a));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.Qr=new Ie(xe.$r),this.Ur=new Ie(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new xe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new dt(new te([])),a=new xe(i,e),o=new xe(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new te([])),a=new xe(i,e),o=new xe(i,e+1);let h=Nt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new xe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(xe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Cd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ie(Vt);return i.forEach((o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;dt.isDocumentKey(h)||(h=h.child(""));const d=new xe(new dt(h),0);let g=new Ie(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),K.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,(o=>{const h=new xe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new xe(i,0),o=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.ri=e,this.docs=(function(){return new ae(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Ue.newInvalidDocument(i))}getEntries(e,i){let a=qi();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ue.newInvalidDocument(o))})),K.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=qi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||aS(rS(A),a)<=0||(o.has(A.key)||Tc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,a,o){ft(9500)}ii(e,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Mb(this)}getSize(e){return K.resolve(this.size)}}class Mb extends bb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.persistence=e,this.si=new Mr((i=>Vd(i)),Nd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new zd,this.targetCount=0,this.ai=xa.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new xa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i){this.ui={},this.overlays={},this.ci=new yc(0),this.li=!1,this.li=!0,this.hi=new Ib,this.referenceDelegate=e(this),this.Pi=new Ob(this),this.indexManager=new yb,this.remoteDocumentCache=(function(o){return new Nb(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new gb(i),this.Ii=new Cb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Db,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Vb(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const o=new xb(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class xb extends oS{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ri=new zd,this.Vi=null}static mi(e){return new kd(e)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(a=>{const o=dt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new Mr((a=>hS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Sb(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ku(e.data.value)),i}br(e,i,a){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Bd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R1()?8:uS(S1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Ub;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Sa()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Sa()<=Lt.DEBUG&&rt("QueryEngine","Query:",ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Sa()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(i))):K.resolve())}ys(e,i){if(h_(i))return K.resolve(null);let a=fi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=od(i,null,"F"),a=fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Nt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,od(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return h_(i)||o.isEqual(_t.min())?K.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?K.resolve(null):(Sa()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ba(i)),this.vs(e,d,i,sS(o,ro)).next((g=>g)))}))}Ds(e,i){let a=new Ie(kv(e));return i.forEach(((o,h)=>{Tc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Sa()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ba(i)),this.ps.getDocumentsMatchingQuery(e,i,Os.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",Pb=3e8;class zb{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(Vt),this.xs=new Mr((h=>Vd(h)),Nd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function kb(r,e,i,a){return new zb(r,e,i,a)}async function h0(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Nt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Bb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const C=_.batch,M=C.keys();let F=K.resolve();return M.forEach((et=>{F=F.next((()=>A.getEntry(v,et))).next((st=>{const W=_.docVersions.get(et);Pt(W!==null,48541),st.version.compareTo(W)<0&&(C.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,C)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function f0(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function jb(r,e){const i=Tt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,C)=>{const M=o.get(C);if(!M)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C))));let F=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?F=F.withResumeToken(He.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(C,F),(function(st,W,bt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=Pb?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0})(M,F,A)&&g.push(i.Pi.updateTargetData(h,F))}));let v=qi(),_=Nt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(qb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return K.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function qb(r,e,i){let a=Nt(),o=Nt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=qi();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):rt(jd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Hb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Gb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Rs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fd(r,e,i){const a=Tt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!za(d))throw d;rt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function b_(r,e,i){const a=Tt(r);let o=_t.min(),h=Nt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const C=Tt(v),M=C.xs.get(A);return M!==void 0?K.resolve(C.Ms.get(M)):C.Pi.getTargetData(_,A)})(a,d,fi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Nt()))).next((g=>(Fb(a,NS(e),g),{documents:g,Qs:h})))))}function Fb(r,e,i){let a=r.Os.get(e)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class w_{constructor(){this.activeTargetIds=PS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qb{constructor(){this.Mo=new w_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function dd(){return Fu===null?Fu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",Kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=dd(),g=this.zo(e,i.toUriEncodedString());rt(Ff,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Td(_);return this.Jo(e,g,v,a,A).then((C=>(rt(Ff,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw Va(Ff,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",a),C}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+La})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Kb[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class $b extends Xb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=dd();return new Promise(((g,v)=>{const _=new mv;_.setWithCredentials(!0),_.listenOnce(gv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yu.NO_ERROR:const C=_.getResponseJson();rt(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Yu.TIMEOUT:rt(Ke,`RPC '${e}' ${d} timed out`),v(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const M=_.getStatus();if(rt(Ke,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const et=F?.error;if(et&&et.status&&et.message){const st=(function(bt){const St=bt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(St)>=0?St:$.UNKNOWN})(et.status);v(new ut(st,et.message))}else v(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut($.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ke,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);rt(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=dd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_v(),g=yv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(Ke,`Creating RPC '${e}' stream ${o}: ${A}`,v);const C=d.createWebChannel(A,v);this.I_(C);let M=!1,F=!1;const et=new Zb({Yo:W=>{F?rt(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(rt(Ke,`Opening RPC '${e}' stream ${o} transport.`),C.open(),M=!0),rt(Ke,`RPC '${e}' stream ${o} sending:`,W),C.send(W))},Zo:()=>C.close()}),st=(W,bt,St)=>{W.listen(bt,(yt=>{try{St(yt)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return st(C,Ql.EventType.OPEN,(()=>{F||(rt(Ke,`RPC '${e}' stream ${o} transport opened.`),et.o_())})),st(C,Ql.EventType.CLOSE,(()=>{F||(F=!0,rt(Ke,`RPC '${e}' stream ${o} transport closed`),et.a_(),this.E_(C))})),st(C,Ql.EventType.ERROR,(W=>{F||(F=!0,Va(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),et.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),st(C,Ql.EventType.MESSAGE,(W=>{if(!F){const bt=W.data[0];Pt(!!bt,16349);const St=bt,yt=St?.error||St[0]?.error;if(yt){rt(Ke,`RPC '${e}' stream ${o} received error:`,yt);const jt=yt.status;let mt=(function(S){const w=Te[S];if(w!==void 0)return Jv(w)})(jt),Et=yt.message;mt===void 0&&(mt=$.INTERNAL,Et="Unknown error status: "+jt+" with message "+yt.message),F=!0,et.a_(new ut(mt,Et)),C.close()}else rt(Ke,`RPC '${e}' stream ${o} received:`,bt),et.u_(bt)}})),st(g,pv.STAT_EVENT,(W=>{W.stat===nd.PROXY?rt(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===nd.NOPROXY&&rt(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r){return new eb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class d0{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qd(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(D_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jb extends d0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rb(this.serializer,e),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Tn(d.readTime):_t.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=ld(v)?{documents:lb(h,v)}:{query:ob(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=e0(h,d.resumeToken);const _=ud(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=ud(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=cb(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hd(this.serializer),i.removeTarget=e,this.q_(i)}}class Wb extends d0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ab(e.writeResults,e.commitTime),a=Tn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>r0(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class e2 extends t2{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,cd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut($.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,cd(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="RemoteStore";class i2{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Or(this)&&(rt(Ir,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await To(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)})(this))}))})),this.Ra=new n2(a,o)}}async function Rc(r){if(Or(r))for(const e of r.da)await e(!0)}async function To(r){for(const e of r.da)await e(!1)}function m0(r,e){const i=Tt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qd(i)?Fd(i):ka(i).O_()&&Gd(i,e))}function Hd(r,e){const i=Tt(r),a=ka(i);i.Ia.delete(e),a.O_()&&g0(i,e),i.Ia.size===0&&(a.O_()?a.L_():Or(i)&&i.Ra.set("Unknown"))}function Gd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ka(r).Y_(e)}function g0(r,e){r.Va.Ue(e),ka(r).Z_(e)}function Fd(r){r.Va=new $S({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ka(r).start(),r.Ra.ua()}function Qd(r){return Or(r)&&!ka(r).x_()&&r.Ia.size>0}function Or(r){return Tt(r).Ea.size===0}function p0(r){r.Va=void 0}async function s2(r){r.Ra.set("Online")}async function r2(r){r.Ia.forEach(((e,i)=>{Gd(r,e)}))}async function a2(r,e){p0(r),Qd(r)?(r.Ra.ha(e),Fd(r)):r.Ra.set("Unknown")}async function l2(r,e,i){if(r.Ra.set("Online"),e instanceof t0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){rt(Ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await cc(r,a)}else if(e instanceof $u?r.Va.Ze(e):e instanceof Wv?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const a=await f0(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),g0(h,v);const C=new Rs(A.target,v,_,A.sequenceNumber);Gd(h,C)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Ir,"Failed to raise snapshot:",a),await cc(r,a)}}async function cc(r,e,i){if(!za(e))throw e;r.Ea.add(1),await To(r),r.Ra.set("Offline"),i||(i=()=>f0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Ir,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rc(r)}))}function y0(r,e){return e().catch((i=>cc(r,i,e)))}async function Cc(r){const e=Tt(r),i=Ps(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;o2(e);)try{const o=await Hb(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,u2(e,o)}catch(o){await cc(e,o)}_0(e)&&v0(e)}function o2(r){return Or(r)&&r.Ta.length<10}function u2(r,e){r.Ta.push(e);const i=Ps(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _0(r){return Or(r)&&!Ps(r).x_()&&r.Ta.length>0}function v0(r){Ps(r).start()}async function c2(r){Ps(r).ra()}async function h2(r){const e=Ps(r);for(const i of r.Ta)e.ea(i.mutations)}async function f2(r,e,i){const a=r.Ta.shift(),o=Ud.from(a,e,i);await y0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cc(r)}async function d2(r,e){e&&Ps(r).X_&&await(async function(a,o){if((function(d){return $v(d)&&d!==$.ABORTED})(o.code)){const h=a.Ta.shift();Ps(a).B_(),await y0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Cc(a)}})(r,e),_0(r)&&v0(r)}async function I_(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),rt(Ir,"RemoteStore received new credentials");const a=Or(i);i.Ea.add(3),await To(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function m2(r,e){const i=Tt(r);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await To(i),i.Ra.set("Unknown"))}function ka(r){return r.ma||(r.ma=(function(i,a,o){const h=Tt(i);return h.sa(),new Jb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:s2.bind(null,r),t_:r2.bind(null,r),r_:a2.bind(null,r),H_:l2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Qd(r)?Fd(r):r.Ra.set("Unknown")):(await r.ma.stop(),p0(r))}))),r.ma}function Ps(r){return r.fa||(r.fa=(function(i,a,o){const h=Tt(i);return h.sa(),new Wb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:c2.bind(null,r),r_:d2.bind(null,r),ta:h2.bind(null,r),na:f2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Cc(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Ir,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Yd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kd(r,e){if(ji("AsyncQueue",`${e}: ${r}`),za(r))return new ut($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Yl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Da;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.ga=new ae(dt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ua{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ua(e,i,Da.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class p2{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=N_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function N_(){return new Mr((r=>zv(r)),Ec)}async function y2(r,e){const i=Tt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new g2,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Kd(d,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Xd(i)}async function _2(r,e){const i=Tt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function v2(r,e){const i=Tt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Xd(i)}function E2(r,e,i){const a=Tt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Xd(r){r.Ca.forEach((e=>{e.next()}))}var md,M_;(M_=md||(md={})).Ma="default",M_.Cache="cache";class T2{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ua(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class A2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=kv(e),this.tu=new Da(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new V_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,C)=>{const M=o.get(A),F=Tc(this.query,C)?C:null,et=!!M&&this.mutatedKeys.has(M.key),st=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?et!==st&&(a.track({type:3,doc:F}),W=!0):this.su(M,F)||(a.track({type:2,doc:F}),W=!0,(v&&this.eu(F,v)>0||_&&this.eu(F,_)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),W=!0):M&&!F&&(a.track({type:1,doc:M}),W=!0,(v||_)&&(g=!0)),W&&(F?(d=d.add(F),h=st?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,C)=>(function(F,et){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:W})}};return st(F)-st(et)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ua(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new T0(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new E0(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zd="SyncEngine";class S2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class b2{constructor(e){this.key=e,this.hu=!1}}class w2{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Mr((g=>zv(g)),Ec),this.Iu=new Map,this.Eu=new Set,this.du=new ae(dt.comparator),this.Au=new Map,this.Ru=new zd,this.Vu={},this.mu=new Map,this.fu=xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(r,e,i=!0){const a=C0(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await A0(a,e,i,!0),o}async function C2(r,e){const i=C0(r);await A0(i,e,!0,!1)}async function A0(r,e,i,a){const o=await Gb(r.localStore,fi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await D2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&m0(r.remoteStore,o),g}async function D2(r,e,i,a,o){r.pu=(C,M,F)=>(async function(st,W,bt,St){let yt=W.view.ru(bt);yt.Cs&&(yt=await b_(st.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,yt))));const jt=St&&St.targetChanges.get(W.targetId),mt=St&&St.targetMismatches.get(W.targetId)!=null,Et=W.view.applyChanges(yt,st.isPrimaryClient,jt,mt);return x_(st,W.targetId,Et.au),Et.snapshot})(r,C,M,F);const h=await b_(r.localStore,e,!0),d=new A2(e,h.Qs),g=d.ru(h.documents),v=Eo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);x_(r,i,_.au);const A=new S2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function I2(r,e,i){const a=Tt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Ec(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Hd(a.remoteStore,o.targetId),gd(a,o.targetId)})).catch(Pa)):(gd(a,o.targetId),await fd(a.localStore,o.targetId,!0))}async function V2(r,e){const i=Tt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hd(i.remoteStore,a.targetId))}async function N2(r,e,i){const a=z2(r);try{const o=await(function(d,g){const v=Tt(d),_=ee.now(),A=g.reduce(((F,et)=>F.add(et.key)),Nt());let C,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let et=qi(),st=Nt();return v.Ns.getEntries(F,A).next((W=>{et=W,et.forEach(((bt,St)=>{St.isValidDocument()||(st=st.add(bt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,et))).next((W=>{C=W;const bt=[];for(const St of g){const yt=FS(St,C.get(St.key).overlayedDocument);yt!=null&&bt.push(new js(St.key,yt,Nv(yt.value.mapValue),un.exists(!0)))}return v.mutationQueue.addMutationBatch(F,_,bt,g)})).next((W=>{M=W;const bt=W.applyToLocalDocumentSet(C,st);return v.documentOverlayCache.saveOverlays(F,W.batchId,bt)}))})).then((()=>({batchId:M.batchId,changes:jv(C)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(Vt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Ao(a,o.changes),await Cc(a.remoteStore)}catch(o){const h=Kd(o,"Failed to persist write");i.reject(h)}}async function S0(r,e){const i=Tt(r);try{const a=await jb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await Ao(i,a,e)}catch(a){await Pa(a)}}function O_(r,e,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,C)=>{for(const M of C.Sa)M.va(g)&&(_=!0)})),_&&Xd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function M2(r,e,i){const a=Tt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new ae(dt.comparator);d=d.insert(h,Ue.newNoDocument(h,_t.min()));const g=Nt().add(h),v=new bc(_t.min(),new Map,new ae(Vt),d,g);await S0(a,v),a.du=a.du.remove(h),a.Au.delete(e),$d(a)}else await fd(a.localStore,e,!1).then((()=>gd(a,e,i))).catch(Pa)}async function O2(r,e){const i=Tt(r),a=e.batch.batchId;try{const o=await Bb(i.localStore,e);w0(i,a,null),b0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ao(i,o)}catch(o){await Pa(o)}}async function x2(r,e,i){const a=Tt(r);try{const o=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((C=>(Pt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);w0(a,e,i),b0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ao(a,o)}catch(o){await Pa(o)}}function b0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function w0(r,e,i){const a=Tt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function gd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||R0(r,a)}))}function R0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Hd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),$d(r))}function x_(r,e,i){for(const a of i)a instanceof E0?(r.Ru.addReference(a.key,e),U2(r,a)):a instanceof T0?(rt(Zd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||R0(r,a.key)):ft(19791,{wu:a})}function U2(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Zd,"New document in limbo: "+i),r.Eu.add(a),$d(r))}function $d(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(te.fromString(e)),a=r.fu.next();r.Au.set(a,new b2(i)),r.du=r.du.insert(i,a),m0(r.remoteStore,new Rs(fi(Md(i.path)),a,"TargetPurposeLimboResolution",yc.ce))}}async function Ao(r,e,i){const a=Tt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Bd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>K.forEach(_,(M=>K.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(C,M.targetId,F))).next((()=>K.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(C,M.targetId,F)))))))))}catch(C){if(!za(C))throw C;rt(jd,"Failed to update sequence numbers: "+C)}for(const C of _){const M=C.targetId;if(!C.fromCache){const F=A.Ms.get(M),et=F.snapshotVersion,st=F.withLastLimboFreeSnapshotVersion(et);A.Ms=A.Ms.insert(M,st)}}})(a.localStore,h))}async function L2(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){rt(Zd,"User change. New user:",e.toKey());const a=await h0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new ut($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ao(i,a.Ls)}}function P2(r,e){const i=Tt(r),a=i.Au.get(e);if(a&&a.hu)return Nt().add(a.key);{let o=Nt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function C0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M2.bind(null,e),e.Pu.H_=v2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function z2(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return kb(this.persistence,new Lb,e.initialUser,this.serializer)}Cu(e){return new c0(kd.mi,this.serializer)}Du(e){return new Qb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class k2 extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof uc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Tb(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new c0((a=>uc.mi(a,i)),this.serializer)}}class pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>O_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=L2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p2})()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),a=(function(h){return new $b(h)})(e.databaseInfo);return(function(h,d,g,v){return new e2(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new i2(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return C_.v()?new C_:new Yb})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const C=new w2(o,h,d,g,v,_);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(Ir,"RemoteStore shutting down."),a.Ea.add(5),await To(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(o,h){const d=Tt(o),g={documents:h.map((C=>oc(d.serializer,C)))},v=await d.Ho("BatchGetDocuments",d.serializer.databaseId,te.emptyPath(),g,h.length),_=new Map;v.forEach((C=>{const M=sb(d.serializer,C);_.set(M.key.toString(),M)}));const A=[];return h.forEach((C=>{const M=_.get(C.toString());Pt(!!M,55234,{key:C}),A.push(M)})),A})(this.datastore,e);return i.forEach((a=>this.recordVersion(a))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new xd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,a)=>{const o=dt.fromPath(a);this.mutations.push(new Zv(o,this.precondition(o)))})),await(async function(a,o){const h=Tt(a),d={writes:o.map((g=>r0(h.serializer,g)))};await h.Go("Commit",h.serializer.databaseId,te.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw ft(50498,{Gu:e.constructor.name});i=_t.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ut($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(_t.min())?un.exists(!1):un.updateTime(i):un.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(_t.min()))throw new ut($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(i)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,i,a,o,h){this.asyncQueue=e,this.datastore=i,this.options=a,this.updateFunction=o,this.deferred=h,this.zu=a.maxAttempts,this.M_=new qd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new j2(this.datastore),i=this.Hu(e);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(a)})).catch((o=>{this.Yu(o)}))))})).catch((a=>{this.Yu(a)}))}))}Hu(e){try{const i=this.updateFunction(e);return!_o(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!$v(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class H2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{rt(zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Kd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yf(r,e){r.asyncQueue.verifyOperationInProgress(),rt(zs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await h0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function U_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await G2(r);rt(zs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>I_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>I_(e.remoteStore,o))),r._onlineComponents=e}async function G2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(zs,"Using user provided OfflineComponentProvider");try{await Yf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Va("Error using user provided cache. Falling back to memory cache: "+i),await Yf(r,new hc)}}else rt(zs,"Using default OfflineComponentProvider"),await Yf(r,new k2(void 0));return r._offlineComponents}async function Jd(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(zs,"Using user provided OnlineComponentProvider"),await U_(r,r._uninitializedComponentsProvider._online)):(rt(zs,"Using default OnlineComponentProvider"),await U_(r,new pd))),r._onlineComponents}function F2(r){return Jd(r).then((e=>e.syncEngine))}function Q2(r){return Jd(r).then((e=>e.datastore))}async function L_(r){const e=await Jd(r),i=e.eventManager;return i.onListen=R2.bind(null,e.syncEngine),i.onUnlisten=I2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=C2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=V2.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firestore.googleapis.com",z_=!0;class k_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vb)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new QA;switch(a.type){case"firstParty":return new ZA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=P_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),P_.delete(i),a.terminate())})(this),Promise.resolve()}}function Y2(r,e,i,a={}){r=Cr(r,Wd);const o=Td(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(_1(`https://${g}`),A1("Firestore",!0)),h.host!==I0&&h.host!==g&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!io(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Xe.MOCK_USER;else{_=v1(a.mockUserToken,r._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(C)}r._authCredentials=new YA(new Ev(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class De{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(yo(i,De._jsonSchema))return new De(e,a||null,new dt(te.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ae("string",De._jsonSchemaVersion),referencePath:Ae("string")};class fo extends Dc{constructor(e,i,a){super(e,i,Md(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new dt(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function K2(r,e,...i){if(r=Kn(r),arguments.length===1&&(e=wd.newId()),nS("doc","path",e),r instanceof Wd){const a=te.fromString(e,...i);return Jy(a),new De(r,null,new dt(a))}{if(!(r instanceof De||r instanceof fo))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(e,...i));return Jy(a),new De(r.firestore,r instanceof fo?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qd(this,"async_queue_retry"),this._c=()=>{const a=Qf();a&&rt(B_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!za(e))throw e;rt(B_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",q_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&ft(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class mo extends Wd{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new j_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function X2(r,e){const i=typeof r=="object"?r:cv(),a=typeof r=="string"?r:nc,o=po(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=p1("firestore");h&&Y2(o,...h)}return o}function tm(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Z2(r),r._firestoreClient}function Z2(r){const e=r._freezeSettings(),i=(function(o,h,d,g){return new mS(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,D0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new H2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(He.fromBase64String(e))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yo(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:Ae("string",vn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(yo(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Ae("string",di._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yo(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new mi(e.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Ae("string",mi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^__.*__$/;class J2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}class V0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new js(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function N0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:r})}}class em{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(N0(this.Ac)&&$2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wc(e)}Cc(e,i,a,o=!1){return new em({Ac:e,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(r){const e=r._freezeSettings(),i=wc(r._databaseId);return new W2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function O0(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);im("Data must be an object, but it was:",d,a);const g=x0(a,d);let v,_;if(h.merge)v=new En(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const M=yd(e,C,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);L0(A,M)||A.push(M)}v=new En(A),_=d.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,_=d.fieldTransforms;return new J2(new sn(g),v,_)}class Nc extends Vc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}class nm extends Vc{_toFieldTransform(e){return new jS(e.path,new uo)}isEqual(e){return e instanceof nm}}function tw(r,e,i,a){const o=r.Cc(1,e,i);im("Data must be an object, but it was:",o,a);const h=[],d=sn.empty();Bs(a,((v,_)=>{const A=sm(e,v,i);_=Kn(_);const C=o.yc(A);if(_ instanceof Nc)h.push(A);else{const M=Mc(_,C);M!=null&&(h.push(A),d.set(A,M))}}));const g=new En(h);return new V0(d,g,o.fieldTransforms)}function ew(r,e,i,a,o,h){const d=r.Cc(1,e,i),g=[yd(e,a,i)],v=[o];if(h.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)g.push(yd(e,h[M])),v.push(h[M+1]);const _=[],A=sn.empty();for(let M=g.length-1;M>=0;--M)if(!L0(_,g[M])){const F=g[M];let et=v[M];et=Kn(et);const st=d.yc(F);if(et instanceof Nc)_.push(F);else{const W=Mc(et,st);W!=null&&(_.push(F),A.set(F,W))}}const C=new En(_);return new V0(A,C,d.fieldTransforms)}function Mc(r,e){if(U0(r=Kn(r)))return im("Unsupported field value:",e,r),x0(r,e);if(r instanceof Vc)return(function(a,o){if(!N0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=Mc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:lc(o.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(a instanceof di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vn)return{bytesValue:e0(o.serializer,a._byteString)};if(a instanceof De){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof mi)return(function(d,g){return{mapValue:{fields:{[Iv]:{stringValue:Vv},[ic]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Od(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rd(a)}`)})(r,e)}function x0(r,e){const i={};return Sv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(r,((a,o)=>{const h=Mc(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function U0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof di||r instanceof vn||r instanceof De||r instanceof Vc||r instanceof mi)}function im(r,e,i){if(!U0(i)||!Tv(i)){const a=Rd(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function yd(r,e,i){if((e=Kn(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return sm(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,i)}const nw=new RegExp("[~\\*/\\[\\]]");function sm(r,e,i){if(e.search(nw)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ic(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ut($.INVALID_ARGUMENT,g+r+v)}function L0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(P0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iw extends dc{data(){return super.data()}}function P0(r,e){return typeof e=="string"?sm(r,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z0{convertValue(e,i="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Bs(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new mi(i)}convertGeoPoint(e){return new di(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=_c(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=xs(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);Pt(o0(a),9688,{name:e});const o=new lo(a.get(1),a.get(3)),h=new dt(a.popFirst(5));return o.isEqual(i)||ji(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class rw extends z0{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}class Ca{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ns extends dc{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(P0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ns._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:Ae("string",Ns._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Ju extends Ns{data(e={}){return super.data(e)}}class Ia{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ca(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ju(this._firestore,this._userDataWriter,a.key,a,new Ca(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Ju(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ca(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Ju(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ca(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:aw(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:r})}}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Ae("string",Ia._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class rm extends z0{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function lw(r,e,i){r=Cr(r,De);const a=Cr(r.firestore,mo),o=k0(r.converter,e,i);return uw(a,[O0(M0(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,un.none())])}function ow(r,...e){r=Kn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||H_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,g;if(r instanceof De)d=Cr(r.firestore,mo),g=Md(r._key.path),h={next:v=>{e[a]&&e[a](cw(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=Cr(r,Dc);d=Cr(v.firestore,mo),g=v._query;const _=new rm(d);h={next:A=>{e[a]&&e[a](new Ia(d,_,v,A))},error:e[a+1],complete:e[a+2]},sw(r._query)}return(function(_,A,C,M){const F=new B2(M),et=new T2(A,F,C);return _.asyncQueue.enqueueAndForget((async()=>y2(await L_(_),et))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>_2(await L_(_),et)))}})(tm(d),g,o,h)}function uw(r,e){return(function(a,o){const h=new Vs;return a.asyncQueue.enqueueAndForget((async()=>N2(await F2(a),o,h))),h.promise})(tm(r),e)}function cw(r,e,i){const a=i.docs.get(e._key),o=new rm(r);return new Ns(r,o,e._key,a,new Ca(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={maxAttempts:5};function Xl(r,e){if((r=Kn(r)).firestore!==e)throw new ut($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=M0(e)}get(e){const i=Xl(e,this._firestore),a=new rw(this._firestore);return this._transaction.lookup([i._key]).then((o=>{if(!o||o.length!==1)return ft(24041);const h=o[0];if(h.isFoundDocument())return new dc(this._firestore,a,h.key,h,i.converter);if(h.isNoDocument())return new dc(this._firestore,a,i._key,null,i.converter);throw ft(18433,{doc:h})}))}set(e,i,a){const o=Xl(e,this._firestore),h=k0(o.converter,i,a),d=O0(this._dataReader,"Transaction.set",o._key,h,o.converter!==null,a);return this._transaction.set(o._key,d),this}update(e,i,a,...o){const h=Xl(e,this._firestore);let d;return d=typeof(i=Kn(i))=="string"||i instanceof Ic?ew(this._dataReader,"Transaction.update",h._key,i,a,o):tw(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,d),this}delete(e){const i=Xl(e,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends fw{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Xl(e,this._firestore),a=new rm(this._firestore);return super.get(e).then((o=>new Ns(this._firestore,a,i._key,o._document,new Ca(!1,!1),i.converter)))}}function mw(r,e,i){r=Cr(r,mo);const a={...hw,...i};return(function(h){if(h.maxAttempts<1)throw new ut($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a),(function(h,d,g){const v=new Vs;return h.asyncQueue.enqueueAndForget((async()=>{const _=await Q2(h);new q2(h.asyncQueue,_,g,d,v).ju()})),v.promise})(tm(r),(o=>e(new dw(r,o))),a)}function G_(){return new nm("serverTimestamp")}(function(e,i=!0){(function(o){La=o})(OA),Ms(new ki("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new mo(new KA(a.getProvider("auth-internal")),new $A(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),hi(Ky,Xy,e),hi(Ky,Xy,"esm2020")})();const B0="@firebase/installations",am="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1e4,q0=`w:${am}`,H0="FIS_v2",gw="https://firebaseinstallations.googleapis.com/v1",pw=3600*1e3,yw="installations",_w="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vr=new pc(yw,_w,vw);function G0(r){return r instanceof ks&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0({projectId:r}){return`${gw}/projects/${r}/installations`}function Q0(r){return{token:r.token,requestStatus:2,expiresIn:Tw(r.expiresIn),creationTime:Date.now()}}async function Y0(r,e){const a=(await e.json()).error;return Vr.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function K0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Ew(r,{refreshToken:e}){const i=K0(r);return i.append("Authorization",Aw(e)),i}async function X0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function Tw(r){return Number(r.replace("s","000"))}function Aw(r){return`${H0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const a=F0(r),o=K0(r),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:H0,appId:r.appId,sdkVersion:q0},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await X0(()=>fetch(a,g));if(v.ok){const _=await v.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:Q0(_.authToken)}}else throw await Y0("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=/^[cdef][\w-]{21}$/,_d="";function Rw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Cw(r);return ww.test(i)?i:_d}catch{return _d}}function Cw(r){return bw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function J0(r,e){const i=Oc(r);W0(i,e),Dw(i,e)}function W0(r,e){const i=$0.get(r);if(i)for(const a of i)a(e)}function Dw(r,e){const i=Iw();i&&i.postMessage({key:r,fid:e}),Vw()}let Rr=null;function Iw(){return!Rr&&"BroadcastChannel"in self&&(Rr=new BroadcastChannel("[Firebase] FID Change"),Rr.onmessage=r=>{W0(r.data.key,r.data.fid)}),Rr}function Vw(){$0.size===0&&Rr&&(Rr.close(),Rr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebase-installations-database",Mw=1,Nr="firebase-installations-store";let Kf=null;function lm(){return Kf||(Kf=ov(Nw,Mw,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Nr)}}})),Kf}async function mc(r,e){const i=Oc(r),o=(await lm()).transaction(Nr,"readwrite"),h=o.objectStore(Nr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&J0(r,e.fid),e}async function tE(r){const e=Oc(r),a=(await lm()).transaction(Nr,"readwrite");await a.objectStore(Nr).delete(e),await a.done}async function xc(r,e){const i=Oc(r),o=(await lm()).transaction(Nr,"readwrite"),h=o.objectStore(Nr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&J0(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(r){let e;const i=await xc(r.appConfig,a=>{const o=Ow(a),h=xw(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===_d?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Ow(r){const e=r||{fid:Rw(),registrationStatus:0};return eE(e)}function xw(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=Uw(r,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lw(r)}:{installationEntry:e}}async function Uw(r,e){try{const i=await Sw(r,e);return mc(r.appConfig,i)}catch(i){throw G0(i)&&i.customData.serverCode===409?await tE(r.appConfig):await mc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Lw(r){let e=await F_(r.appConfig);for(;e.registrationStatus===1;)await Z0(100),e=await F_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await om(r);return a||i}return e}function F_(r){return xc(r,e=>{if(!e)throw Vr.create("installation-not-found");return eE(e)})}function eE(r){return Pw(r)?{fid:r.fid,registrationStatus:0}:r}function Pw(r){return r.registrationStatus===1&&r.registrationTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw({appConfig:r,heartbeatServiceProvider:e},i){const a=kw(r,i),o=Ew(r,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:q0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},v=await X0(()=>fetch(a,g));if(v.ok){const _=await v.json();return Q0(_)}else throw await Y0("Generate Auth Token",v)}function kw(r,{fid:e}){return`${F0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(r,e=!1){let i;const a=await xc(r.appConfig,h=>{if(!nE(h))throw Vr.create("not-registered");const d=h.authToken;if(!e&&qw(d))return h;if(d.requestStatus===1)return i=Bw(r,e),h;{if(!navigator.onLine)throw Vr.create("app-offline");const g=Gw(h);return i=jw(r,g),g}});return i?await i:a.authToken}async function Bw(r,e){let i=await Q_(r.appConfig);for(;i.authToken.requestStatus===1;)await Z0(100),i=await Q_(r.appConfig);const a=i.authToken;return a.requestStatus===0?um(r,e):a}function Q_(r){return xc(r,e=>{if(!nE(e))throw Vr.create("not-registered");const i=e.authToken;return Fw(i)?{...e,authToken:{requestStatus:0}}:e})}async function jw(r,e){try{const i=await zw(r,e),a={...e,authToken:i};return await mc(r.appConfig,a),i}catch(i){if(G0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await tE(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await mc(r.appConfig,a)}throw i}}function nE(r){return r!==void 0&&r.registrationStatus===2}function qw(r){return r.requestStatus===2&&!Hw(r)}function Hw(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+pw}function Gw(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Fw(r){return r.requestStatus===1&&r.requestTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(r){const e=r,{installationEntry:i,registrationPromise:a}=await om(e);return a?a.catch(console.error):um(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(r,e=!1){const i=r;return await Kw(i),(await um(i,e)).token}async function Kw(r){const{registrationPromise:e}=await om(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r){if(!r||!r.options)throw Xf("App Configuration");if(!r.name)throw Xf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Xf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Xf(r){return Vr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="installations",Zw="installations-internal",$w=r=>{const e=r.getProvider("app").getImmediate(),i=Xw(e),a=po(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},Jw=r=>{const e=r.getProvider("app").getImmediate(),i=po(e,iE).getImmediate();return{getId:()=>Qw(i),getToken:o=>Yw(i,o)}};function Ww(){Ms(new ki(iE,$w,"PUBLIC")),Ms(new ki(Zw,Jw,"PRIVATE"))}Ww();hi(B0,am);hi(B0,am,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="analytics",tR="firebase_id",eR="origin",nR=60*1e3,iR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new pc("analytics","Analytics",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){if(!r.startsWith(cm)){const e=An.create("invalid-gtag-resource",{gtagURL:r});return cn.warn(e.message),""}return r}function sE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function aR(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function lR(r,e){const i=aR("firebase-js-sdk-policy",{createScriptURL:rR}),a=document.createElement("script"),o=`${cm}?l=${r}&id=${e}`;a.src=i?i?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function oR(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function uR(r,e,i,a,o,h){const d=a[o];try{if(d)await e[d];else{const v=(await sE(i)).find(_=>_.measurementId===o);v&&await e[v.appId]}}catch(g){cn.error(g)}r("config",o,h)}async function cR(r,e,i,a,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await sE(i);for(const v of d){const _=g.find(C=>C.measurementId===v),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",a,o||{})}catch(h){cn.error(h)}}function hR(r,e,i,a){async function o(h,...d){try{if(h==="event"){const[g,v]=d;await cR(r,e,i,g,v)}else if(h==="config"){const[g,v]=d;await uR(r,e,i,a,g,v)}else if(h==="consent"){const[g,v]=d;r("consent",g,v)}else if(h==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){cn.error(g)}}return o}function fR(r,e,i,a,o){let h=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=hR(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function dR(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(cm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=30,gR=1e3;class pR{constructor(e={},i=gR){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rE=new pR;function yR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function _R(r){const{appId:e,apiKey:i}=r,a={method:"GET",headers:yR(i)},o=iR.replace("{app-id}",e),h=await fetch(o,a);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function vR(r,e=rE,i){const{appId:a,apiKey:o,measurementId:h}=r.options;if(!a)throw An.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:a};throw An.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new AR;return setTimeout(async()=>{g.abort()},nR),aE({appId:a,apiKey:o,measurementId:h},d,g,e)}async function aE(r,{throttleEndTimeMillis:e,backoffCount:i},a,o=rE){const{appId:h,measurementId:d}=r;try{await ER(a,e)}catch(g){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await _R(r);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!TR(v)){if(o.deleteThrottleMetadata(h),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?zy(i,o.intervalMillis,mR):zy(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),cn.debug(`Calling attemptFetch again in ${_} millis`),aE(r,A,a,o)}}function ER(r,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),a(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TR(r){if(!(r instanceof ks)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class AR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SR(r,e,i,a,o){if(o&&o.global){r("event",i,a);return}else{const h=await e,d={...a,send_to:h};r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(){if(sv())try{await rv()}catch(r){return cn.warn(An.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return cn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wR(r,e,i,a,o,h,d){const g=vR(r);g.then(M=>{i[M.measurementId]=M.appId,r.options.measurementId&&M.measurementId!==r.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>cn.error(M)),e.push(g);const v=bR().then(M=>{if(M)return a.getId()}),[_,A]=await Promise.all([g,v]);dR(h)||lR(h,_.measurementId),o("js",new Date);const C=d?.config??{};return C[eR]="firebase",C.update=!0,A!=null&&(C[tR]=A),o("config",_.measurementId,C),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Y_=[];const K_={};let Zf="dataLayer",CR="gtag",X_,lE,Z_=!1;function DR(){const r=[];if(w1()&&r.push("This is a browser extension environment."),C1()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=An.create("invalid-analytics-context",{errorInfo:e});cn.warn(i.message)}}function IR(r,e,i){DR();const a=r.options.appId;if(!a)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(no[a]!=null)throw An.create("already-exists",{id:a});if(!Z_){oR(Zf);const{wrappedGtag:h,gtagCore:d}=fR(no,Y_,K_,Zf,CR);lE=h,X_=d,Z_=!0}return no[a]=wR(r,Y_,K_,e,X_,Zf,i),new RR(r)}function VR(r=cv()){r=Kn(r);const e=po(r,gc);return e.isInitialized()?e.getImmediate():NR(r)}function NR(r,e={}){const i=po(r,gc);if(i.isInitialized()){const o=i.getImmediate();if(io(e,i.getOptions()))return o;throw An.create("already-initialized")}return i.initialize({options:e})}function MR(r,e,i,a){r=Kn(r),SR(lE,no[r.app.options.appId],e,i,a).catch(o=>cn.error(o))}const $_="@firebase/analytics",J_="0.10.18";function OR(){Ms(new ki(gc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return IR(a,o,i)},"PUBLIC")),Ms(new ki("analytics-internal",r,"PRIVATE")),hi($_,J_),hi($_,J_,"esm2020");function r(e){try{const i=e.getProvider(gc).getImmediate();return{logEvent:(a,o,h)=>MR(i,a,o,h)}}catch(i){throw An.create("interop-component-reg-failed",{reason:i})}}}OR();const xR={apiKey:"AIzaSyASowKpD20sEZPA33VG5Mxy0KuJeFIziT4",authDomain:"ruleta-colores.firebaseapp.com",projectId:"ruleta-colores",storageBucket:"ruleta-colores.firebasestorage.app",messagingSenderId:"1088398378468",appId:"1:1088398378468:web:ffe2a14beab711aed573f1",measurementId:"G-NV2GD0KQKC"},oE=uv(xR),W_=X2(oE);VR(oE);const Qu={Rojo:"#dc2626",Azul:"#2563eb",Verde:"#16a34a",Amarillo:"#eab308",Naranja:"#ea580c",Morado:"#9333ea","Blanco/Morado":"#9333ea",Rosa:"#ec4899",Violeta:"#7c3aed",Cyan:"#0891b2",Negro:"#1f2937",Blanco:"#FFFFFF",Gris:"#6b7280",Celeste:"#0ea5e9",Turquesa:"#14b8a6",Lima:"#84cc16",Dorado:"#f59e0b",Plateado:"#9ca3af",Marrón:"#92400e",Café:"#78350f",Beige:"#d6d3d1",Coral:"#f97316",Magenta:"#d946ef",Índigo:"#4f46e5",Lavanda:"#a78bfa","Rojo Oscuro":"#991b1b","Azul Claro":"#60a5fa","Verde Claro":"#4ade80","Amarillo Claro":"#fde047","Rosa Claro":"#f9a8d4","Morado Claro":"#c084fc","Verde Oscuro":"#15803d","Azul Oscuro":"#1e40af","Naranja Claro":"#fb923c",Esmeralda:"#10b981",Rubí:"#be123c",Zafiro:"#1e40af",Ámbar:"#f59e0b",Jade:"#059669",Carmesí:"#dc2626"},UR=()=>{const[r,e]=Re.useState(["Rojo","Azul","Verde","Amarillo","Naranja","Blanco/Morado","Negro","Rosa"]),[i,a]=Re.useState(""),[o,h]=Re.useState({}),[d,g]=Re.useState(!1),[v,_]=Re.useState(""),[A,C]=Re.useState([]),[M,F]=Re.useState(0),[et,st]=Re.useState(""),[W,bt]=Re.useState(null),St=Re.useRef(null),yt=0,jt=new URLSearchParams(window.location.search),mt=jt.get("mode")==="public",Et=!mt,I=jt.get("room")||"default",S=K2(W_,"rooms",I);Re.useEffect(()=>{const H=localStorage.getItem("wheelPlayerName")||"";st(H)},[]),Re.useEffect(()=>{localStorage.setItem("wheelPlayerName",et||"")},[et]),Re.useEffect(()=>{const H=async()=>{Et&&await lw(S,{colors:r,customColors:o,history:[],updatedAt:G_()},{merge:!0})},Z=ow(S,tt=>{if(tt.exists()){const ot=tt.data();e(ot.colors||[]),h(ot.customColors||{}),C(ot.history||[]),bt(ot.flash||null)}else H()});return()=>Z()},[I,Et]);const w=H=>mw(W_,async Z=>{const tt=await Z.get(S),ot=tt.exists()?tt.data():{colors:[],history:[],customColors:{},flash:null},at=H({colors:ot.colors||[],history:ot.history||[],customColors:ot.customColors||{},flash:ot.flash||null});Z.set(S,{...at,updatedAt:G_()},{merge:!0})}),O=async()=>{if(!Et)return;const H=i.trim();H&&(await w(({colors:Z,history:tt,customColors:ot,flash:at})=>Z.includes(H)?{colors:Z,history:tt,customColors:ot,flash:at}:{colors:[...Z,H],history:tt,customColors:ot,flash:at}),a(""))},V=async H=>{Et&&await w(({colors:Z,history:tt,customColors:ot})=>{const at=Z.filter(Ot=>Ot!==H),zt={...ot};return delete zt[H],{colors:at,history:tt,customColors:zt,flash:null}})},U=async(H,Z)=>{Et&&await w(({colors:tt,history:ot,customColors:at,flash:zt})=>({colors:tt,history:ot,flash:zt,customColors:{...at,[H]:Z}}))},R=(et||"").trim().length>0,qt=r.length===1&&A?.some(H=>H.color===r[0]),q=r.length>0&&!d&&R&&!qt,it=()=>{const H=(et||"").trim();if(!H){alert("Por favor, escribe tu nombre antes de girar.");return}if(r.length===0||d)return;if(r.length===1&&A?.some(zt=>zt.color===r[0])){alert("El juego ya terminó 🎉 No hay colores nuevos por sacar.");return}g(!0),_("");const Z=5+Math.random()*5,tt=M+Z*360+Math.random()*360;F(tt);const ot=1200,at=ot+100;setTimeout(async()=>{const zt=r.length;if(zt===0){g(!1);return}const Ot=360/zt,Ze=(tt%360+360)%360,yi=((yt-Ze)%360+360)%360;let Sn=Math.round(yi/Ot)%zt;Sn<0&&(Sn+=zt);const $e=r[Sn],bn=Date.now();await w(({colors:Le,history:Xn,customColors:wn})=>{if(!Le.includes($e))return{colors:Le,history:Xn,customColors:wn,flash:null};const pe=[...Xn||[],{color:$e,ts:bn,by:H}];return{colors:Le,history:pe,customColors:wn,flash:{color:$e,ts:bn,duration:ot}}}),_($e),g(!1),setTimeout(async()=>{await w(({colors:Le,history:Xn,customColors:wn,flash:pe})=>{const xr=pe&&pe.color===$e;return{colors:Le.length===1?Le:Le.filter(_e=>_e!==$e),history:Xn,customColors:wn,flash:xr?null:pe}})},at)},3e3)},ht=()=>{if(r.length===1){const tt=r[0],ot=o[tt]||Qu[tt]||"hsl(0, 70%, 50%)",at=W&&W.color===tt;return J.jsxs("g",{children:[J.jsx("circle",{cx:"150",cy:"150",r:"140",className:at?"blink-twice":"",fill:ot,stroke:"#fff",strokeWidth:"3"}),J.jsx("text",{x:"150",y:"150",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"18",fontWeight:"bold",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:tt})]},tt)}const H=360/Math.max(r.length,1),Z=-H/2;return r.map((tt,ot)=>{const at=ot*H+Z,zt=(ot+1)*H+Z,Ot=H>180?1:0,Ze=150+140*Math.cos((at-90)*Math.PI/180),yi=150+140*Math.sin((at-90)*Math.PI/180),Sn=150+140*Math.cos((zt-90)*Math.PI/180),$e=150+140*Math.sin((zt-90)*Math.PI/180),bn=["M 150 150",`L ${Ze} ${yi}`,`A 140 140 0 ${Ot} 1 ${Sn} ${$e}`,"Z"].join(" "),Le=at+H/2,Xn=o[tt]||Qu[tt]||`hsl(${ot*360/Math.max(r.length,1)}, 70%, 50%)`,wn=W&&W.color===tt;return J.jsxs("g",{children:[J.jsx("path",{d:bn,className:wn?"blink-twice":"",fill:Xn,stroke:"#fff",strokeWidth:"3"}),J.jsx("text",{x:150+80*Math.cos((Le-90)*Math.PI/180),y:150+80*Math.sin((Le-90)*Math.PI/180),textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"11",fontWeight:"bold",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:tt})]},tt)})},Mt=async()=>{Et&&(await w(({colors:H,history:Z,customColors:tt})=>({colors:[...new Set([...H,...Z.map(at=>at.color)])],history:[],customColors:tt,flash:null})),_(""),F(0))},D=()=>{const Z=`${window.location.href.split("?")[0]}?room=${I}&mode=public`;navigator.clipboard.writeText(Z).catch(()=>{}),alert("¡Link público copiado! "+Z)},X=()=>{const Z=`${window.location.href.split("?")[0]}?room=${I}`;navigator.clipboard.writeText(Z).catch(()=>{}),alert("¡Link admin copiado! "+Z)};return J.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen",children:[J.jsx("style",{children:`
        @keyframes blinkTwice {
          0%   { opacity: 1; transform: scale(1); }
          20%  { opacity: 0.4; transform: scale(1.02); }
          40%  { opacity: 1; transform: scale(1); }
          60%  { opacity: 0.4; transform: scale(1.02); }
          80%  { opacity: 1; transform: scale(1); }
          100% { opacity: 1; transform: scale(1); }
        }
        .blink-twice { animation: blinkTwice 1.2s ease-in-out; }
      `}),J.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[J.jsxs("div",{className:"text-center mb-6",children:[J.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["🎯 Ruleta de Colores",mt&&J.jsx("span",{className:"text-lg text-blue-600 font-normal",children:" - Modo Invitado"}),Et&&J.jsx("span",{className:"text-lg text-green-600 font-normal",children:" - Modo Administrador"})]}),J.jsx("p",{className:"text-gray-600",children:mt?"¡Gira la ruleta y diviértete! Solo puedes girar, no modificar colores.":"Agrega colores, gira la ruleta y comparte con tus amigos"}),J.jsxs("p",{className:"text-xs text-gray-500",children:["Sala: ",J.jsx("code",{children:I})]})]}),J.jsxs("div",{className:"mb-4 max-w-md mx-auto",children:[J.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tu nombre (requerido para girar)"}),J.jsx("input",{type:"text",value:et,onChange:H=>st(H.target.value),placeholder:"Escribe tu nombre...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),Et&&J.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[J.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:[J.jsx(xy,{size:16})," Compartir Link Público"]}),J.jsxs("button",{onClick:X,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:[J.jsx(xy,{size:16})," Compartir Link Admin"]}),J.jsxs("button",{onClick:Mt,className:"flex items-center gap-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:[J.jsx(t1,{size:16})," Reiniciar Juego"]})]}),J.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[J.jsxs("div",{className:"text-center",children:[J.jsx("div",{className:"relative inline-block mb-4",children:r.length>0?J.jsxs(J.Fragment,{children:[J.jsx("svg",{width:"300",height:"300",className:"drop-shadow-lg",children:J.jsx("g",{ref:St,style:{transform:`rotate(${M}deg)`,transformOrigin:"150px 150px",transition:d?"transform 3s cubic-bezier(0.23, 1, 0.32, 1)":"none"},children:ht()})}),J.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 z-10",children:J.jsxs("div",{className:"relative",children:[J.jsx("div",{className:"absolute top-1 left-0 w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-black opacity-30"}),J.jsx("div",{className:"w-0 h-0 border-l-[12px] border-r-[12px] border-b-[20px] border-l-transparent border-r-transparent border-b-red-600 relative z-10"}),J.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-red-600 rounded-full border-2 border-white"})]})})]}):J.jsx("div",{className:"w-72 h-72 bg-gray-200 rounded-full flex items-center justify-center",children:J.jsx("p",{className:"text-gray-500 text-center",children:Et?`Agrega colores
para comenzar`:`No hay colores
disponibles`})})}),J.jsx("button",{onClick:it,disabled:!q,className:`w-32 h-32 rounded-full text-white font-bold text-lg shadow-lg transform transition-all ${q?r.length===1?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 hover:scale-105 active:scale-95":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 hover:scale-105 active:scale-95":"bg-gray-400 cursor-not-allowed"}`,title:R?qt?"Juego finalizado":"Girar la ruleta":"Escribe tu nombre para poder girar",children:d?J.jsx(n1,{className:"animate-spin mx-auto",size:24}):qt?J.jsxs("div",{className:"text-center",children:[J.jsx("div",{children:"🏁"}),J.jsx("div",{className:"text-xs",children:"FINALIZADO"})]}):r.length===1?J.jsxs("div",{className:"text-center",children:[J.jsx("div",{children:"🏆"}),J.jsx("div",{className:"text-xs",children:"FINAL"})]}):"GIRAR"}),qt&&J.jsx("div",{className:"mt-3 text-sm text-yellow-700 bg-yellow-100 border border-yellow-200 rounded p-2",children:"🎉 Juego finalizado: ya se han extraído todos los colores."}),v&&J.jsxs("div",{className:`mt-4 p-4 border rounded-lg ${r.length===1?"bg-gradient-to-r from-yellow-100 to-orange-100 border-yellow-300":"bg-green-100 border-green-300"}`,children:[J.jsx("h3",{className:`text-lg font-bold ${r.length===1?"text-yellow-800":"text-green-800"}`,children:r.length===1?"🏆 ¡COLOR FINAL!":"¡Resultado!"}),J.jsx("p",{className:`text-2xl font-bold ${r.length===1?"text-yellow-900":"text-green-900"}`,children:v}),J.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Sacado por: ",J.jsx("span",{className:"font-semibold",children:(et||"").trim()})]})]})]}),J.jsxs("div",{children:[Et&&J.jsxs("div",{className:"mb-6",children:[J.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Agregar Color"}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),onKeyDown:H=>H.key==="Enter"&&O(),placeholder:"Escribe un color...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),J.jsx("button",{onClick:O,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:J.jsx(JT,{size:20})})]})]}),Et&&J.jsxs("div",{className:"mb-6",children:[J.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores Disponibles (",r.length,")"]}),J.jsx("div",{className:"max-h-48 overflow-y-auto",children:r.length>0?J.jsx("div",{className:"space-y-2",children:r.map((H,Z)=>J.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded",children:[J.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[J.jsx("span",{className:"flex-1",children:H}),J.jsx("input",{type:"color",value:o[H]||(Qu[H]??"#3b82f6"),onChange:tt=>U(H,tt.target.value),className:"w-8 h-8 rounded border-2 border-gray-300 cursor-pointer",title:`Cambiar color de ${H}`})]}),J.jsx("button",{onClick:()=>V(H),className:"text-red-500 hover:text-red-700 ml-2",children:J.jsx(r1,{size:16})})]},Z))}):J.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),mt&&J.jsxs("div",{className:"mb-6",children:[J.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Colores en la Ruleta (",r.length,")"]}),J.jsx("div",{className:"max-h-48 overflow-y-auto",children:r.length>0?r.map((H,Z)=>J.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded",children:[J.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:o[H]||(Qu[H]??"#3b82f6")}}),J.jsx("span",{children:H})]},Z)):J.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay colores disponibles"})})]}),J.jsxs("div",{children:[J.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Historial (",A.length,")"]}),J.jsx("div",{className:"max-h-80 md:max-h-[28rem] overflow-y-auto pr-2",children:A.length>0?A.slice().reverse().map((H,Z)=>J.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded text-sm",children:[J.jsx("span",{className:"font-medium",children:H.color}),J.jsx("span",{className:"text-gray-500 ml-2",children:new Date(H.ts).toLocaleTimeString()}),H.by&&J.jsxs("span",{className:"text-gray-600 ml-2",children:["por ",J.jsx("strong",{children:H.by})]})]},Z)):J.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aún no hay selecciones"})})]})]})]}),J.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[J.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:Et?"🔧 Instrucciones para Administrador:":"🎮 Instrucciones para Invitado:"}),Et?J.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[J.jsxs("li",{children:["1. Abre con ",J.jsx("code",{children:"?room=tuSala"})," (ej. fiesta1)."]}),J.jsx("li",{children:"2. Agrega/edita colores y comparte el link público."}),J.jsx("li",{children:"3. Todos verán la misma ruleta en tiempo real."})]}):J.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[J.jsxs("li",{children:["1. Escribe tu nombre y pulsa ",J.jsx("strong",{children:"GIRAR"}),"."]}),J.jsx("li",{children:"2. El color elegido parpadea y luego desaparece para todos."})]})]})]})]})};function LR(){return J.jsx(UR,{})}FT.createRoot(document.getElementById("root")).render(J.jsx(Re.StrictMode,{children:J.jsx(LR,{})}));
